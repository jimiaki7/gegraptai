(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();var ho={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function py(){if(Yd)return ol;Yd=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,c,h){var d=null;if(h!==void 0&&(d=""+h),c.key!==void 0&&(d=""+c.key),"key"in c){h={};for(var g in c)g!=="key"&&(h[g]=c[g])}else h=c;return c=h.ref,{$$typeof:l,type:r,key:d,ref:c!==void 0?c:null,props:h}}return ol.Fragment=n,ol.jsx=s,ol.jsxs=s,ol}var Id;function _y(){return Id||(Id=1,ho.exports=py()),ho.exports}var E=_y(),fo={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function by(){if(Xd)return re;Xd=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function V(w,L,K){this.props=w,this.context=L,this.refs=H,this.updater=K||O}V.prototype.isReactComponent={},V.prototype.setState=function(w,L){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,L,"setState")},V.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function q(){}q.prototype=V.prototype;function G(w,L,K){this.props=w,this.context=L,this.refs=H,this.updater=K||O}var P=G.prototype=new q;P.constructor=G,D(P,V.prototype),P.isPureReactComponent=!0;var ve=Array.isArray;function ee(){}var X={H:null,A:null,T:null,S:null},Ne=Object.prototype.hasOwnProperty;function ze(w,L,K){var I=K.ref;return{$$typeof:l,type:w,key:L,ref:I!==void 0?I:null,props:K}}function Ht(w,L){return ze(w.type,L,w.props)}function jt(w){return typeof w=="object"&&w!==null&&w.$$typeof===l}function it(w){var L={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(K){return L[K]})}var Ft=/\/+/g;function qt(w,L){return typeof w=="object"&&w!==null&&w.key!=null?it(""+w.key):L.toString(36)}function mt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ee,ee):(w.status="pending",w.then(function(L){w.status==="pending"&&(w.status="fulfilled",w.value=L)},function(L){w.status==="pending"&&(w.status="rejected",w.reason=L)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function k(w,L,K,I,le){var ce=typeof w;(ce==="undefined"||ce==="boolean")&&(w=null);var se=!1;if(w===null)se=!0;else switch(ce){case"bigint":case"string":case"number":se=!0;break;case"object":switch(w.$$typeof){case l:case n:se=!0;break;case _:return se=w._init,k(se(w._payload),L,K,I,le)}}if(se)return le=le(w),se=I===""?"."+qt(w,0):I,ve(le)?(K="",se!=null&&(K=se.replace(Ft,"$&/")+"/"),k(le,L,K,"",function(Vt){return Vt})):le!=null&&(jt(le)&&(le=Ht(le,K+(le.key==null||w&&w.key===le.key?"":(""+le.key).replace(Ft,"$&/")+"/")+se)),L.push(le)),1;se=0;var Me=I===""?".":I+":";if(ve(w))for(var _e=0;_e<w.length;_e++)I=w[_e],ce=Me+qt(I,_e),se+=k(I,L,K,ce,le);else if(_e=C(w),typeof _e=="function")for(w=_e.call(w),_e=0;!(I=w.next()).done;)I=I.value,ce=Me+qt(I,_e++),se+=k(I,L,K,ce,le);else if(ce==="object"){if(typeof w.then=="function")return k(mt(w),L,K,I,le);throw L=String(w),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return se}function $(w,L,K){if(w==null)return w;var I=[],le=0;return k(w,I,"","",function(ce){return L.call(K,ce,le++)}),I}function ae(w){if(w._status===-1){var L=w._result;L=L(),L.then(function(K){(w._status===0||w._status===-1)&&(w._status=1,w._result=K)},function(K){(w._status===0||w._status===-1)&&(w._status=2,w._result=K)}),w._status===-1&&(w._status=0,w._result=L)}if(w._status===1)return w._result.default;throw w._result}var Se=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},we={map:$,forEach:function(w,L,K){$(w,function(){L.apply(this,arguments)},K)},count:function(w){var L=0;return $(w,function(){L++}),L},toArray:function(w){return $(w,function(L){return L})||[]},only:function(w){if(!jt(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return re.Activity=b,re.Children=we,re.Component=V,re.Fragment=s,re.Profiler=c,re.PureComponent=G,re.StrictMode=r,re.Suspense=m,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,re.__COMPILER_RUNTIME={__proto__:null,c:function(w){return X.H.useMemoCache(w)}},re.cache=function(w){return function(){return w.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(w,L,K){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var I=D({},w.props),le=w.key;if(L!=null)for(ce in L.key!==void 0&&(le=""+L.key),L)!Ne.call(L,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&L.ref===void 0||(I[ce]=L[ce]);var ce=arguments.length-2;if(ce===1)I.children=K;else if(1<ce){for(var se=Array(ce),Me=0;Me<ce;Me++)se[Me]=arguments[Me+2];I.children=se}return ze(w.type,le,I)},re.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},re.createElement=function(w,L,K){var I,le={},ce=null;if(L!=null)for(I in L.key!==void 0&&(ce=""+L.key),L)Ne.call(L,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(le[I]=L[I]);var se=arguments.length-2;if(se===1)le.children=K;else if(1<se){for(var Me=Array(se),_e=0;_e<se;_e++)Me[_e]=arguments[_e+2];le.children=Me}if(w&&w.defaultProps)for(I in se=w.defaultProps,se)le[I]===void 0&&(le[I]=se[I]);return ze(w,ce,le)},re.createRef=function(){return{current:null}},re.forwardRef=function(w){return{$$typeof:g,render:w}},re.isValidElement=jt,re.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:ae}},re.memo=function(w,L){return{$$typeof:v,type:w,compare:L===void 0?null:L}},re.startTransition=function(w){var L=X.T,K={};X.T=K;try{var I=w(),le=X.S;le!==null&&le(K,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(ee,Se)}catch(ce){Se(ce)}finally{L!==null&&K.types!==null&&(L.types=K.types),X.T=L}},re.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},re.use=function(w){return X.H.use(w)},re.useActionState=function(w,L,K){return X.H.useActionState(w,L,K)},re.useCallback=function(w,L){return X.H.useCallback(w,L)},re.useContext=function(w){return X.H.useContext(w)},re.useDebugValue=function(){},re.useDeferredValue=function(w,L){return X.H.useDeferredValue(w,L)},re.useEffect=function(w,L){return X.H.useEffect(w,L)},re.useEffectEvent=function(w){return X.H.useEffectEvent(w)},re.useId=function(){return X.H.useId()},re.useImperativeHandle=function(w,L,K){return X.H.useImperativeHandle(w,L,K)},re.useInsertionEffect=function(w,L){return X.H.useInsertionEffect(w,L)},re.useLayoutEffect=function(w,L){return X.H.useLayoutEffect(w,L)},re.useMemo=function(w,L){return X.H.useMemo(w,L)},re.useOptimistic=function(w,L){return X.H.useOptimistic(w,L)},re.useReducer=function(w,L,K){return X.H.useReducer(w,L,K)},re.useRef=function(w){return X.H.useRef(w)},re.useState=function(w){return X.H.useState(w)},re.useSyncExternalStore=function(w,L,K){return X.H.useSyncExternalStore(w,L,K)},re.useTransition=function(){return X.H.useTransition()},re.version="19.2.3",re}var Qd;function Ho(){return Qd||(Qd=1,fo.exports=by()),fo.exports}var Q=Ho(),mo={exports:{}},cl={},go={exports:{}},vo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd;function Sy(){return Zd||(Zd=1,(function(l){function n(k,$){var ae=k.length;k.push($);e:for(;0<ae;){var Se=ae-1>>>1,we=k[Se];if(0<c(we,$))k[Se]=$,k[ae]=we,ae=Se;else break e}}function s(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var $=k[0],ae=k.pop();if(ae!==$){k[0]=ae;e:for(var Se=0,we=k.length,w=we>>>1;Se<w;){var L=2*(Se+1)-1,K=k[L],I=L+1,le=k[I];if(0>c(K,ae))I<we&&0>c(le,K)?(k[Se]=le,k[I]=ae,Se=I):(k[Se]=K,k[L]=ae,Se=L);else if(I<we&&0>c(le,ae))k[Se]=le,k[I]=ae,Se=I;else break e}}return $}function c(k,$){var ae=k.sortIndex-$.sortIndex;return ae!==0?ae:k.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();l.unstable_now=function(){return d.now()-g}}var m=[],v=[],_=1,b=null,T=3,C=!1,O=!1,D=!1,H=!1,V=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function P(k){for(var $=s(v);$!==null;){if($.callback===null)r(v);else if($.startTime<=k)r(v),$.sortIndex=$.expirationTime,n(m,$);else break;$=s(v)}}function ve(k){if(D=!1,P(k),!O)if(s(m)!==null)O=!0,ee||(ee=!0,it());else{var $=s(v);$!==null&&mt(ve,$.startTime-k)}}var ee=!1,X=-1,Ne=5,ze=-1;function Ht(){return H?!0:!(l.unstable_now()-ze<Ne)}function jt(){if(H=!1,ee){var k=l.unstable_now();ze=k;var $=!0;try{e:{O=!1,D&&(D=!1,q(X),X=-1),C=!0;var ae=T;try{t:{for(P(k),b=s(m);b!==null&&!(b.expirationTime>k&&Ht());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,T=b.priorityLevel;var we=Se(b.expirationTime<=k);if(k=l.unstable_now(),typeof we=="function"){b.callback=we,P(k),$=!0;break t}b===s(m)&&r(m),P(k)}else r(m);b=s(m)}if(b!==null)$=!0;else{var w=s(v);w!==null&&mt(ve,w.startTime-k),$=!1}}break e}finally{b=null,T=ae,C=!1}$=void 0}}finally{$?it():ee=!1}}}var it;if(typeof G=="function")it=function(){G(jt)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,qt=Ft.port2;Ft.port1.onmessage=jt,it=function(){qt.postMessage(null)}}else it=function(){V(jt,0)};function mt(k,$){X=V(function(){k(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return T},l.unstable_next=function(k){switch(T){case 1:case 2:case 3:var $=3;break;default:$=T}var ae=T;T=$;try{return k()}finally{T=ae}},l.unstable_requestPaint=function(){H=!0},l.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ae=T;T=k;try{return $()}finally{T=ae}},l.unstable_scheduleCallback=function(k,$,ae){var Se=l.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Se+ae:Se):ae=Se,k){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ae+we,k={id:_++,callback:$,priorityLevel:k,startTime:ae,expirationTime:we,sortIndex:-1},ae>Se?(k.sortIndex=ae,n(v,k),s(m)===null&&k===s(v)&&(D?(q(X),X=-1):D=!0,mt(ve,ae-Se))):(k.sortIndex=we,n(m,k),O||C||(O=!0,ee||(ee=!0,it()))),k},l.unstable_shouldYield=Ht,l.unstable_wrapCallback=function(k){var $=T;return function(){var ae=T;T=$;try{return k.apply(this,arguments)}finally{T=ae}}}})(vo)),vo}var Pd;function wy(){return Pd||(Pd=1,go.exports=Sy()),go.exports}var yo={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd;function Ey(){if(Wd)return lt;Wd=1;var l=Ho();function n(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(m,v,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:m,containerInfo:v,implementation:_}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lt.createPortal=function(m,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return h(m,v,null,_)},lt.flushSync=function(m){var v=d.T,_=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=v,r.p=_,r.d.f()}},lt.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(m,v))},lt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},lt.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var _=v.as,b=g(_,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,C=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?r.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:C}):_==="script"&&r.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:C,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},lt.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=g(v.as,v.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(m)},lt.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,b=g(_,v.crossOrigin);r.d.L(m,_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},lt.preloadModule=function(m,v){if(typeof m=="string")if(v){var _=g(v.as,v.crossOrigin);r.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(m)},lt.requestFormReset=function(m){r.d.r(m)},lt.unstable_batchedUpdates=function(m,v){return m(v)},lt.useFormState=function(m,v,_){return d.H.useFormState(m,v,_)},lt.useFormStatus=function(){return d.H.useHostTransitionStatus()},lt.version="19.2.3",lt}var Fd;function Ty(){if(Fd)return yo.exports;Fd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),yo.exports=Ey(),yo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Ay(){if(em)return cl;em=1;var l=wy(),n=Ho(),s=Ty();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(r(188))}function v(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===a)return m(u),e;if(o===i)return m(u),t;o=o.sibling}throw Error(r(188))}if(a.return!==i.return)a=u,i=o;else{for(var f=!1,y=u.child;y;){if(y===a){f=!0,a=u,i=o;break}if(y===i){f=!0,i=u,a=o;break}y=y.sibling}if(!f){for(y=o.child;y;){if(y===a){f=!0,a=o,i=u;break}if(y===i){f=!0,i=o,a=u;break}y=y.sibling}if(!f)throw Error(r(189))}}if(a.alternate!==i)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),ze=Symbol.for("react.activity"),Ht=Symbol.for("react.memo_cache_sentinel"),jt=Symbol.iterator;function it(e){return e===null||typeof e!="object"?null:(e=jt&&e[jt]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ft?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case V:return"Profiler";case H:return"StrictMode";case ve:return"Suspense";case ee:return"SuspenseList";case ze:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case G:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:qt(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return qt(e(t))}catch{}}return null}var mt=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Se=[],we=-1;function w(e){return{current:e}}function L(e){0>we||(e.current=Se[we],Se[we]=null,we--)}function K(e,t){we++,Se[we]=e.current,e.current=t}var I=w(null),le=w(null),ce=w(null),se=w(null);function Me(e,t){switch(K(ce,t),K(le,e),K(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gd(t),e=vd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(I),K(I,e)}function _e(){L(I),L(le),L(ce)}function Vt(e){e.memoizedState!==null&&K(se,e);var t=I.current,a=vd(t,e.type);t!==a&&(K(le,e),K(I,a))}function Xt(e){le.current===e&&(L(I),L(le)),se.current===e&&(L(se),ll._currentValue=ae)}var Sn,Ia;function Xa(e){if(Sn===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Sn=t&&t[1]||"",Ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sn+e+Ia}var Xs=!1;function Qs(e,t){if(!e||Xs)return"";Xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(x){var N=x}Reflect.construct(e,[],M)}else{try{M.call()}catch(x){N=x}e.call(M.prototype)}}else{try{throw Error()}catch(x){N=x}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(x){if(x&&N&&typeof x.stack=="string")return[x.stack,N.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),f=o[0],y=o[1];if(f&&y){var p=f.split(`
`),j=y.split(`
`);for(u=i=0;i<p.length&&!p[i].includes("DetermineComponentFrameRoot");)i++;for(;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;if(i===p.length||u===j.length)for(i=p.length-1,u=j.length-1;1<=i&&0<=u&&p[i]!==j[u];)u--;for(;1<=i&&0<=u;i--,u--)if(p[i]!==j[u]){if(i!==1||u!==1)do if(i--,u--,0>u||p[i]!==j[u]){var U=`
`+p[i].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=i&&0<=u);break}}}finally{Xs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Xa(a):""}function Qm(e,t){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return e.child!==t&&t!==null?Xa("Suspense Fallback"):Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return Qs(e.type,!1);case 11:return Qs(e.type.render,!1);case 1:return Qs(e.type,!0);case 31:return Xa("Activity");default:return""}}function Jo(e){try{var t="",a=null;do t+=Qm(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Zs=Object.prototype.hasOwnProperty,Ps=l.unstable_scheduleCallback,Ws=l.unstable_cancelCallback,Zm=l.unstable_shouldYield,Pm=l.unstable_requestPaint,gt=l.unstable_now,Wm=l.unstable_getCurrentPriorityLevel,Yo=l.unstable_ImmediatePriority,Io=l.unstable_UserBlockingPriority,Sl=l.unstable_NormalPriority,Fm=l.unstable_LowPriority,Xo=l.unstable_IdlePriority,eg=l.log,tg=l.unstable_setDisableYieldValue,yi=null,vt=null;function ba(e){if(typeof eg=="function"&&tg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(yi,e)}catch{}}var yt=Math.clz32?Math.clz32:ig,ag=Math.log,ng=Math.LN2;function ig(e){return e>>>=0,e===0?32:31-(ag(e)/ng|0)|0}var wl=256,El=262144,Tl=4194304;function Qa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Al(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~o,i!==0?u=Qa(i):(f&=y,f!==0?u=Qa(f):a||(a=y&~e,a!==0&&(u=Qa(a))))):(y=i&~o,y!==0?u=Qa(y):f!==0?u=Qa(f):a||(a=i&~e,a!==0&&(u=Qa(a)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:u}function pi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function lg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var e=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),e}function Fs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _i(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sg(e,t,a,i,u,o){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,p=e.expirationTimes,j=e.hiddenUpdates;for(a=f&~a;0<a;){var U=31-yt(a),M=1<<U;y[U]=0,p[U]=-1;var N=j[U];if(N!==null)for(j[U]=null,U=0;U<N.length;U++){var x=N[U];x!==null&&(x.lane&=-536870913)}a&=~M}i!==0&&Zo(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function Zo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-yt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function Po(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-yt(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function Wo(e,t){var a=t&-t;return a=(a&42)!==0?1:er(a),(a&(e.suspendedLanes|t))!==0?0:a}function er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fo(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Hd(e.type))}function ec(e,t){var a=$.p;try{return $.p=e,t()}finally{$.p=a}}var Sa=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Sa,rt="__reactProps$"+Sa,wn="__reactContainer$"+Sa,ar="__reactEvents$"+Sa,rg="__reactListeners$"+Sa,ug="__reactHandles$"+Sa,tc="__reactResources$"+Sa,bi="__reactMarker$"+Sa;function nr(e){delete e[Pe],delete e[rt],delete e[ar],delete e[rg],delete e[ug]}function En(e){var t=e[Pe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[wn]||a[Pe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ed(e);e!==null;){if(a=e[Pe])return a;e=Ed(e)}return t}e=a,a=e.parentNode}return null}function Tn(e){if(e=e[Pe]||e[wn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function An(e){var t=e[tc];return t||(t=e[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[bi]=!0}var ac=new Set,nc={};function Za(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(nc[e]=t,e=0;e<t.length;e++)ac.add(t[e])}var og=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},lc={};function cg(e){return Zs.call(lc,e)?!0:Zs.call(ic,e)?!1:og.test(e)?lc[e]=!0:(ic[e]=!0,!1)}function Ol(e,t,a){if(cg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Rl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ea(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hg(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(f){a=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ir(e){if(!e._valueTracker){var t=sc(e)?"checked":"value";e._valueTracker=hg(e,t,""+e[t])}}function rc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=sc(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fg=/[\n"\\]/g;function Nt(e){return e.replace(fg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lr(e,t,a,i,u,o,f,y){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?sr(e,f,Ct(t)):a!=null?sr(e,f,Ct(a)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Ct(y):e.removeAttribute("name")}function uc(e,t,a,i,u,o,f,y){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){ir(e);return}a=a!=null?""+Ct(a):"",t=t!=null?""+Ct(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),ir(e)}function sr(e,t,a){t==="number"&&jl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rn(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Ct(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function oc(e,t,a){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ct(a):""}function cc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(r(92));if(mt(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Ct(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),ir(e)}function jn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var dg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hc(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||dg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function fc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&hc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&hc(e,o,t[o])}function rr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(e){return gg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ta(){}var ur=null;function or(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cn=null,Nn=null;function dc(e){var t=Tn(e);if(t&&(e=t.stateNode)){var a=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(lr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[rt]||null;if(!u)throw Error(r(90));lr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&rc(i)}break e;case"textarea":oc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rn(e,!!a.multiple,t,!1)}}}var cr=!1;function mc(e,t,a){if(cr)return e(t,a);cr=!0;try{var i=e(t);return i}finally{if(cr=!1,(Cn!==null||Nn!==null)&&(vs(),Cn&&(t=Cn,e=Nn,Nn=Cn=null,dc(t),e)))for(t=0;t<e.length;t++)dc(e[t])}}function wi(e,t){var a=e.stateNode;if(a===null)return null;var i=a[rt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(aa)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{hr=!1}var wa=null,fr=null,Nl=null;function gc(){if(Nl)return Nl;var e,t=fr,a=t.length,i,u="value"in wa?wa.value:wa.textContent,o=u.length;for(e=0;e<a&&t[e]===u[e];e++);var f=a-e;for(i=1;i<=f&&t[a-i]===u[o-i];i++);return Nl=u.slice(e,1<i?1-i:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function vc(){return!1}function ut(e){function t(a,i,u,o,f){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(o):o[y]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dl:vc,this.isPropagationStopped=vc,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=ut(Pa),Ti=b({},Pa,{view:0,detail:0}),vg=ut(Ti),dr,mr,Ai,kl=b({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(dr=e.screenX-Ai.screenX,mr=e.screenY-Ai.screenY):mr=dr=0,Ai=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:mr}}),yc=ut(kl),yg=b({},kl,{dataTransfer:0}),pg=ut(yg),_g=b({},Ti,{relatedTarget:0}),gr=ut(_g),bg=b({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=ut(bg),wg=b({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eg=ut(wg),Tg=b({},Pa,{data:0}),pc=ut(Tg),Ag={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rg[e])?!!t[e]:!1}function vr(){return jg}var Cg=b({},Ti,{key:function(e){if(e.key){var t=Ag[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ng=ut(Cg),xg=b({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_c=ut(xg),Dg=b({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Ug=ut(Dg),kg=b({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=ut(kg),Mg=b({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lg=ut(Mg),Bg=b({},Pa,{newState:0,oldState:0}),Hg=ut(Bg),qg=[9,13,27,32],yr=aa&&"CompositionEvent"in window,Oi=null;aa&&"documentMode"in document&&(Oi=document.documentMode);var Vg=aa&&"TextEvent"in window&&!Oi,bc=aa&&(!yr||Oi&&8<Oi&&11>=Oi),Sc=" ",wc=!1;function Ec(e,t){switch(e){case"keyup":return qg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function Gg(e,t){switch(e){case"compositionend":return Tc(t);case"keypress":return t.which!==32?null:(wc=!0,Sc);case"textInput":return e=t.data,e===Sc&&wc?null:e;default:return null}}function $g(e,t){if(xn)return e==="compositionend"||!yr&&Ec(e,t)?(e=gc(),Nl=fr=wa=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bc&&t.locale!=="ko"?null:t.data;default:return null}}var Kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kg[e.type]:t==="textarea"}function Oc(e,t,a,i){Cn?Nn?Nn.push(i):Nn=[i]:Cn=i,t=Es(t,"onChange"),0<t.length&&(a=new Ul("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Ri=null,ji=null;function Jg(e){od(e,0)}function zl(e){var t=Si(e);if(rc(t))return e}function Rc(e,t){if(e==="change")return t}var jc=!1;if(aa){var pr;if(aa){var _r="oninput"in document;if(!_r){var Cc=document.createElement("div");Cc.setAttribute("oninput","return;"),_r=typeof Cc.oninput=="function"}pr=_r}else pr=!1;jc=pr&&(!document.documentMode||9<document.documentMode)}function Nc(){Ri&&(Ri.detachEvent("onpropertychange",xc),ji=Ri=null)}function xc(e){if(e.propertyName==="value"&&zl(ji)){var t=[];Oc(t,ji,e,or(e)),mc(Jg,t)}}function Yg(e,t,a){e==="focusin"?(Nc(),Ri=t,ji=a,Ri.attachEvent("onpropertychange",xc)):e==="focusout"&&Nc()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(ji)}function Xg(e,t){if(e==="click")return zl(t)}function Qg(e,t){if(e==="input"||e==="change")return zl(t)}function Zg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Zg;function Ci(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!Zs.call(t,u)||!pt(e[u],t[u]))return!1}return!0}function Dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uc(e,t){var a=Dc(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dc(a)}}function kc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=jl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=jl(e.document)}return t}function br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pg=aa&&"documentMode"in document&&11>=document.documentMode,Dn=null,Sr=null,Ni=null,wr=!1;function Mc(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wr||Dn==null||Dn!==jl(i)||(i=Dn,"selectionStart"in i&&br(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ni&&Ci(Ni,i)||(Ni=i,i=Es(Sr,"onSelect"),0<i.length&&(t=new Ul("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Dn)))}function Wa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Un={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Er={},Lc={};aa&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Fa(e){if(Er[e])return Er[e];if(!Un[e])return e;var t=Un[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Lc)return Er[e]=t[a];return e}var Bc=Fa("animationend"),Hc=Fa("animationiteration"),qc=Fa("animationstart"),Wg=Fa("transitionrun"),Fg=Fa("transitionstart"),ev=Fa("transitioncancel"),Vc=Fa("transitionend"),Gc=new Map,Tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tr.push("scrollEnd");function Gt(e,t){Gc.set(e,t),Za(t,[e])}var Ml=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xt=[],kn=0,Ar=0;function Ll(){for(var e=kn,t=Ar=kn=0;t<e;){var a=xt[t];xt[t++]=null;var i=xt[t];xt[t++]=null;var u=xt[t];xt[t++]=null;var o=xt[t];if(xt[t++]=null,i!==null&&u!==null){var f=i.pending;f===null?u.next=u:(u.next=f.next,f.next=u),i.pending=u}o!==0&&$c(a,u,o)}}function Bl(e,t,a,i){xt[kn++]=e,xt[kn++]=t,xt[kn++]=a,xt[kn++]=i,Ar|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Or(e,t,a,i){return Bl(e,t,a,i),Hl(e)}function en(e,t){return Bl(e,null,null,t),Hl(e)}function $c(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,o=e.return;o!==null;)o.childLanes|=a,i=o.alternate,i!==null&&(i.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-yt(a),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),o):null}function Hl(e){if(50<Wi)throw Wi=0,zu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var zn={};function tv(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,a,i){return new tv(e,t,a,i)}function Rr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function na(e,t){var a=e.alternate;return a===null?(a=_t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ql(e,t,a,i,u,o){var f=0;if(i=e,typeof e=="function")Rr(e)&&(f=1);else if(typeof e=="string")f=sy(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ze:return e=_t(31,a,t,u),e.elementType=ze,e.lanes=o,e;case D:return tn(a.children,u,o,t);case H:f=8,u|=24;break;case V:return e=_t(12,a,t,u|2),e.elementType=V,e.lanes=o,e;case ve:return e=_t(13,a,t,u),e.elementType=ve,e.lanes=o,e;case ee:return e=_t(19,a,t,u),e.elementType=ee,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:f=10;break e;case q:f=9;break e;case P:f=11;break e;case X:f=14;break e;case Ne:f=16,i=null;break e}f=29,a=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=_t(f,a,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function tn(e,t,a,i){return e=_t(7,e,i,t),e.lanes=a,e}function jr(e,t,a){return e=_t(6,e,null,t),e.lanes=a,e}function Jc(e){var t=_t(18,null,null,0);return t.stateNode=e,t}function Cr(e,t,a){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yc=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var a=Yc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Jo(t)},Yc.set(e,t),t)}return{value:e,source:t,stack:Jo(t)}}var Mn=[],Ln=0,Vl=null,xi=0,Ut=[],kt=0,Ea=null,Qt=1,Zt="";function ia(e,t){Mn[Ln++]=xi,Mn[Ln++]=Vl,Vl=e,xi=t}function Ic(e,t,a){Ut[kt++]=Qt,Ut[kt++]=Zt,Ut[kt++]=Ea,Ea=e;var i=Qt;e=Zt;var u=32-yt(i)-1;i&=~(1<<u),a+=1;var o=32-yt(t)+u;if(30<o){var f=u-u%5;o=(i&(1<<f)-1).toString(32),i>>=f,u-=f,Qt=1<<32-yt(t)+u|a<<u|i,Zt=o+e}else Qt=1<<o|a<<u|i,Zt=e}function Nr(e){e.return!==null&&(ia(e,1),Ic(e,1,0))}function xr(e){for(;e===Vl;)Vl=Mn[--Ln],Mn[Ln]=null,xi=Mn[--Ln],Mn[Ln]=null;for(;e===Ea;)Ea=Ut[--kt],Ut[kt]=null,Zt=Ut[--kt],Ut[kt]=null,Qt=Ut[--kt],Ut[kt]=null}function Xc(e,t){Ut[kt++]=Qt,Ut[kt++]=Zt,Ut[kt++]=Ea,Qt=t.id,Zt=t.overflow,Ea=e}var We=null,xe=null,ge=!1,Ta=null,zt=!1,Dr=Error(r(519));function Aa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Di(Dt(t,e)),Dr}function Qc(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[Pe]=e,t[rt]=i,a){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(a=0;a<el.length;a++)fe(el[a],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),uc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),cc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||dd(t.textContent,a)?(i.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),i.onScroll!=null&&fe("scroll",t),i.onScrollEnd!=null&&fe("scrollend",t),i.onClick!=null&&(t.onclick=ta),t=!0):t=!1,t||Aa(e,!0)}function Zc(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:We=We.return}}function Bn(e){if(e!==We)return!1;if(!ge)return Zc(e),ge=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zu(e.type,e.memoizedProps)),a=!a),a&&xe&&Aa(e),Zc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));xe=wd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));xe=wd(e)}else t===27?(t=xe,Ha(e.type)?(e=to,to=null,xe=e):xe=t):xe=We?Lt(e.stateNode.nextSibling):null;return!0}function an(){xe=We=null,ge=!1}function Ur(){var e=Ta;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),Ta=null),e}function Di(e){Ta===null?Ta=[e]:Ta.push(e)}var kr=w(null),nn=null,la=null;function Oa(e,t,a){K(kr,t._currentValue),t._currentValue=a}function sa(e){e._currentValue=kr.current,L(kr)}function zr(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Mr(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var f=u.child;o=o.firstContext;e:for(;o!==null;){var y=o;o=u;for(var p=0;p<t.length;p++)if(y.context===t[p]){o.lanes|=a,y=o.alternate,y!==null&&(y.lanes|=a),zr(o.return,a,e),i||(f=null);break e}o=y.next}}else if(u.tag===18){if(f=u.return,f===null)throw Error(r(341));f.lanes|=a,o=f.alternate,o!==null&&(o.lanes|=a),zr(f,a,e),f=null}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===e){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}}function Hn(e,t,a,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var f=u.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var y=u.type;pt(u.pendingProps.value,f.value)||(e!==null?e.push(y):e=[y])}}else if(u===se.current){if(f=u.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}u=u.return}e!==null&&Mr(t,e,a,i),t.flags|=262144}function Gl(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ln(e){nn=e,la=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Pc(nn,e)}function $l(e,t){return nn===null&&ln(e),Pc(e,t)}function Pc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},la===null){if(e===null)throw Error(r(308));la=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else la=la.next=t;return a}var av=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},nv=l.unstable_scheduleCallback,iv=l.unstable_NormalPriority,Ge={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lr(){return{controller:new av,data:new Map,refCount:0}}function Ui(e){e.refCount--,e.refCount===0&&nv(iv,function(){e.controller.abort()})}var ki=null,Br=0,qn=0,Vn=null;function lv(e,t){if(ki===null){var a=ki=[];Br=0,qn=Vu(),Vn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Br++,t.then(Wc,Wc),t}function Wc(){if(--Br===0&&ki!==null){Vn!==null&&(Vn.status="fulfilled");var e=ki;ki=null,qn=0,Vn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sv(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var Fc=k.S;k.S=function(e,t){Lf=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&lv(e,t),Fc!==null&&Fc(e,t)};var sn=w(null);function Hr(){var e=sn.current;return e!==null?e:je.pooledCache}function Kl(e,t){t===null?K(sn,sn.current):K(sn,t.pool)}function eh(){var e=Hr();return e===null?null:{parent:Ge._currentValue,pool:e}}var Gn=Error(r(460)),qr=Error(r(474)),Jl=Error(r(542)),Yl={then:function(){}};function th(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ah(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ta,ta),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ih(e),e;default:if(typeof t.status=="string")t.then(ta,ta);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ih(e),e}throw un=t,Gn}}function rn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(un=a,Gn):a}}var un=null;function nh(){if(un===null)throw Error(r(459));var e=un;return un=null,e}function ih(e){if(e===Gn||e===Jl)throw Error(r(483))}var $n=null,zi=0;function Il(e){var t=zi;return zi+=1,$n===null&&($n=[]),ah($n,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xl(e,t){throw t.$$typeof===T?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lh(e){function t(A,S){if(e){var R=A.deletions;R===null?(A.deletions=[S],A.flags|=16):R.push(S)}}function a(A,S){if(!e)return null;for(;S!==null;)t(A,S),S=S.sibling;return null}function i(A){for(var S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function u(A,S){return A=na(A,S),A.index=0,A.sibling=null,A}function o(A,S,R){return A.index=R,e?(R=A.alternate,R!==null?(R=R.index,R<S?(A.flags|=67108866,S):R):(A.flags|=67108866,S)):(A.flags|=1048576,S)}function f(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function y(A,S,R,z){return S===null||S.tag!==6?(S=jr(R,A.mode,z),S.return=A,S):(S=u(S,R),S.return=A,S)}function p(A,S,R,z){var F=R.type;return F===D?U(A,S,R.props.children,z,R.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ne&&rn(F)===S.type)?(S=u(S,R.props),Mi(S,R),S.return=A,S):(S=ql(R.type,R.key,R.props,null,A.mode,z),Mi(S,R),S.return=A,S)}function j(A,S,R,z){return S===null||S.tag!==4||S.stateNode.containerInfo!==R.containerInfo||S.stateNode.implementation!==R.implementation?(S=Cr(R,A.mode,z),S.return=A,S):(S=u(S,R.children||[]),S.return=A,S)}function U(A,S,R,z,F){return S===null||S.tag!==7?(S=tn(R,A.mode,z,F),S.return=A,S):(S=u(S,R),S.return=A,S)}function M(A,S,R){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=jr(""+S,A.mode,R),S.return=A,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case C:return R=ql(S.type,S.key,S.props,null,A.mode,R),Mi(R,S),R.return=A,R;case O:return S=Cr(S,A.mode,R),S.return=A,S;case Ne:return S=rn(S),M(A,S,R)}if(mt(S)||it(S))return S=tn(S,A.mode,R,null),S.return=A,S;if(typeof S.then=="function")return M(A,Il(S),R);if(S.$$typeof===G)return M(A,$l(A,S),R);Xl(A,S)}return null}function N(A,S,R,z){var F=S!==null?S.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return F!==null?null:y(A,S,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return R.key===F?p(A,S,R,z):null;case O:return R.key===F?j(A,S,R,z):null;case Ne:return R=rn(R),N(A,S,R,z)}if(mt(R)||it(R))return F!==null?null:U(A,S,R,z,null);if(typeof R.then=="function")return N(A,S,Il(R),z);if(R.$$typeof===G)return N(A,S,$l(A,R),z);Xl(A,R)}return null}function x(A,S,R,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return A=A.get(R)||null,y(S,A,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return A=A.get(z.key===null?R:z.key)||null,p(S,A,z,F);case O:return A=A.get(z.key===null?R:z.key)||null,j(S,A,z,F);case Ne:return z=rn(z),x(A,S,R,z,F)}if(mt(z)||it(z))return A=A.get(R)||null,U(S,A,z,F,null);if(typeof z.then=="function")return x(A,S,R,Il(z),F);if(z.$$typeof===G)return x(A,S,R,$l(S,z),F);Xl(S,z)}return null}function Y(A,S,R,z){for(var F=null,ye=null,Z=S,oe=S=0,me=null;Z!==null&&oe<R.length;oe++){Z.index>oe?(me=Z,Z=null):me=Z.sibling;var pe=N(A,Z,R[oe],z);if(pe===null){Z===null&&(Z=me);break}e&&Z&&pe.alternate===null&&t(A,Z),S=o(pe,S,oe),ye===null?F=pe:ye.sibling=pe,ye=pe,Z=me}if(oe===R.length)return a(A,Z),ge&&ia(A,oe),F;if(Z===null){for(;oe<R.length;oe++)Z=M(A,R[oe],z),Z!==null&&(S=o(Z,S,oe),ye===null?F=Z:ye.sibling=Z,ye=Z);return ge&&ia(A,oe),F}for(Z=i(Z);oe<R.length;oe++)me=x(Z,A,oe,R[oe],z),me!==null&&(e&&me.alternate!==null&&Z.delete(me.key===null?oe:me.key),S=o(me,S,oe),ye===null?F=me:ye.sibling=me,ye=me);return e&&Z.forEach(function(Ka){return t(A,Ka)}),ge&&ia(A,oe),F}function te(A,S,R,z){if(R==null)throw Error(r(151));for(var F=null,ye=null,Z=S,oe=S=0,me=null,pe=R.next();Z!==null&&!pe.done;oe++,pe=R.next()){Z.index>oe?(me=Z,Z=null):me=Z.sibling;var Ka=N(A,Z,pe.value,z);if(Ka===null){Z===null&&(Z=me);break}e&&Z&&Ka.alternate===null&&t(A,Z),S=o(Ka,S,oe),ye===null?F=Ka:ye.sibling=Ka,ye=Ka,Z=me}if(pe.done)return a(A,Z),ge&&ia(A,oe),F;if(Z===null){for(;!pe.done;oe++,pe=R.next())pe=M(A,pe.value,z),pe!==null&&(S=o(pe,S,oe),ye===null?F=pe:ye.sibling=pe,ye=pe);return ge&&ia(A,oe),F}for(Z=i(Z);!pe.done;oe++,pe=R.next())pe=x(Z,A,oe,pe.value,z),pe!==null&&(e&&pe.alternate!==null&&Z.delete(pe.key===null?oe:pe.key),S=o(pe,S,oe),ye===null?F=pe:ye.sibling=pe,ye=pe);return e&&Z.forEach(function(yy){return t(A,yy)}),ge&&ia(A,oe),F}function Re(A,S,R,z){if(typeof R=="object"&&R!==null&&R.type===D&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case C:e:{for(var F=R.key;S!==null;){if(S.key===F){if(F=R.type,F===D){if(S.tag===7){a(A,S.sibling),z=u(S,R.props.children),z.return=A,A=z;break e}}else if(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ne&&rn(F)===S.type){a(A,S.sibling),z=u(S,R.props),Mi(z,R),z.return=A,A=z;break e}a(A,S);break}else t(A,S);S=S.sibling}R.type===D?(z=tn(R.props.children,A.mode,z,R.key),z.return=A,A=z):(z=ql(R.type,R.key,R.props,null,A.mode,z),Mi(z,R),z.return=A,A=z)}return f(A);case O:e:{for(F=R.key;S!==null;){if(S.key===F)if(S.tag===4&&S.stateNode.containerInfo===R.containerInfo&&S.stateNode.implementation===R.implementation){a(A,S.sibling),z=u(S,R.children||[]),z.return=A,A=z;break e}else{a(A,S);break}else t(A,S);S=S.sibling}z=Cr(R,A.mode,z),z.return=A,A=z}return f(A);case Ne:return R=rn(R),Re(A,S,R,z)}if(mt(R))return Y(A,S,R,z);if(it(R)){if(F=it(R),typeof F!="function")throw Error(r(150));return R=F.call(R),te(A,S,R,z)}if(typeof R.then=="function")return Re(A,S,Il(R),z);if(R.$$typeof===G)return Re(A,S,$l(A,R),z);Xl(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,S!==null&&S.tag===6?(a(A,S.sibling),z=u(S,R),z.return=A,A=z):(a(A,S),z=jr(R,A.mode,z),z.return=A,A=z),f(A)):a(A,S)}return function(A,S,R,z){try{zi=0;var F=Re(A,S,R,z);return $n=null,F}catch(Z){if(Z===Gn||Z===Jl)throw Z;var ye=_t(29,Z,null,A.mode);return ye.lanes=z,ye.return=A,ye}finally{}}}var on=lh(!0),sh=lh(!1),Ra=!1;function Vr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(be&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Hl(e),$c(e,null,a),t}return Bl(e,i,t,a),Hl(e)}function Li(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Po(e,a)}}function $r(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?u=o=f:o=o.next=f,a=a.next}while(a!==null);o===null?u=o=t:o=o.next=t}else u=o=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Kr=!1;function Bi(){if(Kr){var e=Vn;if(e!==null)throw e}}function Hi(e,t,a,i){Kr=!1;var u=e.updateQueue;Ra=!1;var o=u.firstBaseUpdate,f=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var p=y,j=p.next;p.next=null,f===null?o=j:f.next=j,f=p;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==f&&(y===null?U.firstBaseUpdate=j:y.next=j,U.lastBaseUpdate=p))}if(o!==null){var M=u.baseState;f=0,U=j=p=null,y=o;do{var N=y.lane&-536870913,x=N!==y.lane;if(x?(de&N)===N:(i&N)===N){N!==0&&N===qn&&(Kr=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Y=e,te=y;N=t;var Re=a;switch(te.tag){case 1:if(Y=te.payload,typeof Y=="function"){M=Y.call(Re,M,N);break e}M=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=te.payload,N=typeof Y=="function"?Y.call(Re,M,N):Y,N==null)break e;M=b({},M,N);break e;case 2:Ra=!0}}N=y.callback,N!==null&&(e.flags|=64,x&&(e.flags|=8192),x=u.callbacks,x===null?u.callbacks=[N]:x.push(N))}else x={lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(j=U=x,p=M):U=U.next=x,f|=N;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;x=y,y=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(!0);U===null&&(p=M),u.baseState=p,u.firstBaseUpdate=j,u.lastBaseUpdate=U,o===null&&(u.shared.lanes=0),ka|=f,e.lanes=f,e.memoizedState=M}}function rh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function uh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)rh(a[e],t)}var Kn=w(null),Ql=w(0);function oh(e,t){e=ga,K(Ql,e),K(Kn,t),ga=e|t.baseLanes}function Jr(){K(Ql,ga),K(Kn,Kn.current)}function Yr(){ga=Ql.current,L(Kn),L(Ql)}var bt=w(null),Mt=null;function Na(e){var t=e.alternate;K(qe,qe.current&1),K(bt,e),Mt===null&&(t===null||Kn.current!==null||t.memoizedState!==null)&&(Mt=e)}function Ir(e){K(qe,qe.current),K(bt,e),Mt===null&&(Mt=e)}function ch(e){e.tag===22?(K(qe,qe.current),K(bt,e),Mt===null&&(Mt=e)):xa()}function xa(){K(qe,qe.current),K(bt,bt.current)}function St(e){L(bt),Mt===e&&(Mt=null),L(qe)}var qe=w(0);function Zl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fu(a)||eo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,ue=null,Ae=null,$e=null,Pl=!1,Jn=!1,cn=!1,Wl=0,qi=0,Yn=null,rv=0;function Le(){throw Error(r(321))}function Xr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!pt(e[a],t[a]))return!1;return!0}function Qr(e,t,a,i,u,o){return ra=o,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Ih:cu,cn=!1,o=a(i,u),cn=!1,Jn&&(o=fh(t,a,i,u)),hh(e),o}function hh(e){k.H=$i;var t=Ae!==null&&Ae.next!==null;if(ra=0,$e=Ae=ue=null,Pl=!1,qi=0,Yn=null,t)throw Error(r(300));e===null||Ke||(e=e.dependencies,e!==null&&Gl(e)&&(Ke=!0))}function fh(e,t,a,i){ue=e;var u=0;do{if(Jn&&(Yn=null),qi=0,Jn=!1,25<=u)throw Error(r(301));if(u+=1,$e=Ae=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}k.H=Xh,o=t(a,i)}while(Jn);return o}function uv(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Vi(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(ue.flags|=1024),t}function Zr(){var e=Wl!==0;return Wl=0,e}function Pr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Wr(e){if(Pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pl=!1}ra=0,$e=Ae=ue=null,Jn=!1,qi=Wl=0,Yn=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ue.memoizedState=$e=e:$e=$e.next=e,$e}function Ve(){if(Ae===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=$e===null?ue.memoizedState:$e.next;if(t!==null)$e=t,Ae=e;else{if(e===null)throw ue.alternate===null?Error(r(467)):Error(r(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},$e===null?ue.memoizedState=$e=e:$e=$e.next=e}return $e}function Fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vi(e){var t=qi;return qi+=1,Yn===null&&(Yn=[]),e=ah(Yn,e,t),t=ue,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Ih:cu),e}function es(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vi(e);if(e.$$typeof===G)return Fe(e)}throw Error(r(438,String(e)))}function Fr(e){var t=null,a=ue.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Fl(),ue.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=Ht;return t.index++,a}function ua(e,t){return typeof t=="function"?t(e):t}function ts(e){var t=Ve();return eu(t,Ae,e)}function eu(e,t,a){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=a;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var f=u.next;u.next=o.next,o.next=f}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var y=f=null,p=null,j=t,U=!1;do{var M=j.lane&-536870913;if(M!==j.lane?(de&M)===M:(ra&M)===M){var N=j.revertLane;if(N===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),M===qn&&(U=!0);else if((ra&N)===N){j=j.next,N===qn&&(U=!0);continue}else M={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},p===null?(y=p=M,f=o):p=p.next=M,ue.lanes|=N,ka|=N;M=j.action,cn&&a(o,M),o=j.hasEagerState?j.eagerState:a(o,M)}else N={lane:M,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},p===null?(y=p=N,f=o):p=p.next=N,ue.lanes|=M,ka|=M;j=j.next}while(j!==null&&j!==t);if(p===null?f=o:p.next=y,!pt(o,e.memoizedState)&&(Ke=!0,U&&(a=Vn,a!==null)))throw a;e.memoizedState=o,e.baseState=f,e.baseQueue=p,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function tu(e){var t=Ve(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,o=t.memoizedState;if(u!==null){a.pending=null;var f=u=u.next;do o=e(o,f.action),f=f.next;while(f!==u);pt(o,t.memoizedState)||(Ke=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,i]}function dh(e,t,a){var i=ue,u=Ve(),o=ge;if(o){if(a===void 0)throw Error(r(407));a=a()}else a=t();var f=!pt((Ae||u).memoizedState,a);if(f&&(u.memoizedState=a,Ke=!0),u=u.queue,iu(vh.bind(null,i,u,e),[e]),u.getSnapshot!==t||f||$e!==null&&$e.memoizedState.tag&1){if(i.flags|=2048,In(9,{destroy:void 0},gh.bind(null,i,u,a,t),null),je===null)throw Error(r(349));o||(ra&127)!==0||mh(i,t,a)}return a}function mh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ue.updateQueue,t===null?(t=Fl(),ue.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function gh(e,t,a,i){t.value=a,t.getSnapshot=i,yh(t)&&ph(e)}function vh(e,t,a){return a(function(){yh(t)&&ph(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!pt(e,a)}catch{return!0}}function ph(e){var t=en(e,2);t!==null&&dt(t,e,2)}function au(e){var t=st();if(typeof e=="function"){var a=e;if(e=a(),cn){ba(!0);try{a()}finally{ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},t}function _h(e,t,a,i){return e.baseState=a,eu(e,Ae,typeof i=="function"?i:ua)}function ov(e,t,a,i,u){if(is(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};k.T!==null?a(!0):o.isTransition=!1,i(o),a=t.pending,a===null?(o.next=t.pending=o,bh(t,o)):(o.next=a.next,t.pending=a.next=o)}}function bh(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=k.T,f={};k.T=f;try{var y=a(u,i),p=k.S;p!==null&&p(f,y),Sh(e,t,y)}catch(j){nu(e,t,j)}finally{o!==null&&f.types!==null&&(o.types=f.types),k.T=o}}else try{o=a(u,i),Sh(e,t,o)}catch(j){nu(e,t,j)}}function Sh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){wh(e,t,i)},function(i){return nu(e,t,i)}):wh(e,t,a)}function wh(e,t,a){t.status="fulfilled",t.value=a,Eh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,bh(e,a)))}function nu(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Eh(t),t=t.next;while(t!==i)}e.action=null}function Eh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Th(e,t){return t}function Ah(e,t){if(ge){var a=je.formState;if(a!==null){e:{var i=ue;if(ge){if(xe){t:{for(var u=xe,o=zt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Lt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){xe=Lt(u.nextSibling),i=u.data==="F!";break e}}Aa(i)}i=!1}i&&(t=a[0])}}return a=st(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:t},a.queue=i,a=Kh.bind(null,ue,i),i.dispatch=a,i=au(!1),o=ou.bind(null,ue,!1,i.queue),i=st(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=ov.bind(null,ue,u,o,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function Oh(e){var t=Ve();return Rh(t,Ae,e)}function Rh(e,t,a){if(t=eu(e,t,Th)[0],e=ts(ua)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Vi(t)}catch(f){throw f===Gn?Jl:f}else i=t;t=Ve();var u=t.queue,o=u.dispatch;return a!==t.memoizedState&&(ue.flags|=2048,In(9,{destroy:void 0},cv.bind(null,u,a),null)),[i,o,e]}function cv(e,t){e.action=t}function jh(e){var t=Ve(),a=Ae;if(a!==null)return Rh(t,a,e);Ve(),t=t.memoizedState,a=Ve();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function In(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=ue.updateQueue,t===null&&(t=Fl(),ue.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Ch(){return Ve().memoizedState}function as(e,t,a,i){var u=st();ue.flags|=e,u.memoizedState=In(1|t,{destroy:void 0},a,i===void 0?null:i)}function ns(e,t,a,i){var u=Ve();i=i===void 0?null:i;var o=u.memoizedState.inst;Ae!==null&&i!==null&&Xr(i,Ae.memoizedState.deps)?u.memoizedState=In(t,o,a,i):(ue.flags|=e,u.memoizedState=In(1|t,o,a,i))}function Nh(e,t){as(8390656,8,e,t)}function iu(e,t){ns(2048,8,e,t)}function hv(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=Fl(),ue.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function xh(e){var t=Ve().memoizedState;return hv({ref:t,nextImpl:e}),function(){if((be&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Dh(e,t){return ns(4,2,e,t)}function Uh(e,t){return ns(4,4,e,t)}function kh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zh(e,t,a){a=a!=null?a.concat([e]):null,ns(4,4,kh.bind(null,t,e),a)}function lu(){}function Mh(e,t){var a=Ve();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Xr(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Lh(e,t){var a=Ve();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Xr(t,i[1]))return i[0];if(i=e(),cn){ba(!0);try{e()}finally{ba(!1)}}return a.memoizedState=[i,t],i}function su(e,t,a){return a===void 0||(ra&1073741824)!==0&&(de&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Hf(),ue.lanes|=e,ka|=e,a)}function Bh(e,t,a,i){return pt(a,t)?a:Kn.current!==null?(e=su(e,a,i),pt(e,t)||(Ke=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(de&261930)===0?(Ke=!0,e.memoizedState=a):(e=Hf(),ue.lanes|=e,ka|=e,t)}function Hh(e,t,a,i,u){var o=$.p;$.p=o!==0&&8>o?o:8;var f=k.T,y={};k.T=y,ou(e,!1,t,a);try{var p=u(),j=k.S;if(j!==null&&j(y,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var U=sv(p,i);Gi(e,t,U,Tt(e))}else Gi(e,t,i,Tt(e))}catch(M){Gi(e,t,{then:function(){},status:"rejected",reason:M},Tt())}finally{$.p=o,f!==null&&y.types!==null&&(f.types=y.types),k.T=f}}function fv(){}function ru(e,t,a,i){if(e.tag!==5)throw Error(r(476));var u=qh(e).queue;Hh(e,u,t,ae,a===null?fv:function(){return Vh(e),a(i)})}function qh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vh(e){var t=qh(e);t.next===null&&(t=e.alternate.memoizedState),Gi(e,t.next.queue,{},Tt())}function uu(){return Fe(ll)}function Gh(){return Ve().memoizedState}function $h(){return Ve().memoizedState}function dv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Tt();e=ja(a);var i=Ca(t,e,a);i!==null&&(dt(i,t,a),Li(i,t,a)),t={cache:Lr()},e.payload=t;return}t=t.return}}function mv(e,t,a){var i=Tt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},is(e)?Jh(t,a):(a=Or(e,t,a,i),a!==null&&(dt(a,e,i),Yh(a,t,i)))}function Kh(e,t,a){var i=Tt();Gi(e,t,a,i)}function Gi(e,t,a,i){var u={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(is(e))Jh(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,y=o(f,a);if(u.hasEagerState=!0,u.eagerState=y,pt(y,f))return Bl(e,t,u,0),je===null&&Ll(),!1}catch{}finally{}if(a=Or(e,t,u,i),a!==null)return dt(a,e,i),Yh(a,t,i),!0}return!1}function ou(e,t,a,i){if(i={lane:2,revertLane:Vu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},is(e)){if(t)throw Error(r(479))}else t=Or(e,a,i,2),t!==null&&dt(t,e,2)}function is(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Jh(e,t){Jn=Pl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Yh(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Po(e,a)}}var $i={readContext:Fe,use:es,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};$i.useEffectEvent=Le;var Ih={readContext:Fe,use:es,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Nh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,as(4194308,4,kh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return as(4194308,4,e,t)},useInsertionEffect:function(e,t){as(4,2,e,t)},useMemo:function(e,t){var a=st();t=t===void 0?null:t;var i=e();if(cn){ba(!0);try{e()}finally{ba(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=st();if(a!==void 0){var u=a(t);if(cn){ba(!0);try{a(t)}finally{ba(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=mv.bind(null,ue,e),[i.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,a=Kh.bind(null,ue,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(e,t){var a=st();return su(a,e,t)},useTransition:function(){var e=au(!1);return e=Hh.bind(null,ue,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=ue,u=st();if(ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),je===null)throw Error(r(349));(de&127)!==0||mh(i,t,a)}u.memoizedState=a;var o={value:a,getSnapshot:t};return u.queue=o,Nh(vh.bind(null,i,o,e),[e]),i.flags|=2048,In(9,{destroy:void 0},gh.bind(null,i,o,a,t),null),a},useId:function(){var e=st(),t=je.identifierPrefix;if(ge){var a=Zt,i=Qt;a=(i&~(1<<32-yt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Wl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=rv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uu,useFormState:Ah,useActionState:Ah,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ou.bind(null,ue,!0,a),a.dispatch=t,[e,t]},useMemoCache:Fr,useCacheRefresh:function(){return st().memoizedState=dv.bind(null,ue)},useEffectEvent:function(e){var t=st(),a={impl:e};return t.memoizedState=a,function(){if((be&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cu={readContext:Fe,use:es,useCallback:Mh,useContext:Fe,useEffect:iu,useImperativeHandle:zh,useInsertionEffect:Dh,useLayoutEffect:Uh,useMemo:Lh,useReducer:ts,useRef:Ch,useState:function(){return ts(ua)},useDebugValue:lu,useDeferredValue:function(e,t){var a=Ve();return Bh(a,Ae.memoizedState,e,t)},useTransition:function(){var e=ts(ua)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Vi(e),t]},useSyncExternalStore:dh,useId:Gh,useHostTransitionStatus:uu,useFormState:Oh,useActionState:Oh,useOptimistic:function(e,t){var a=Ve();return _h(a,Ae,e,t)},useMemoCache:Fr,useCacheRefresh:$h};cu.useEffectEvent=xh;var Xh={readContext:Fe,use:es,useCallback:Mh,useContext:Fe,useEffect:iu,useImperativeHandle:zh,useInsertionEffect:Dh,useLayoutEffect:Uh,useMemo:Lh,useReducer:tu,useRef:Ch,useState:function(){return tu(ua)},useDebugValue:lu,useDeferredValue:function(e,t){var a=Ve();return Ae===null?su(a,e,t):Bh(a,Ae.memoizedState,e,t)},useTransition:function(){var e=tu(ua)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Vi(e),t]},useSyncExternalStore:dh,useId:Gh,useHostTransitionStatus:uu,useFormState:jh,useActionState:jh,useOptimistic:function(e,t){var a=Ve();return Ae!==null?_h(a,Ae,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fr,useCacheRefresh:$h};Xh.useEffectEvent=xh;function hu(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var fu={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Tt(),u=ja(i);u.payload=t,a!=null&&(u.callback=a),t=Ca(e,u,i),t!==null&&(dt(t,e,i),Li(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Tt(),u=ja(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Ca(e,u,i),t!==null&&(dt(t,e,i),Li(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Tt(),i=ja(a);i.tag=2,t!=null&&(i.callback=t),t=Ca(e,i,a),t!==null&&(dt(t,e,a),Li(t,e,a))}};function Qh(e,t,a,i,u,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,f):t.prototype&&t.prototype.isPureReactComponent?!Ci(a,i)||!Ci(u,o):!0}function Zh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&fu.enqueueReplaceState(t,t.state,null)}function hn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function Ph(e){Ml(e)}function Wh(e){console.error(e)}function Fh(e){Ml(e)}function ls(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ef(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function du(e,t,a){return a=ja(a),a.tag=3,a.payload={element:null},a.callback=function(){ls(e,t)},a}function tf(e){return e=ja(e),e.tag=3,e}function af(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){ef(t,a,i)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){ef(t,a,i),typeof u!="function"&&(za===null?za=new Set([this]):za.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function gv(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Hn(t,a,u,!0),a=bt.current,a!==null){switch(a.tag){case 31:case 13:return Mt===null?ys():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===Yl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Bu(e,i,u)),!1;case 22:return a.flags|=65536,i===Yl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Bu(e,i,u)),!1}throw Error(r(435,a.tag))}return Bu(e,i,u),ys(),!1}if(ge)return t=bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Dr&&(e=Error(r(422),{cause:i}),Di(Dt(e,a)))):(i!==Dr&&(t=Error(r(423),{cause:i}),Di(Dt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Dt(i,a),u=du(e.stateNode,i,u),$r(e,u),Be!==4&&(Be=2)),!1;var o=Error(r(520),{cause:i});if(o=Dt(o,a),Pi===null?Pi=[o]:Pi.push(o),Be!==4&&(Be=2),t===null)return!0;i=Dt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=du(a.stateNode,i,e),$r(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(za===null||!za.has(o))))return a.flags|=65536,u&=-u,a.lanes|=u,u=tf(u),af(u,e,a,i),$r(a,u),!1}a=a.return}while(a!==null);return!1}var mu=Error(r(461)),Ke=!1;function et(e,t,a,i){t.child=e===null?sh(t,null,a,i):on(t,e.child,a,i)}function nf(e,t,a,i,u){a=a.render;var o=t.ref;if("ref"in i){var f={};for(var y in i)y!=="ref"&&(f[y]=i[y])}else f=i;return ln(t),i=Qr(e,t,a,f,o,u),y=Zr(),e!==null&&!Ke?(Pr(e,t,u),oa(e,t,u)):(ge&&y&&Nr(t),t.flags|=1,et(e,t,i,u),t.child)}function lf(e,t,a,i,u){if(e===null){var o=a.type;return typeof o=="function"&&!Rr(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,sf(e,t,o,i,u)):(e=ql(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!wu(e,u)){var f=o.memoizedProps;if(a=a.compare,a=a!==null?a:Ci,a(f,i)&&e.ref===t.ref)return oa(e,t,u)}return t.flags|=1,e=na(o,i),e.ref=t.ref,e.return=t,t.child=e}function sf(e,t,a,i,u){if(e!==null){var o=e.memoizedProps;if(Ci(o,i)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=i=o,wu(e,u))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,oa(e,t,u)}return gu(e,t,a,i,u)}function rf(e,t,a,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|a:a,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return uf(e,t,o,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kl(t,o!==null?o.cachePool:null),o!==null?oh(t,o):Jr(),ch(t);else return i=t.lanes=536870912,uf(e,t,o!==null?o.baseLanes|a:a,a,i)}else o!==null?(Kl(t,o.cachePool),oh(t,o),xa(),t.memoizedState=null):(e!==null&&Kl(t,null),Jr(),xa());return et(e,t,u,a),t.child}function Ki(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uf(e,t,a,i,u){var o=Hr();return o=o===null?null:{parent:Ge._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&Kl(t,null),Jr(),ch(t),e!==null&&Hn(e,t,i,!0),t.childLanes=u,null}function ss(e,t){return t=us({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function of(e,t,a){return on(t,e.child,null,a),e=ss(t,t.pendingProps),e.flags|=2,St(t),t.memoizedState=null,e}function vv(e,t,a){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(i.mode==="hidden")return e=ss(t,i),t.lanes=536870912,Ki(null,e);if(Ir(t),(e=xe)?(e=Sd(e,zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},a=Jc(e),a.return=t,t.child=a,We=t,xe=null)):e=null,e===null)throw Aa(t);return t.lanes=536870912,null}return ss(t,i)}var o=e.memoizedState;if(o!==null){var f=o.dehydrated;if(Ir(t),u)if(t.flags&256)t.flags&=-257,t=of(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ke||Hn(e,t,a,!1),u=(a&e.childLanes)!==0,Ke||u){if(i=je,i!==null&&(f=Wo(i,a),f!==0&&f!==o.retryLane))throw o.retryLane=f,en(e,f),dt(i,e,f),mu;ys(),t=of(e,t,a)}else e=o.treeContext,xe=Lt(f.nextSibling),We=t,ge=!0,Ta=null,zt=!1,e!==null&&Xc(t,e),t=ss(t,i),t.flags|=4096;return t}return e=na(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function rs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function gu(e,t,a,i,u){return ln(t),a=Qr(e,t,a,i,void 0,u),i=Zr(),e!==null&&!Ke?(Pr(e,t,u),oa(e,t,u)):(ge&&i&&Nr(t),t.flags|=1,et(e,t,a,u),t.child)}function cf(e,t,a,i,u,o){return ln(t),t.updateQueue=null,a=fh(t,i,a,u),hh(e),i=Zr(),e!==null&&!Ke?(Pr(e,t,o),oa(e,t,o)):(ge&&i&&Nr(t),t.flags|=1,et(e,t,a,o),t.child)}function hf(e,t,a,i,u){if(ln(t),t.stateNode===null){var o=zn,f=a.contextType;typeof f=="object"&&f!==null&&(o=Fe(f)),o=new a(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=fu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Vr(t),f=a.contextType,o.context=typeof f=="object"&&f!==null?Fe(f):zn,o.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(hu(t,a,f,i),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&fu.enqueueReplaceState(o,o.state,null),Hi(t,i,o,u),Bi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var y=t.memoizedProps,p=hn(a,y);o.props=p;var j=o.context,U=a.contextType;f=zn,typeof U=="object"&&U!==null&&(f=Fe(U));var M=a.getDerivedStateFromProps;U=typeof M=="function"||typeof o.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,U||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y||j!==f)&&Zh(t,o,i,f),Ra=!1;var N=t.memoizedState;o.state=N,Hi(t,i,o,u),Bi(),j=t.memoizedState,y||N!==j||Ra?(typeof M=="function"&&(hu(t,a,M,i),j=t.memoizedState),(p=Ra||Qh(t,a,p,i,N,j,f))?(U||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=j),o.props=i,o.state=j,o.context=f,i=p):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Gr(e,t),f=t.memoizedProps,U=hn(a,f),o.props=U,M=t.pendingProps,N=o.context,j=a.contextType,p=zn,typeof j=="object"&&j!==null&&(p=Fe(j)),y=a.getDerivedStateFromProps,(j=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==M||N!==p)&&Zh(t,o,i,p),Ra=!1,N=t.memoizedState,o.state=N,Hi(t,i,o,u),Bi();var x=t.memoizedState;f!==M||N!==x||Ra||e!==null&&e.dependencies!==null&&Gl(e.dependencies)?(typeof y=="function"&&(hu(t,a,y,i),x=t.memoizedState),(U=Ra||Qh(t,a,U,i,N,x,p)||e!==null&&e.dependencies!==null&&Gl(e.dependencies))?(j||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,x,p),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,x,p)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=x),o.props=i,o.state=x,o.context=p,i=U):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,rs(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=on(t,e.child,null,u),t.child=on(t,null,a,u)):et(e,t,a,u),t.memoizedState=o.state,e=t.child):e=oa(e,t,u),e}function ff(e,t,a,i){return an(),t.flags|=256,et(e,t,a,i),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(e){return{baseLanes:e,cachePool:eh()}}function pu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Et),e}function df(e,t,a){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),f&&(u=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(u?Na(t):xa(),(e=xe)?(e=Sd(e,zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},a=Jc(e),a.return=t,t.child=a,We=t,xe=null)):e=null,e===null)throw Aa(t);return eo(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,u?(xa(),u=t.mode,y=us({mode:"hidden",children:y},u),i=tn(i,u,a,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=yu(a),i.childLanes=pu(e,f,a),t.memoizedState=vu,Ki(null,i)):(Na(t),_u(t,y))}var p=e.memoizedState;if(p!==null&&(y=p.dehydrated,y!==null)){if(o)t.flags&256?(Na(t),t.flags&=-257,t=bu(e,t,a)):t.memoizedState!==null?(xa(),t.child=e.child,t.flags|=128,t=null):(xa(),y=i.fallback,u=t.mode,i=us({mode:"visible",children:i.children},u),y=tn(y,u,a,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,on(t,e.child,null,a),i=t.child,i.memoizedState=yu(a),i.childLanes=pu(e,f,a),t.memoizedState=vu,t=Ki(null,i));else if(Na(t),eo(y)){if(f=y.nextSibling&&y.nextSibling.dataset,f)var j=f.dgst;f=j,i=Error(r(419)),i.stack="",i.digest=f,Di({value:i,source:null,stack:null}),t=bu(e,t,a)}else if(Ke||Hn(e,t,a,!1),f=(a&e.childLanes)!==0,Ke||f){if(f=je,f!==null&&(i=Wo(f,a),i!==0&&i!==p.retryLane))throw p.retryLane=i,en(e,i),dt(f,e,i),mu;Fu(y)||ys(),t=bu(e,t,a)}else Fu(y)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,xe=Lt(y.nextSibling),We=t,ge=!0,Ta=null,zt=!1,e!==null&&Xc(t,e),t=_u(t,i.children),t.flags|=4096);return t}return u?(xa(),y=i.fallback,u=t.mode,p=e.child,j=p.sibling,i=na(p,{mode:"hidden",children:i.children}),i.subtreeFlags=p.subtreeFlags&65011712,j!==null?y=na(j,y):(y=tn(y,u,a,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,Ki(null,i),i=t.child,y=e.child.memoizedState,y===null?y=yu(a):(u=y.cachePool,u!==null?(p=Ge._currentValue,u=u.parent!==p?{parent:p,pool:p}:u):u=eh(),y={baseLanes:y.baseLanes|a,cachePool:u}),i.memoizedState=y,i.childLanes=pu(e,f,a),t.memoizedState=vu,Ki(e.child,i)):(Na(t),a=e.child,e=a.sibling,a=na(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function _u(e,t){return t=us({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function us(e,t){return e=_t(22,e,null,t),e.lanes=0,e}function bu(e,t,a){return on(t,e.child,null,a),e=_u(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mf(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),zr(e.return,t,a)}function Su(e,t,a,i,u,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u,treeForkCount:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=a,f.tailMode=u,f.treeForkCount=o)}function gf(e,t,a){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var f=qe.current,y=(f&2)!==0;if(y?(f=f&1|2,t.flags|=128):f&=1,K(qe,f),et(e,t,i,a),i=ge?xi:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mf(e,a,t);else if(e.tag===19)mf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Zl(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Su(t,!1,u,a,o,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Zl(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Su(t,!0,a,null,o,i);break;case"together":Su(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Hn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=na(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=na(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function wu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Gl(e)))}function yv(e,t,a){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),Oa(t,Ge,e.memoizedState.cache),an();break;case 27:case 5:Vt(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:Oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ir(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Na(t),t.flags|=128,null):(a&t.child.childLanes)!==0?df(e,t,a):(Na(t),e=oa(e,t,a),e!==null?e.sibling:null);Na(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Hn(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return gf(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K(qe,qe.current),i)break;return null;case 22:return t.lanes=0,rf(e,t,a,t.pendingProps);case 24:Oa(t,Ge,e.memoizedState.cache)}return oa(e,t,a)}function vf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!wu(e,a)&&(t.flags&128)===0)return Ke=!1,yv(e,t,a);Ke=(e.flags&131072)!==0}else Ke=!1,ge&&(t.flags&1048576)!==0&&Ic(t,xi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=rn(t.elementType),t.type=e,typeof e=="function")Rr(e)?(i=hn(e,i),t.tag=1,t=hf(null,t,e,i,a)):(t.tag=0,t=gu(null,t,e,i,a));else{if(e!=null){var u=e.$$typeof;if(u===P){t.tag=11,t=nf(null,t,e,i,a);break e}else if(u===X){t.tag=14,t=lf(null,t,e,i,a);break e}}throw t=qt(e)||e,Error(r(306,t,""))}}return t;case 0:return gu(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=hn(i,t.pendingProps),hf(e,t,i,u,a);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,Gr(e,t),Hi(t,i,null,a);var f=t.memoizedState;if(i=f.cache,Oa(t,Ge,i),i!==o.cache&&Mr(t,[Ge],a,!0),Bi(),i=f.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=ff(e,t,i,a);break e}else if(i!==u){u=Dt(Error(r(424)),t),Di(u),t=ff(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xe=Lt(e.firstChild),We=t,ge=!0,Ta=null,zt=!0,a=sh(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(an(),i===u){t=oa(e,t,a);break e}et(e,t,i,a)}t=t.child}return t;case 26:return rs(e,t),e===null?(a=Rd(t.type,null,t.pendingProps,null))?t.memoizedState=a:ge||(a=t.type,e=t.pendingProps,i=Ts(ce.current).createElement(a),i[Pe]=t,i[rt]=e,tt(i,a,e),Qe(i),t.stateNode=i):t.memoizedState=Rd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vt(t),e===null&&ge&&(i=t.stateNode=Td(t.type,t.pendingProps,ce.current),We=t,zt=!0,u=xe,Ha(t.type)?(to=u,xe=Lt(i.firstChild)):xe=u),et(e,t,t.pendingProps.children,a),rs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((u=i=xe)&&(i=Iv(i,t.type,t.pendingProps,zt),i!==null?(t.stateNode=i,We=t,xe=Lt(i.firstChild),zt=!1,u=!0):u=!1),u||Aa(t)),Vt(t),u=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,i=o.children,Zu(u,o)?i=null:f!==null&&Zu(u,f)&&(t.flags|=32),t.memoizedState!==null&&(u=Qr(e,t,uv,null,null,a),ll._currentValue=u),rs(e,t),et(e,t,i,a),t.child;case 6:return e===null&&ge&&((e=a=xe)&&(a=Xv(a,t.pendingProps,zt),a!==null?(t.stateNode=a,We=t,xe=null,e=!0):e=!1),e||Aa(t)),null;case 13:return df(e,t,a);case 4:return Me(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=on(t,null,i,a):et(e,t,i,a),t.child;case 11:return nf(e,t,t.type,t.pendingProps,a);case 7:return et(e,t,t.pendingProps,a),t.child;case 8:return et(e,t,t.pendingProps.children,a),t.child;case 12:return et(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Oa(t,t.type,i.value),et(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,ln(t),u=Fe(u),i=i(u),t.flags|=1,et(e,t,i,a),t.child;case 14:return lf(e,t,t.type,t.pendingProps,a);case 15:return sf(e,t,t.type,t.pendingProps,a);case 19:return gf(e,t,a);case 31:return vv(e,t,a);case 22:return rf(e,t,a,t.pendingProps);case 24:return ln(t),i=Fe(Ge),e===null?(u=Hr(),u===null&&(u=je,o=Lr(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=a),u=o),t.memoizedState={parent:i,cache:u},Vr(t),Oa(t,Ge,u)):((e.lanes&a)!==0&&(Gr(e,t),Hi(t,null,null,a),Bi()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Oa(t,Ge,i)):(i=o.cache,Oa(t,Ge,i),i!==u.cache&&Mr(t,[Ge],a,!0))),et(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ca(e){e.flags|=4}function Eu(e,t,a,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if($f())e.flags|=8192;else throw un=Yl,qr}else e.flags&=-16777217}function yf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dd(t))if($f())e.flags|=8192;else throw un=Yl,qr}function os(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qo():536870912,e.lanes|=t,Pn|=t)}function Ji(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function pv(e,t,a){var i=t.pendingProps;switch(xr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),sa(Ge),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bn(t)?ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ur())),De(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(ca(t),o!==null?(De(t),yf(t,o)):(De(t),Eu(t,u,null,i,a))):o?o!==e.memoizedState?(ca(t),De(t),yf(t,o)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ca(t),De(t),Eu(t,u,e,i,a)),null;case 27:if(Xt(t),a=ce.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return De(t),null}e=I.current,Bn(t)?Qc(t):(e=Td(u,i,a),t.stateNode=e,ca(t))}return De(t),null;case 5:if(Xt(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return De(t),null}if(o=I.current,Bn(t))Qc(t);else{var f=Ts(ce.current);switch(o){case 1:o=f.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=f.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=f.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=f.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=f.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?f.createElement("select",{is:i.is}):f.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?f.createElement(u,{is:i.is}):f.createElement(u)}}o[Pe]=t,o[rt]=i;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=o;e:switch(tt(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ca(t)}}return De(t),Eu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=ce.current,Bn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=We,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||dd(e.nodeValue,a)),e||Aa(t,!0)}else e=Ts(e).createTextNode(i),e[Pe]=t,t.stateNode=e}return De(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Bn(t),a!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Pe]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else a=Ur(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(St(t),t):(St(t),null);if((t.flags&128)!==0)throw Error(r(558))}return De(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Bn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Pe]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),u=!1}else u=Ur(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(St(t),t):(St(t),null)}return St(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),os(t,t.updateQueue),De(t),null);case 4:return _e(),e===null&&Ju(t.stateNode.containerInfo),De(t),null;case 10:return sa(t.type),De(t),null;case 19:if(L(qe),i=t.memoizedState,i===null)return De(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)Ji(i,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Zl(e),o!==null){for(t.flags|=128,Ji(i,!1),e=o.updateQueue,t.updateQueue=e,os(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Kc(a,e),a=a.sibling;return K(qe,qe.current&1|2),ge&&ia(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&gt()>ms&&(t.flags|=128,u=!0,Ji(i,!1),t.lanes=4194304)}else{if(!u)if(e=Zl(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,os(t,e),Ji(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return De(t),null}else 2*gt()-i.renderingStartTime>ms&&a!==536870912&&(t.flags|=128,u=!0,Ji(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=gt(),e.sibling=null,a=qe.current,K(qe,u?a&1|2:a&1),ge&&ia(t,i.treeForkCount),e):(De(t),null);case 22:case 23:return St(t),Yr(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),a=t.updateQueue,a!==null&&os(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&L(sn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sa(Ge),De(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function _v(e,t){switch(xr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(Ge),_e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xt(t),null;case 31:if(t.memoizedState!==null){if(St(t),t.alternate===null)throw Error(r(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(St(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(qe),null;case 4:return _e(),null;case 10:return sa(t.type),null;case 22:case 23:return St(t),Yr(),e!==null&&L(sn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa(Ge),null;case 25:return null;default:return null}}function pf(e,t){switch(xr(t),t.tag){case 3:sa(Ge),_e();break;case 26:case 27:case 5:Xt(t);break;case 4:_e();break;case 31:t.memoizedState!==null&&St(t);break;case 13:St(t);break;case 19:L(qe);break;case 10:sa(t.type);break;case 22:case 23:St(t),Yr(),e!==null&&L(sn);break;case 24:sa(Ge)}}function Yi(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var o=a.create,f=a.inst;i=o(),f.destroy=i}a=a.next}while(a!==u)}}catch(y){Te(t,t.return,y)}}function Da(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var f=i.inst,y=f.destroy;if(y!==void 0){f.destroy=void 0,u=t;var p=a,j=y;try{j()}catch(U){Te(u,p,U)}}}i=i.next}while(i!==o)}}catch(U){Te(t,t.return,U)}}function _f(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{uh(t,a)}catch(i){Te(e,e.return,i)}}}function bf(e,t,a){a.props=hn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Te(e,t,i)}}function Ii(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){Te(e,t,u)}}function Pt(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){Te(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Te(e,t,u)}else a.current=null}function Sf(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){Te(e,e.return,u)}}function Tu(e,t,a){try{var i=e.stateNode;Vv(i,e.type,a,t),i[rt]=t}catch(u){Te(e,e.return,u)}}function wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ou(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ta));else if(i!==4&&(i===27&&Ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ou(e,t,a),e=e.sibling;e!==null;)Ou(e,t,a),e=e.sibling}function cs(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cs(e,t,a),e=e.sibling;e!==null;)cs(e,t,a),e=e.sibling}function Ef(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);tt(t,i,a),t[Pe]=e,t[rt]=a}catch(o){Te(e,e.return,o)}}var ha=!1,Je=!1,Ru=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function bv(e,t){if(e=e.containerInfo,Xu=xs,e=zc(e),br(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var f=0,y=-1,p=-1,j=0,U=0,M=e,N=null;t:for(;;){for(var x;M!==a||u!==0&&M.nodeType!==3||(y=f+u),M!==o||i!==0&&M.nodeType!==3||(p=f+i),M.nodeType===3&&(f+=M.nodeValue.length),(x=M.firstChild)!==null;)N=M,M=x;for(;;){if(M===e)break t;if(N===a&&++j===u&&(y=f),N===o&&++U===i&&(p=f),(x=M.nextSibling)!==null)break;M=N,N=M.parentNode}M=x}a=y===-1||p===-1?null:{start:y,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qu={focusedElem:e,selectionRange:a},xs=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,u=o.memoizedProps,o=o.memoizedState,i=a.stateNode;try{var Y=hn(a.type,u);e=i.getSnapshotBeforeUpdate(Y,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(te){Te(a,a.return,te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Wu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Af(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:da(e,a),i&4&&Yi(5,a);break;case 1:if(da(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){Te(a,a.return,f)}else{var u=hn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Te(a,a.return,f)}}i&64&&_f(a),i&512&&Ii(a,a.return);break;case 3:if(da(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{uh(e,t)}catch(f){Te(a,a.return,f)}}break;case 27:t===null&&i&4&&Ef(a);case 26:case 5:da(e,a),t===null&&i&4&&Sf(a),i&512&&Ii(a,a.return);break;case 12:da(e,a);break;case 31:da(e,a),i&4&&jf(e,a);break;case 13:da(e,a),i&4&&Cf(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Cv.bind(null,a),Qv(e,a))));break;case 22:if(i=a.memoizedState!==null||ha,!i){t=t!==null&&t.memoizedState!==null||Je,u=ha;var o=Je;ha=i,(Je=t)&&!o?ma(e,a,(a.subtreeFlags&8772)!==0):da(e,a),ha=u,Je=o}break;case 30:break;default:da(e,a)}}function Of(e){var t=e.alternate;t!==null&&(e.alternate=null,Of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&nr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,ot=!1;function fa(e,t,a){for(a=a.child;a!==null;)Rf(e,t,a),a=a.sibling}function Rf(e,t,a){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(yi,a)}catch{}switch(a.tag){case 26:Je||Pt(a,t),fa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||Pt(a,t);var i=Ue,u=ot;Ha(a.type)&&(Ue=a.stateNode,ot=!1),fa(e,t,a),al(a.stateNode),Ue=i,ot=u;break;case 5:Je||Pt(a,t);case 6:if(i=Ue,u=ot,Ue=null,fa(e,t,a),Ue=i,ot=u,Ue!==null)if(ot)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(a.stateNode)}catch(o){Te(a,t,o)}else try{Ue.removeChild(a.stateNode)}catch(o){Te(a,t,o)}break;case 18:Ue!==null&&(ot?(e=Ue,_d(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),li(e)):_d(Ue,a.stateNode));break;case 4:i=Ue,u=ot,Ue=a.stateNode.containerInfo,ot=!0,fa(e,t,a),Ue=i,ot=u;break;case 0:case 11:case 14:case 15:Da(2,a,t),Je||Da(4,a,t),fa(e,t,a);break;case 1:Je||(Pt(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&bf(a,t,i)),fa(e,t,a);break;case 21:fa(e,t,a);break;case 22:Je=(i=Je)||a.memoizedState!==null,fa(e,t,a),Je=i;break;default:fa(e,t,a)}}function jf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{li(e)}catch(a){Te(t,t.return,a)}}}function Cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(a){Te(t,t.return,a)}}function Sv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tf),t;default:throw Error(r(435,e.tag))}}function hs(e,t){var a=Sv(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var u=Nv.bind(null,e,i);i.then(u,u)}})}function ct(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],o=e,f=t,y=f;e:for(;y!==null;){switch(y.tag){case 27:if(Ha(y.type)){Ue=y.stateNode,ot=!1;break e}break;case 5:Ue=y.stateNode,ot=!1;break e;case 3:case 4:Ue=y.stateNode.containerInfo,ot=!0;break e}y=y.return}if(Ue===null)throw Error(r(160));Rf(o,f,u),Ue=null,ot=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Nf(t,e),t=t.sibling}var $t=null;function Nf(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ht(e),i&4&&(Da(3,e,e.return),Yi(3,e),Da(5,e,e.return));break;case 1:ct(t,e),ht(e),i&512&&(Je||a===null||Pt(a,a.return)),i&64&&ha&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=$t;if(ct(t,e),ht(e),i&512&&(Je||a===null||Pt(a,a.return)),i&4){var o=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[bi]||o[Pe]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),tt(o,i,a),o[Pe]=e,Qe(o),i=o;break e;case"link":var f=Nd("link","href",u).get(i+(a.href||""));if(f){for(var y=0;y<f.length;y++)if(o=f[y],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(y,1);break t}}o=u.createElement(i),tt(o,i,a),u.head.appendChild(o);break;case"meta":if(f=Nd("meta","content",u).get(i+(a.content||""))){for(y=0;y<f.length;y++)if(o=f[y],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(y,1);break t}}o=u.createElement(i),tt(o,i,a),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[Pe]=e,Qe(o),i=o}e.stateNode=i}else xd(u,e.type,e.stateNode);else e.stateNode=Cd(u,i,e.memoizedProps);else o!==i?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,i===null?xd(u,e.type,e.stateNode):Cd(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Tu(e,e.memoizedProps,a.memoizedProps)}break;case 27:ct(t,e),ht(e),i&512&&(Je||a===null||Pt(a,a.return)),a!==null&&i&4&&Tu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ct(t,e),ht(e),i&512&&(Je||a===null||Pt(a,a.return)),e.flags&32){u=e.stateNode;try{jn(u,"")}catch(Y){Te(e,e.return,Y)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Tu(e,u,a!==null?a.memoizedProps:u)),i&1024&&(Ru=!0);break;case 6:if(ct(t,e),ht(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(Y){Te(e,e.return,Y)}}break;case 3:if(Rs=null,u=$t,$t=As(t.containerInfo),ct(t,e),$t=u,ht(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(Y){Te(e,e.return,Y)}Ru&&(Ru=!1,xf(e));break;case 4:i=$t,$t=As(e.stateNode.containerInfo),ct(t,e),ht(e),$t=i;break;case 12:ct(t,e),ht(e);break;case 31:ct(t,e),ht(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hs(e,i)));break;case 13:ct(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ds=gt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hs(e,i)));break;case 22:u=e.memoizedState!==null;var p=a!==null&&a.memoizedState!==null,j=ha,U=Je;if(ha=j||u,Je=U||p,ct(t,e),Je=U,ha=j,ht(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||p||ha||Je||fn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){p=a=t;try{if(o=p.stateNode,u)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=p.stateNode;var M=p.memoizedProps.style,N=M!=null&&M.hasOwnProperty("display")?M.display:null;y.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(Y){Te(p,p.return,Y)}}}else if(t.tag===6){if(a===null){p=t;try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(Y){Te(p,p.return,Y)}}}else if(t.tag===18){if(a===null){p=t;try{var x=p.stateNode;u?bd(x,!0):bd(p.stateNode,!1)}catch(Y){Te(p,p.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,hs(e,a))));break;case 19:ct(t,e),ht(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hs(e,i)));break;case 30:break;case 21:break;default:ct(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(wf(i)){a=i;break}i=i.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,o=Au(e);cs(e,o,u);break;case 5:var f=a.stateNode;a.flags&32&&(jn(f,""),a.flags&=-33);var y=Au(e);cs(e,y,f);break;case 3:case 4:var p=a.stateNode.containerInfo,j=Au(e);Ou(e,j,p);break;default:throw Error(r(161))}}catch(U){Te(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Af(e,t.alternate,t),t=t.sibling}function fn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Da(4,t,t.return),fn(t);break;case 1:Pt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&bf(t,t.return,a),fn(t);break;case 27:al(t.stateNode);case 26:case 5:Pt(t,t.return),fn(t);break;case 22:t.memoizedState===null&&fn(t);break;case 30:fn(t);break;default:fn(t)}e=e.sibling}}function ma(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:ma(u,o,a),Yi(4,o);break;case 1:if(ma(u,o,a),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(j){Te(i,i.return,j)}if(i=o,u=i.updateQueue,u!==null){var y=i.stateNode;try{var p=u.shared.hiddenCallbacks;if(p!==null)for(u.shared.hiddenCallbacks=null,u=0;u<p.length;u++)rh(p[u],y)}catch(j){Te(i,i.return,j)}}a&&f&64&&_f(o),Ii(o,o.return);break;case 27:Ef(o);case 26:case 5:ma(u,o,a),a&&i===null&&f&4&&Sf(o),Ii(o,o.return);break;case 12:ma(u,o,a);break;case 31:ma(u,o,a),a&&f&4&&jf(u,o);break;case 13:ma(u,o,a),a&&f&4&&Cf(u,o);break;case 22:o.memoizedState===null&&ma(u,o,a),Ii(o,o.return);break;case 30:break;default:ma(u,o,a)}t=t.sibling}}function ju(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ui(a))}function Cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e))}function Kt(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Df(e,t,a,i),t=t.sibling}function Df(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,a,i),u&2048&&Yi(9,t);break;case 1:Kt(e,t,a,i);break;case 3:Kt(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e)));break;case 12:if(u&2048){Kt(e,t,a,i),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,y=o.onPostCommit;typeof y=="function"&&y(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Te(t,t.return,p)}}else Kt(e,t,a,i);break;case 31:Kt(e,t,a,i);break;case 13:Kt(e,t,a,i);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?Kt(e,t,a,i):Xi(e,t):o._visibility&2?Kt(e,t,a,i):(o._visibility|=2,Xn(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&ju(f,t);break;case 24:Kt(e,t,a,i),u&2048&&Cu(t.alternate,t);break;default:Kt(e,t,a,i)}}function Xn(e,t,a,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,f=t,y=a,p=i,j=f.flags;switch(f.tag){case 0:case 11:case 15:Xn(o,f,y,p,u),Yi(8,f);break;case 23:break;case 22:var U=f.stateNode;f.memoizedState!==null?U._visibility&2?Xn(o,f,y,p,u):Xi(o,f):(U._visibility|=2,Xn(o,f,y,p,u)),u&&j&2048&&ju(f.alternate,f);break;case 24:Xn(o,f,y,p,u),u&&j&2048&&Cu(f.alternate,f);break;default:Xn(o,f,y,p,u)}t=t.sibling}}function Xi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:Xi(a,i),u&2048&&ju(i.alternate,i);break;case 24:Xi(a,i),u&2048&&Cu(i.alternate,i);break;default:Xi(a,i)}t=t.sibling}}var Qi=8192;function Qn(e,t,a){if(e.subtreeFlags&Qi)for(e=e.child;e!==null;)Uf(e,t,a),e=e.sibling}function Uf(e,t,a){switch(e.tag){case 26:Qn(e,t,a),e.flags&Qi&&e.memoizedState!==null&&ry(a,$t,e.memoizedState,e.memoizedProps);break;case 5:Qn(e,t,a);break;case 3:case 4:var i=$t;$t=As(e.stateNode.containerInfo),Qn(e,t,a),$t=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Qi,Qi=16777216,Qn(e,t,a),Qi=i):Qn(e,t,a));break;default:Qn(e,t,a)}}function kf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Ze=i,Mf(i,e)}kf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zf(e),e=e.sibling}function zf(e){switch(e.tag){case 0:case 11:case 15:Zi(e),e.flags&2048&&Da(9,e,e.return);break;case 3:Zi(e);break;case 12:Zi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fs(e)):Zi(e);break;default:Zi(e)}}function fs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Ze=i,Mf(i,e)}kf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Da(8,t,t.return),fs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,fs(t));break;default:fs(t)}e=e.sibling}}function Mf(e,t){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:Da(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ui(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,Ze=i;else e:for(a=e;Ze!==null;){i=Ze;var u=i.sibling,o=i.return;if(Of(i),i===a){Ze=null;break e}if(u!==null){u.return=o,Ze=u;break e}Ze=o}}}var wv={getCacheForType:function(e){var t=Fe(Ge),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Fe(Ge).controller.signal}},Ev=typeof WeakMap=="function"?WeakMap:Map,be=0,je=null,he=null,de=0,Ee=0,wt=null,Ua=!1,Zn=!1,Nu=!1,ga=0,Be=0,ka=0,dn=0,xu=0,Et=0,Pn=0,Pi=null,ft=null,Du=!1,ds=0,Lf=0,ms=1/0,gs=null,za=null,Ie=0,Ma=null,Wn=null,va=0,Uu=0,ku=null,Bf=null,Wi=0,zu=null;function Tt(){return(be&2)!==0&&de!==0?de&-de:k.T!==null?Vu():Fo()}function Hf(){if(Et===0)if((de&536870912)===0||ge){var e=El;El<<=1,(El&3932160)===0&&(El=262144),Et=e}else Et=536870912;return e=bt.current,e!==null&&(e.flags|=32),Et}function dt(e,t,a){(e===je&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Fn(e,0),La(e,de,Et,!1)),_i(e,a),((be&2)===0||e!==je)&&(e===je&&((be&2)===0&&(dn|=a),Be===4&&La(e,de,Et,!1)),Wt(e))}function qf(e,t,a){if((be&6)!==0)throw Error(r(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||pi(e,t),u=i?Ov(e,t):Lu(e,t,!0),o=i;do{if(u===0){Zn&&!i&&La(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!Tv(a)){u=Lu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var y=e;u=Pi;var p=y.current.memoizedState.isDehydrated;if(p&&(Fn(y,f).flags|=256),f=Lu(y,f,!1),f!==2){if(Nu&&!p){y.errorRecoveryDisabledLanes|=o,dn|=o,u=4;break e}o=ft,ft=u,o!==null&&(ft===null?ft=o:ft.push.apply(ft,o))}u=f}if(o=!1,u!==2)continue}}if(u===1){Fn(e,0),La(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:La(i,t,Et,!Ua);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=ds+300-gt(),10<u)){if(La(i,t,Et,!Ua),Al(i,0,!0)!==0)break e;va=t,i.timeoutHandle=yd(Vf.bind(null,i,a,ft,gs,Du,t,Et,dn,Pn,Ua,o,"Throttled",-0,0),u);break e}Vf(i,a,ft,gs,Du,t,Et,dn,Pn,Ua,o,null,-0,0)}}break}while(!0);Wt(e)}function Vf(e,t,a,i,u,o,f,y,p,j,U,M,N,x){if(e.timeoutHandle=-1,M=t.subtreeFlags,M&8192||(M&16785408)===16785408){M={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},Uf(t,o,M);var Y=(o&62914560)===o?ds-gt():(o&4194048)===o?Lf-gt():0;if(Y=uy(M,Y),Y!==null){va=o,e.cancelPendingCommit=Y(Qf.bind(null,e,t,o,a,i,u,f,y,p,U,M,null,N,x)),La(e,o,f,!j);return}}Qf(e,t,o,a,i,u,f,y,p)}function Tv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],o=u.getSnapshot;u=u.value;try{if(!pt(o(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function La(e,t,a,i){t&=~xu,t&=~dn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-yt(u),f=1<<o;i[o]=-1,u&=~f}a!==0&&Zo(e,a,t)}function vs(){return(be&6)===0?(Fi(0),!1):!0}function Mu(){if(he!==null){if(Ee===0)var e=he.return;else e=he,la=nn=null,Wr(e),$n=null,zi=0,e=he;for(;e!==null;)pf(e.alternate,e),e=e.return;he=null}}function Fn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Kv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),va=0,Mu(),je=e,he=a=na(e.current,null),de=t,Ee=0,wt=null,Ua=!1,Zn=pi(e,t),Nu=!1,Pn=Et=xu=dn=ka=Be=0,ft=Pi=null,Du=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-yt(i),o=1<<u;t|=e[u],i&=~o}return ga=t,Ll(),a}function Gf(e,t){ue=null,k.H=$i,t===Gn||t===Jl?(t=nh(),Ee=3):t===qr?(t=nh(),Ee=4):Ee=t===mu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wt=t,he===null&&(Be=1,ls(e,Dt(t,e.current)))}function $f(){var e=bt.current;return e===null?!0:(de&4194048)===de?Mt===null:(de&62914560)===de||(de&536870912)!==0?e===Mt:!1}function Kf(){var e=k.H;return k.H=$i,e===null?$i:e}function Jf(){var e=k.A;return k.A=wv,e}function ys(){Be=4,Ua||(de&4194048)!==de&&bt.current!==null||(Zn=!0),(ka&134217727)===0&&(dn&134217727)===0||je===null||La(je,de,Et,!1)}function Lu(e,t,a){var i=be;be|=2;var u=Kf(),o=Jf();(je!==e||de!==t)&&(gs=null,Fn(e,t)),t=!1;var f=Be;e:do try{if(Ee!==0&&he!==null){var y=he,p=wt;switch(Ee){case 8:Mu(),f=6;break e;case 3:case 2:case 9:case 6:bt.current===null&&(t=!0);var j=Ee;if(Ee=0,wt=null,ei(e,y,p,j),a&&Zn){f=0;break e}break;default:j=Ee,Ee=0,wt=null,ei(e,y,p,j)}}Av(),f=Be;break}catch(U){Gf(e,U)}while(!0);return t&&e.shellSuspendCounter++,la=nn=null,be=i,k.H=u,k.A=o,he===null&&(je=null,de=0,Ll()),f}function Av(){for(;he!==null;)Yf(he)}function Ov(e,t){var a=be;be|=2;var i=Kf(),u=Jf();je!==e||de!==t?(gs=null,ms=gt()+500,Fn(e,t)):Zn=pi(e,t);e:do try{if(Ee!==0&&he!==null){t=he;var o=wt;t:switch(Ee){case 1:Ee=0,wt=null,ei(e,t,o,1);break;case 2:case 9:if(th(o)){Ee=0,wt=null,If(t);break}t=function(){Ee!==2&&Ee!==9||je!==e||(Ee=7),Wt(e)},o.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:th(o)?(Ee=0,wt=null,If(t)):(Ee=0,wt=null,ei(e,t,o,7));break;case 5:var f=null;switch(he.tag){case 26:f=he.memoizedState;case 5:case 27:var y=he;if(f?Dd(f):y.stateNode.complete){Ee=0,wt=null;var p=y.sibling;if(p!==null)he=p;else{var j=y.return;j!==null?(he=j,ps(j)):he=null}break t}}Ee=0,wt=null,ei(e,t,o,5);break;case 6:Ee=0,wt=null,ei(e,t,o,6);break;case 8:Mu(),Be=6;break e;default:throw Error(r(462))}}Rv();break}catch(U){Gf(e,U)}while(!0);return la=nn=null,k.H=i,k.A=u,be=a,he!==null?0:(je=null,de=0,Ll(),Be)}function Rv(){for(;he!==null&&!Zm();)Yf(he)}function Yf(e){var t=vf(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?ps(e):he=t}function If(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=cf(a,t,t.pendingProps,t.type,void 0,de);break;case 11:t=cf(a,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:Wr(t);default:pf(a,t),t=he=Kc(t,ga),t=vf(a,t,ga)}e.memoizedProps=e.pendingProps,t===null?ps(e):he=t}function ei(e,t,a,i){la=nn=null,Wr(t),$n=null,zi=0;var u=t.return;try{if(gv(e,u,t,a,de)){Be=1,ls(e,Dt(a,e.current)),he=null;return}}catch(o){if(u!==null)throw he=u,o;Be=1,ls(e,Dt(a,e.current)),he=null;return}t.flags&32768?(ge||i===1?e=!0:Zn||(de&536870912)!==0?e=!1:(Ua=e=!0,(i===2||i===9||i===3||i===6)&&(i=bt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Xf(t,e)):ps(t)}function ps(e){var t=e;do{if((t.flags&32768)!==0){Xf(t,Ua);return}e=t.return;var a=pv(t.alternate,t,ga);if(a!==null){he=a;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);Be===0&&(Be=5)}function Xf(e,t){do{var a=_v(e.alternate,e);if(a!==null){a.flags&=32767,he=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=a}while(e!==null);Be=6,he=null}function Qf(e,t,a,i,u,o,f,y,p){e.cancelPendingCommit=null;do _s();while(Ie!==0);if((be&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Ar,sg(e,a,o,f,y,p),e===je&&(he=je=null,de=0),Wn=t,Ma=e,va=a,Uu=o,ku=u,Bf=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xv(Sl,function(){return ed(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=k.T,k.T=null,u=$.p,$.p=2,f=be,be|=4;try{bv(e,t,a)}finally{be=f,$.p=u,k.T=i}}Ie=1,Zf(),Pf(),Wf()}}function Zf(){if(Ie===1){Ie=0;var e=Ma,t=Wn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var i=$.p;$.p=2;var u=be;be|=4;try{Nf(t,e);var o=Qu,f=zc(e.containerInfo),y=o.focusedElem,p=o.selectionRange;if(f!==y&&y&&y.ownerDocument&&kc(y.ownerDocument.documentElement,y)){if(p!==null&&br(y)){var j=p.start,U=p.end;if(U===void 0&&(U=j),"selectionStart"in y)y.selectionStart=j,y.selectionEnd=Math.min(U,y.value.length);else{var M=y.ownerDocument||document,N=M&&M.defaultView||window;if(N.getSelection){var x=N.getSelection(),Y=y.textContent.length,te=Math.min(p.start,Y),Re=p.end===void 0?te:Math.min(p.end,Y);!x.extend&&te>Re&&(f=Re,Re=te,te=f);var A=Uc(y,te),S=Uc(y,Re);if(A&&S&&(x.rangeCount!==1||x.anchorNode!==A.node||x.anchorOffset!==A.offset||x.focusNode!==S.node||x.focusOffset!==S.offset)){var R=M.createRange();R.setStart(A.node,A.offset),x.removeAllRanges(),te>Re?(x.addRange(R),x.extend(S.node,S.offset)):(R.setEnd(S.node,S.offset),x.addRange(R))}}}}for(M=[],x=y;x=x.parentNode;)x.nodeType===1&&M.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<M.length;y++){var z=M[y];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}xs=!!Xu,Qu=Xu=null}finally{be=u,$.p=i,k.T=a}}e.current=t,Ie=2}}function Pf(){if(Ie===2){Ie=0;var e=Ma,t=Wn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var i=$.p;$.p=2;var u=be;be|=4;try{Af(e,t.alternate,t)}finally{be=u,$.p=i,k.T=a}}Ie=3}}function Wf(){if(Ie===4||Ie===3){Ie=0,Pm();var e=Ma,t=Wn,a=va,i=Bf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,Wn=Ma=null,Ff(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(za=null),tr(a),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=k.T,u=$.p,$.p=2,k.T=null;try{for(var o=e.onRecoverableError,f=0;f<i.length;f++){var y=i[f];o(y.value,{componentStack:y.stack})}}finally{k.T=t,$.p=u}}(va&3)!==0&&_s(),Wt(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===zu?Wi++:(Wi=0,zu=e):Wi=0,Fi(0)}}function Ff(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ui(t)))}function _s(){return Zf(),Pf(),Wf(),ed()}function ed(){if(Ie!==5)return!1;var e=Ma,t=Uu;Uu=0;var a=tr(va),i=k.T,u=$.p;try{$.p=32>a?32:a,k.T=null,a=ku,ku=null;var o=Ma,f=va;if(Ie=0,Wn=Ma=null,va=0,(be&6)!==0)throw Error(r(331));var y=be;if(be|=4,zf(o.current),Df(o,o.current,f,a),be=y,Fi(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(yi,o)}catch{}return!0}finally{$.p=u,k.T=i,Ff(e,t)}}function td(e,t,a){t=Dt(a,t),t=du(e.stateNode,t,2),e=Ca(e,t,2),e!==null&&(_i(e,2),Wt(e))}function Te(e,t,a){if(e.tag===3)td(e,e,a);else for(;t!==null;){if(t.tag===3){td(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(za===null||!za.has(i))){e=Dt(a,e),a=tf(2),i=Ca(t,a,2),i!==null&&(af(a,i,t,e),_i(i,2),Wt(i));break}}t=t.return}}function Bu(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Ev;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(Nu=!0,u.add(a),e=jv.bind(null,e,t,a),t.then(e,e))}function jv(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,je===e&&(de&a)===a&&(Be===4||Be===3&&(de&62914560)===de&&300>gt()-ds?(be&2)===0&&Fn(e,0):xu|=a,Pn===de&&(Pn=0)),Wt(e)}function ad(e,t){t===0&&(t=Qo()),e=en(e,t),e!==null&&(_i(e,t),Wt(e))}function Cv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),ad(e,a)}function Nv(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),ad(e,a)}function xv(e,t){return Ps(e,t)}var bs=null,ti=null,Hu=!1,Ss=!1,qu=!1,Ba=0;function Wt(e){e!==ti&&e.next===null&&(ti===null?bs=ti=e:ti=ti.next=e),Ss=!0,Hu||(Hu=!0,Uv())}function Fi(e,t){if(!qu&&Ss){qu=!0;do for(var a=!1,i=bs;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var f=i.suspendedLanes,y=i.pingedLanes;o=(1<<31-yt(42|e)+1)-1,o&=u&~(f&~y),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,sd(i,o))}else o=de,o=Al(i,i===je?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||pi(i,o)||(a=!0,sd(i,o));i=i.next}while(a);qu=!1}}function Dv(){nd()}function nd(){Ss=Hu=!1;var e=0;Ba!==0&&$v()&&(e=Ba);for(var t=gt(),a=null,i=bs;i!==null;){var u=i.next,o=id(i,t);o===0?(i.next=null,a===null?bs=u:a.next=u,u===null&&(ti=a)):(a=i,(e!==0||(o&3)!==0)&&(Ss=!0)),i=u}Ie!==0&&Ie!==5||Fi(e),Ba!==0&&(Ba=0)}function id(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-yt(o),y=1<<f,p=u[f];p===-1?((y&a)===0||(y&i)!==0)&&(u[f]=lg(y,t)):p<=t&&(e.expiredLanes|=y),o&=~y}if(t=je,a=de,a=Al(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ws(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Ws(i),tr(a)){case 2:case 8:a=Io;break;case 32:a=Sl;break;case 268435456:a=Xo;break;default:a=Sl}return i=ld.bind(null,e),a=Ps(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Ws(i),e.callbackPriority=2,e.callbackNode=null,2}function ld(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_s()&&e.callbackNode!==a)return null;var i=de;return i=Al(e,e===je?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(qf(e,i,t),id(e,gt()),e.callbackNode!=null&&e.callbackNode===a?ld.bind(null,e):null)}function sd(e,t){if(_s())return null;qf(e,t,!0)}function Uv(){Jv(function(){(be&6)!==0?Ps(Yo,Dv):nd()})}function Vu(){if(Ba===0){var e=qn;e===0&&(e=wl,wl<<=1,(wl&261888)===0&&(wl=256)),Ba=e}return Ba}function rd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cl(""+e)}function ud(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function kv(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var o=rd((u[rt]||null).action),f=i.submitter;f&&(t=(t=f[rt]||null)?rd(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var y=new Ul("action","action",null,i,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ba!==0){var p=f?ud(u,f):new FormData(u);ru(a,{pending:!0,data:p,method:u.method,action:o},null,p)}}else typeof o=="function"&&(y.preventDefault(),p=f?ud(u,f):new FormData(u),ru(a,{pending:!0,data:p,method:u.method,action:o},o,p))},currentTarget:u}]})}}for(var Gu=0;Gu<Tr.length;Gu++){var $u=Tr[Gu],zv=$u.toLowerCase(),Mv=$u[0].toUpperCase()+$u.slice(1);Gt(zv,"on"+Mv)}Gt(Bc,"onAnimationEnd"),Gt(Hc,"onAnimationIteration"),Gt(qc,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Wg,"onTransitionRun"),Gt(Fg,"onTransitionStart"),Gt(ev,"onTransitionCancel"),Gt(Vc,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function od(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var f=i.length-1;0<=f;f--){var y=i[f],p=y.instance,j=y.currentTarget;if(y=y.listener,p!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=j;try{o(u)}catch(U){Ml(U)}u.currentTarget=null,o=p}else for(f=0;f<i.length;f++){if(y=i[f],p=y.instance,j=y.currentTarget,y=y.listener,p!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=j;try{o(u)}catch(U){Ml(U)}u.currentTarget=null,o=p}}}}function fe(e,t){var a=t[ar];a===void 0&&(a=t[ar]=new Set);var i=e+"__bubble";a.has(i)||(cd(t,e,2,!1),a.add(i))}function Ku(e,t,a){var i=0;t&&(i|=4),cd(a,e,i,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[ws]){e[ws]=!0,ac.forEach(function(a){a!=="selectionchange"&&(Lv.has(a)||Ku(a,!1,e),Ku(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,Ku("selectionchange",!1,t))}}function cd(e,t,a,i){switch(Hd(t)){case 2:var u=hy;break;case 8:u=fy;break;default:u=so}a=u.bind(null,t,a,e),u=void 0,!hr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Yu(e,t,a,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var y=i.stateNode.containerInfo;if(y===u)break;if(f===4)for(f=i.return;f!==null;){var p=f.tag;if((p===3||p===4)&&f.stateNode.containerInfo===u)return;f=f.return}for(;y!==null;){if(f=En(y),f===null)return;if(p=f.tag,p===5||p===6||p===26||p===27){i=o=f;continue e}y=y.parentNode}}i=i.return}mc(function(){var j=o,U=or(a),M=[];e:{var N=Gc.get(e);if(N!==void 0){var x=Ul,Y=e;switch(e){case"keypress":if(xl(a)===0)break e;case"keydown":case"keyup":x=Ng;break;case"focusin":Y="focus",x=gr;break;case"focusout":Y="blur",x=gr;break;case"beforeblur":case"afterblur":x=gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ug;break;case Bc:case Hc:case qc:x=Sg;break;case Vc:x=zg;break;case"scroll":case"scrollend":x=vg;break;case"wheel":x=Lg;break;case"copy":case"cut":case"paste":x=Eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=_c;break;case"toggle":case"beforetoggle":x=Hg}var te=(t&4)!==0,Re=!te&&(e==="scroll"||e==="scrollend"),A=te?N!==null?N+"Capture":null:N;te=[];for(var S=j,R;S!==null;){var z=S;if(R=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||R===null||A===null||(z=wi(S,A),z!=null&&te.push(tl(S,z,R))),Re)break;S=S.return}0<te.length&&(N=new x(N,Y,null,a,U),M.push({event:N,listeners:te}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",N&&a!==ur&&(Y=a.relatedTarget||a.fromElement)&&(En(Y)||Y[wn]))break e;if((x||N)&&(N=U.window===U?U:(N=U.ownerDocument)?N.defaultView||N.parentWindow:window,x?(Y=a.relatedTarget||a.toElement,x=j,Y=Y?En(Y):null,Y!==null&&(Re=h(Y),te=Y.tag,Y!==Re||te!==5&&te!==27&&te!==6)&&(Y=null)):(x=null,Y=j),x!==Y)){if(te=yc,z="onMouseLeave",A="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(te=_c,z="onPointerLeave",A="onPointerEnter",S="pointer"),Re=x==null?N:Si(x),R=Y==null?N:Si(Y),N=new te(z,S+"leave",x,a,U),N.target=Re,N.relatedTarget=R,z=null,En(U)===j&&(te=new te(A,S+"enter",Y,a,U),te.target=R,te.relatedTarget=Re,z=te),Re=z,x&&Y)t:{for(te=Bv,A=x,S=Y,R=0,z=A;z;z=te(z))R++;z=0;for(var F=S;F;F=te(F))z++;for(;0<R-z;)A=te(A),R--;for(;0<z-R;)S=te(S),z--;for(;R--;){if(A===S||S!==null&&A===S.alternate){te=A;break t}A=te(A),S=te(S)}te=null}else te=null;x!==null&&hd(M,N,x,te,!1),Y!==null&&Re!==null&&hd(M,Re,Y,te,!0)}}e:{if(N=j?Si(j):window,x=N.nodeName&&N.nodeName.toLowerCase(),x==="select"||x==="input"&&N.type==="file")var ye=Rc;else if(Ac(N))if(jc)ye=Qg;else{ye=Ig;var Z=Yg}else x=N.nodeName,!x||x.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?j&&rr(j.elementType)&&(ye=Rc):ye=Xg;if(ye&&(ye=ye(e,j))){Oc(M,ye,a,U);break e}Z&&Z(e,N,j),e==="focusout"&&j&&N.type==="number"&&j.memoizedProps.value!=null&&sr(N,"number",N.value)}switch(Z=j?Si(j):window,e){case"focusin":(Ac(Z)||Z.contentEditable==="true")&&(Dn=Z,Sr=j,Ni=null);break;case"focusout":Ni=Sr=Dn=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Mc(M,a,U);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":Mc(M,a,U)}var oe;if(yr)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else xn?Ec(e,a)&&(me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(bc&&a.locale!=="ko"&&(xn||me!=="onCompositionStart"?me==="onCompositionEnd"&&xn&&(oe=gc()):(wa=U,fr="value"in wa?wa.value:wa.textContent,xn=!0)),Z=Es(j,me),0<Z.length&&(me=new pc(me,e,null,a,U),M.push({event:me,listeners:Z}),oe?me.data=oe:(oe=Tc(a),oe!==null&&(me.data=oe)))),(oe=Vg?Gg(e,a):$g(e,a))&&(me=Es(j,"onBeforeInput"),0<me.length&&(Z=new pc("onBeforeInput","beforeinput",null,a,U),M.push({event:Z,listeners:me}),Z.data=oe)),kv(M,e,j,a,U)}od(M,t)})}function tl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Es(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=wi(e,a),u!=null&&i.unshift(tl(e,u,o)),u=wi(e,t),u!=null&&i.push(tl(e,u,o))),e.tag===3)return i;e=e.return}return[]}function Bv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hd(e,t,a,i,u){for(var o=t._reactName,f=[];a!==null&&a!==i;){var y=a,p=y.alternate,j=y.stateNode;if(y=y.tag,p!==null&&p===i)break;y!==5&&y!==26&&y!==27||j===null||(p=j,u?(j=wi(a,o),j!=null&&f.unshift(tl(a,j,p))):u||(j=wi(a,o),j!=null&&f.push(tl(a,j,p)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var Hv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(Hv,`
`).replace(qv,"")}function dd(e,t){return t=fd(t),fd(e)===t}function Oe(e,t,a,i,u,o){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||jn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&jn(e,""+i);break;case"className":Rl(e,"class",i);break;case"tabIndex":Rl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(e,a,i);break;case"style":fc(e,i,o);break;case"data":if(t!=="object"){Rl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Cl(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&Oe(e,t,"name",u.name,u,null),Oe(e,t,"formEncType",u.formEncType,u,null),Oe(e,t,"formMethod",u.formMethod,u,null),Oe(e,t,"formTarget",u.formTarget,u,null)):(Oe(e,t,"encType",u.encType,u,null),Oe(e,t,"method",u.method,u,null),Oe(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Cl(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ta);break;case"onScroll":i!=null&&fe("scroll",e);break;case"onScrollEnd":i!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Cl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Ol(e,"popover",i);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ol(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mg.get(a)||a,Ol(e,a,i))}}function Iu(e,t,a,i,u,o){switch(a){case"style":fc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof i=="string"?jn(e,i):(typeof i=="number"||typeof i=="bigint")&&jn(e,""+i);break;case"onScroll":i!=null&&fe("scroll",e);break;case"onScrollEnd":i!=null&&fe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),o=e[rt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Ol(e,a,i)}}}function tt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var i=!1,u=!1,o;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];if(f!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Oe(e,t,o,f,a,null)}}u&&Oe(e,t,"srcSet",a.srcSet,a,null),i&&Oe(e,t,"src",a.src,a,null);return;case"input":fe("invalid",e);var y=o=f=u=null,p=null,j=null;for(i in a)if(a.hasOwnProperty(i)){var U=a[i];if(U!=null)switch(i){case"name":u=U;break;case"type":f=U;break;case"checked":p=U;break;case"defaultChecked":j=U;break;case"value":o=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Oe(e,t,i,U,a,null)}}uc(e,o,y,p,j,f,u,!1);return;case"select":fe("invalid",e),i=f=o=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":o=y;break;case"defaultValue":f=y;break;case"multiple":i=y;default:Oe(e,t,u,y,a,null)}t=o,a=f,e.multiple=!!i,t!=null?Rn(e,!!i,t,!1):a!=null&&Rn(e,!!i,a,!0);return;case"textarea":fe("invalid",e),o=u=i=null;for(f in a)if(a.hasOwnProperty(f)&&(y=a[f],y!=null))switch(f){case"value":i=y;break;case"defaultValue":u=y;break;case"children":o=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Oe(e,t,f,y,a,null)}cc(e,i,u,o);return;case"option":for(p in a)if(a.hasOwnProperty(p)&&(i=a[p],i!=null))switch(p){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Oe(e,t,p,i,a,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(i=0;i<el.length;i++)fe(el[i],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(i=a[j],i!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Oe(e,t,j,i,a,null)}return;default:if(rr(t)){for(U in a)a.hasOwnProperty(U)&&(i=a[U],i!==void 0&&Iu(e,t,U,i,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(i=a[y],i!=null&&Oe(e,t,y,i,a,null))}function Vv(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,f=null,y=null,p=null,j=null,U=null;for(x in a){var M=a[x];if(a.hasOwnProperty(x)&&M!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":p=M;default:i.hasOwnProperty(x)||Oe(e,t,x,null,i,M)}}for(var N in i){var x=i[N];if(M=a[N],i.hasOwnProperty(N)&&(x!=null||M!=null))switch(N){case"type":o=x;break;case"name":u=x;break;case"checked":j=x;break;case"defaultChecked":U=x;break;case"value":f=x;break;case"defaultValue":y=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,t));break;default:x!==M&&Oe(e,t,N,x,i,M)}}lr(e,f,y,p,j,U,o,u);return;case"select":x=f=y=N=null;for(o in a)if(p=a[o],a.hasOwnProperty(o)&&p!=null)switch(o){case"value":break;case"multiple":x=p;default:i.hasOwnProperty(o)||Oe(e,t,o,null,i,p)}for(u in i)if(o=i[u],p=a[u],i.hasOwnProperty(u)&&(o!=null||p!=null))switch(u){case"value":N=o;break;case"defaultValue":y=o;break;case"multiple":f=o;default:o!==p&&Oe(e,t,u,o,i,p)}t=y,a=f,i=x,N!=null?Rn(e,!!a,N,!1):!!i!=!!a&&(t!=null?Rn(e,!!a,t,!0):Rn(e,!!a,a?[]:"",!1));return;case"textarea":x=N=null;for(y in a)if(u=a[y],a.hasOwnProperty(y)&&u!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Oe(e,t,y,null,i,u)}for(f in i)if(u=i[f],o=a[f],i.hasOwnProperty(f)&&(u!=null||o!=null))switch(f){case"value":N=u;break;case"defaultValue":x=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&Oe(e,t,f,u,i,o)}oc(e,N,x);return;case"option":for(var Y in a)if(N=a[Y],a.hasOwnProperty(Y)&&N!=null&&!i.hasOwnProperty(Y))switch(Y){case"selected":e.selected=!1;break;default:Oe(e,t,Y,null,i,N)}for(p in i)if(N=i[p],x=a[p],i.hasOwnProperty(p)&&N!==x&&(N!=null||x!=null))switch(p){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Oe(e,t,p,N,i,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in a)N=a[te],a.hasOwnProperty(te)&&N!=null&&!i.hasOwnProperty(te)&&Oe(e,t,te,null,i,N);for(j in i)if(N=i[j],x=a[j],i.hasOwnProperty(j)&&N!==x&&(N!=null||x!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:Oe(e,t,j,N,i,x)}return;default:if(rr(t)){for(var Re in a)N=a[Re],a.hasOwnProperty(Re)&&N!==void 0&&!i.hasOwnProperty(Re)&&Iu(e,t,Re,void 0,i,N);for(U in i)N=i[U],x=a[U],!i.hasOwnProperty(U)||N===x||N===void 0&&x===void 0||Iu(e,t,U,N,i,x);return}}for(var A in a)N=a[A],a.hasOwnProperty(A)&&N!=null&&!i.hasOwnProperty(A)&&Oe(e,t,A,null,i,N);for(M in i)N=i[M],x=a[M],!i.hasOwnProperty(M)||N===x||N==null&&x==null||Oe(e,t,M,N,i,x)}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var u=a[i],o=u.transferSize,f=u.initiatorType,y=u.duration;if(o&&y&&md(f)){for(f=0,y=u.responseEnd,i+=1;i<a.length;i++){var p=a[i],j=p.startTime;if(j>y)break;var U=p.transferSize,M=p.initiatorType;U&&md(M)&&(p=p.responseEnd,f+=U*(p<y?1:(y-j)/(p-j)))}if(--i,t+=8*(o+f)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xu=null,Qu=null;function Ts(e){return e.nodeType===9?e:e.ownerDocument}function gd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pu=null;function $v(){var e=window.event;return e&&e.type==="popstate"?e===Pu?!1:(Pu=e,!0):(Pu=null,!1)}var yd=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,Jv=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(e){return pd.resolve(null).then(e).catch(Yv)}:yd;function Yv(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function _d(e,t){var a=t,i=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(u),li(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,al(a);for(var o=a.firstChild;o;){var f=o.nextSibling,y=o.nodeName;o[bi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=f}}else a==="body"&&al(e.ownerDocument.body);a=u}while(a);li(t)}function bd(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function Wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wu(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Iv(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[bi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function Xv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Lt(e.nextSibling),e===null))return null;return e}function Sd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function Fu(e){return e.data==="$?"||e.data==="$~"}function eo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var to=null;function wd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Lt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Ed(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Td(e,t,a){switch(t=Ts(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function al(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);nr(e)}var Bt=new Map,Ad=new Set;function As(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ya=$.d;$.d={f:Zv,r:Pv,D:Wv,C:Fv,L:ey,m:ty,X:ny,S:ay,M:iy};function Zv(){var e=ya.f(),t=vs();return e||t}function Pv(e){var t=Tn(e);t!==null&&t.tag===5&&t.type==="form"?Vh(t):ya.r(e)}var ai=typeof document>"u"?null:document;function Od(e,t,a){var i=ai;if(i&&typeof t=="string"&&t){var u=Nt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Ad.has(u)||(Ad.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),tt(t,"link",e),Qe(t),i.head.appendChild(t)))}}function Wv(e){ya.D(e),Od("dns-prefetch",e,null)}function Fv(e,t){ya.C(e,t),Od("preconnect",e,t)}function ey(e,t,a){ya.L(e,t,a);var i=ai;if(i&&e&&t){var u='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Nt(a.imageSizes)+'"]')):u+='[href="'+Nt(e)+'"]';var o=u;switch(t){case"style":o=ni(e);break;case"script":o=ii(e)}Bt.has(o)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Bt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(nl(o))||t==="script"&&i.querySelector(il(o))||(t=i.createElement("link"),tt(t,"link",e),Qe(t),i.head.appendChild(t)))}}function ty(e,t){ya.m(e,t);var a=ai;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Nt(i)+'"][href="'+Nt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ii(e)}if(!Bt.has(o)&&(e=b({rel:"modulepreload",href:e},t),Bt.set(o,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(o)))return}i=a.createElement("link"),tt(i,"link",e),Qe(i),a.head.appendChild(i)}}}function ay(e,t,a){ya.S(e,t,a);var i=ai;if(i&&e){var u=An(i).hoistableStyles,o=ni(e);t=t||"default";var f=u.get(o);if(!f){var y={loading:0,preload:null};if(f=i.querySelector(nl(o)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Bt.get(o))&&ao(e,a);var p=f=i.createElement("link");Qe(p),tt(p,"link",e),p._p=new Promise(function(j,U){p.onload=j,p.onerror=U}),p.addEventListener("load",function(){y.loading|=1}),p.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Os(f,t,i)}f={type:"stylesheet",instance:f,count:1,state:y},u.set(o,f)}}}function ny(e,t){ya.X(e,t);var a=ai;if(a&&e){var i=An(a).hoistableScripts,u=ii(e),o=i.get(u);o||(o=a.querySelector(il(u)),o||(e=b({src:e,async:!0},t),(t=Bt.get(u))&&no(e,t),o=a.createElement("script"),Qe(o),tt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function iy(e,t){ya.M(e,t);var a=ai;if(a&&e){var i=An(a).hoistableScripts,u=ii(e),o=i.get(u);o||(o=a.querySelector(il(u)),o||(e=b({src:e,async:!0,type:"module"},t),(t=Bt.get(u))&&no(e,t),o=a.createElement("script"),Qe(o),tt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function Rd(e,t,a,i){var u=(u=ce.current)?As(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ni(a.href),a=An(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ni(a.href);var o=An(u).hoistableStyles,f=o.get(e);if(f||(u=u.ownerDocument||u,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=u.querySelector(nl(e)))&&!o._p&&(f.instance=o,f.state.loading=5),Bt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bt.set(e,a),o||ly(u,e,a,f.state))),t&&i===null)throw Error(r(528,""));return f}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ii(a),a=An(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ni(e){return'href="'+Nt(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function jd(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function ly(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),tt(t,"link",a),Qe(t),e.head.appendChild(t))}function ii(e){return'[src="'+Nt(e)+'"]'}function il(e){return"script[async]"+e}function Cd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(i)return t.instance=i,Qe(i),i;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Qe(i),tt(i,"style",u),Os(i,a.precedence,e),t.instance=i;case"stylesheet":u=ni(a.href);var o=e.querySelector(nl(u));if(o)return t.state.loading|=4,t.instance=o,Qe(o),o;i=jd(a),(u=Bt.get(u))&&ao(i,u),o=(e.ownerDocument||e).createElement("link"),Qe(o);var f=o;return f._p=new Promise(function(y,p){f.onload=y,f.onerror=p}),tt(o,"link",i),t.state.loading|=4,Os(o,a.precedence,e),t.instance=o;case"script":return o=ii(a.src),(u=e.querySelector(il(o)))?(t.instance=u,Qe(u),u):(i=a,(u=Bt.get(o))&&(i=b({},a),no(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Qe(u),tt(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Os(i,a.precedence,e));return t.instance}function Os(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,f=0;f<i.length;f++){var y=i[f];if(y.dataset.precedence===t)o=y;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ao(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function no(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rs=null;function Nd(e,t,a){if(Rs===null){var i=new Map,u=Rs=new Map;u.set(a,i)}else u=Rs,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var o=a[u];if(!(o[bi]||o[Pe]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var y=i.get(f);y?y.push(o):i.set(f,[o])}}return i}function xd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function sy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Dd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ry(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=ni(i.href),o=t.querySelector(nl(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=js.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=o,Qe(o);return}o=t.ownerDocument||t,i=jd(i),(u=Bt.get(u))&&ao(i,u),o=o.createElement("link"),Qe(o);var f=o;f._p=new Promise(function(y,p){f.onload=y,f.onerror=p}),tt(o,"link",i),a.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=js.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var io=0;function uy(e,t){return e.stylesheets&&e.count===0&&Ns(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Ns(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&io===0&&(io=62500*Gv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ns(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>io?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function js(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ns(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cs=null;function Ns(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cs=new Map,t.forEach(oy,e),Cs=null,js.call(e))}function oy(e,t){if(!(t.state.loading&4)){var a=Cs.get(e);if(a)var i=a.get(null);else{a=new Map,Cs.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var f=u[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),i=f)}i&&a.set(null,i)}u=t.instance,f=u.getAttribute("data-precedence"),o=a.get(f)||i,o===i&&a.set(null,u),a.set(f,u),this.count++,i=js.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ll={$$typeof:G,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function cy(e,t,a,i,u,o,f,y,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Ud(e,t,a,i,u,o,f,y,p,j,U,M){return e=new cy(e,t,a,f,p,j,U,M,y),t=1,o===!0&&(t|=24),o=_t(3,null,null,t),e.current=o,o.stateNode=e,t=Lr(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:a,cache:t},Vr(o),e}function kd(e){return e?(e=zn,e):zn}function zd(e,t,a,i,u,o){u=kd(u),i.context===null?i.context=u:i.pendingContext=u,i=ja(t),i.payload={element:a},o=o===void 0?null:o,o!==null&&(i.callback=o),a=Ca(e,i,t),a!==null&&(dt(a,e,t),Li(a,e,t))}function Md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function lo(e,t){Md(e,t),(e=e.alternate)&&Md(e,t)}function Ld(e){if(e.tag===13||e.tag===31){var t=en(e,67108864);t!==null&&dt(t,e,67108864),lo(e,67108864)}}function Bd(e){if(e.tag===13||e.tag===31){var t=Tt();t=er(t);var a=en(e,t);a!==null&&dt(a,e,t),lo(e,t)}}var xs=!0;function hy(e,t,a,i){var u=k.T;k.T=null;var o=$.p;try{$.p=2,so(e,t,a,i)}finally{$.p=o,k.T=u}}function fy(e,t,a,i){var u=k.T;k.T=null;var o=$.p;try{$.p=8,so(e,t,a,i)}finally{$.p=o,k.T=u}}function so(e,t,a,i){if(xs){var u=ro(i);if(u===null)Yu(e,t,i,Ds,a),qd(e,i);else if(my(u,e,t,a,i))i.stopPropagation();else if(qd(e,i),t&4&&-1<dy.indexOf(e)){for(;u!==null;){var o=Tn(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=Qa(o.pendingLanes);if(f!==0){var y=o;for(y.pendingLanes|=2,y.entangledLanes|=2;f;){var p=1<<31-yt(f);y.entanglements[1]|=p,f&=~p}Wt(o),(be&6)===0&&(ms=gt()+500,Fi(0))}}break;case 31:case 13:y=en(o,2),y!==null&&dt(y,o,2),vs(),lo(o,2)}if(o=ro(i),o===null&&Yu(e,t,i,Ds,a),o===u)break;u=o}u!==null&&i.stopPropagation()}else Yu(e,t,i,null,a)}}function ro(e){return e=or(e),uo(e)}var Ds=null;function uo(e){if(Ds=null,e=En(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ds=e,null}function Hd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wm()){case Yo:return 2;case Io:return 8;case Sl:case Fm:return 32;case Xo:return 268435456;default:return 32}default:return 32}}var oo=!1,qa=null,Va=null,Ga=null,sl=new Map,rl=new Map,$a=[],dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qd(e,t){switch(e){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function ul(e,t,a,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=Tn(t),t!==null&&Ld(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function my(e,t,a,i,u){switch(t){case"focusin":return qa=ul(qa,e,t,a,i,u),!0;case"dragenter":return Va=ul(Va,e,t,a,i,u),!0;case"mouseover":return Ga=ul(Ga,e,t,a,i,u),!0;case"pointerover":var o=u.pointerId;return sl.set(o,ul(sl.get(o)||null,e,t,a,i,u)),!0;case"gotpointercapture":return o=u.pointerId,rl.set(o,ul(rl.get(o)||null,e,t,a,i,u)),!0}return!1}function Vd(e){var t=En(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,ec(e.priority,function(){Bd(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,ec(e.priority,function(){Bd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ro(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);ur=i,a.target.dispatchEvent(i),ur=null}else return t=Tn(a),t!==null&&Ld(t),e.blockedOn=a,!1;t.shift()}return!0}function Gd(e,t,a){Us(e)&&a.delete(t)}function gy(){oo=!1,qa!==null&&Us(qa)&&(qa=null),Va!==null&&Us(Va)&&(Va=null),Ga!==null&&Us(Ga)&&(Ga=null),sl.forEach(Gd),rl.forEach(Gd)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,gy)))}var zs=null;function $d(e){zs!==e&&(zs=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zs===e&&(zs=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(uo(i||a)===null)continue;break}var o=Tn(a);o!==null&&(e.splice(t,3),t-=3,ru(o,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function li(e){function t(p){return ks(p,e)}qa!==null&&ks(qa,e),Va!==null&&ks(Va,e),Ga!==null&&ks(Ga,e),sl.forEach(t),rl.forEach(t);for(var a=0;a<$a.length;a++){var i=$a[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<$a.length&&(a=$a[0],a.blockedOn===null);)Vd(a),a.blockedOn===null&&$a.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],o=a[i+1],f=u[rt]||null;if(typeof o=="function")f||$d(a);else if(f){var y=null;if(o&&o.hasAttribute("formAction")){if(u=o,f=o[rt]||null)y=f.formAction;else if(uo(u)!==null)continue}else y=f.action;typeof y=="function"?a[i+1]=y:(a.splice(i,3),i-=3),$d(a)}}}function Kd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(f){return u=f})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function co(e){this._internalRoot=e}Ms.prototype.render=co.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,i=Tt();zd(a,i,e,t,null,null)},Ms.prototype.unmount=co.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zd(e.current,2,null,e,null,null),vs(),t[wn]=null}};function Ms(e){this._internalRoot=e}Ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<$a.length&&t!==0&&t<$a[a].priority;a++);$a.splice(a,0,e),a===0&&Vd(e)}};var Jd=n.version;if(Jd!=="19.2.3")throw Error(r(527,Jd,"19.2.3"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var vy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{yi=Ls.inject(vy),vt=Ls}catch{}}return cl.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,i="",u=Ph,o=Wh,f=Fh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Ud(e,1,!1,null,null,a,i,null,u,o,f,Kd),e[wn]=t.current,Ju(e),new co(t)},cl.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var i=!1,u="",o=Ph,f=Wh,y=Fh,p=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(p=a.formState)),t=Ud(e,1,!0,t,a??null,i,u,p,o,f,y,Kd),t.context=kd(null),a=t.current,i=Tt(),i=er(i),u=ja(i),u.callback=null,Ca(a,u,i),a=i,t.current.lanes=a,_i(t,a),Wt(t),e[wn]=t.current,Ju(e),new Ms(t)},cl.version="19.2.3",cl}var tm;function Oy(){if(tm)return mo.exports;tm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),mo.exports=Ay(),mo.exports}var Ry=Oy();function jy({onSubmit:l,error:n}){const[s,r]=Q.useState(""),c=Q.useCallback(g=>{r(g.target.value)},[]),h=Q.useCallback(()=>{l(s.trim())},[s,l]),d=Q.useCallback(g=>{g.key==="Enter"&&h()},[h]);return E.jsxs("div",{className:"reference-input-wrapper",children:[E.jsx("input",{type:"text",className:`reference-input ${n?"error":""}`,placeholder:"Ex: Gen 1:1-5; Ps 23; Jn 3:16",value:s,onChange:c,onKeyDown:d,"aria-label":"Enter biblical reference ()"}),E.jsx("button",{className:"reference-submit-button",onClick:h,"aria-label":"Submit",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("circle",{cx:"11",cy:"11",r:"8"}),E.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})})]})}function Cy({word:l,isSelected:n,fontSize:s,morphTag:r,highlightColor:c,showMorph:h,showHighlights:d,onClick:g}){const m=Q.useMemo(()=>`word-${l.language}`,[l.language]),v=Q.useMemo(()=>({fontSize:`${s}px`}),[s]),_=h&&r&&r.trim()!=="";return E.jsxs("span",{className:`word ${m} ${n?"selected":""} ${_?"with-morph":""}`,onClick:b=>{b.stopPropagation(),g(l)},style:v,role:"button",tabIndex:0,onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&g(l)},children:[E.jsx("span",{className:"word-surface",style:{color:d&&c?c:"inherit"},children:l.surfaceForm}),_&&E.jsx("span",{className:"word-morph",children:r})]})}function Ny({verses:l,selectedWordId:n,settings:s,annotations:r,onWordClick:c}){return l.length===0?E.jsx("div",{className:"text-display",children:E.jsxs("div",{className:"text-display-empty",children:[E.jsx("div",{className:"text-display-empty-icon",children:""}),E.jsx("div",{className:"text-display-empty-text",children:"Enter biblical reference ()"}),E.jsx("div",{className:"text-display-hint",children:"Example: Gen 1:1-5; Ps 23; John 3:16"})]})}):E.jsx("div",{className:"text-display",children:l.map(h=>{var v;const d=((v=h.words[0])==null?void 0:v.language)||"hebrew",g=d==="hebrew"||d==="aramaic",m=d==="greek"?s.fontSizeGreek:s.fontSizeHebrew;return E.jsx("div",{className:"verse-container",children:E.jsx("div",{className:"verse",children:E.jsxs("div",{className:`verse-content ${g?"rtl":"ltr"}`,children:[E.jsx("span",{className:"verse-number",children:h.verse}),h.words.map(_=>{var b,T;return E.jsx(Cy,{word:_,isSelected:_.id===n,fontSize:m,morphTag:(b=r[_.id])==null?void 0:b.morphTag,highlightColor:(T=r[_.id])==null?void 0:T.highlightColor,showMorph:s.showMorphUnderWords,showHighlights:s.showHighlights,onClick:c},_.id)})]})})},h.reference)})})}function xy({selectedWord:l,annotation:n,showMorphUnderWords:s,onMorphTagChange:r,onNoteChange:c,onColorChange:h,showHighlights:d,onShowMorphToggle:g,onShowHighlightsToggle:m,isSyncing:v,isLoading:_,isAuthenticated:b,onLogin:T}){const C=Q.useCallback(q=>{l&&r(l.id,q.target.value)},[l,r]),O=Q.useCallback(q=>{l&&c(l.id,q.target.value)},[l,c]),D=Q.useCallback(q=>{g(q.target.checked)},[g]),H=Q.useCallback(q=>{m(q.target.checked)},[m]);if(!l)return E.jsx("div",{className:"detail-panel is-empty",onClick:q=>q.stopPropagation(),children:E.jsxs("div",{className:"detail-panel-empty",children:[E.jsx("div",{className:"detail-panel-hint",children:"Click a word to enter tags and exegetical notes ()"}),E.jsxs("div",{className:"detail-panel-options horizontal",children:[E.jsxs("label",{className:"detail-checkbox",children:[E.jsx("input",{type:"checkbox",checked:s,onChange:D}),E.jsx("span",{className:"detail-checkbox-label",children:"Show Tags"})]}),E.jsxs("label",{className:"detail-checkbox",children:[E.jsx("input",{type:"checkbox",checked:d,onChange:H}),E.jsx("span",{className:"detail-checkbox-label",children:"Highlight On/Off"})]})]})]})});const V=l.language;return E.jsxs("div",{className:"detail-panel",onClick:q=>q.stopPropagation(),children:[_&&E.jsxs("div",{className:"detail-loading-overlay",children:[E.jsx("div",{className:"spinner"}),E.jsx("span",{children:"Loading notes..."})]}),E.jsxs("div",{className:"detail-panel-content",children:[E.jsxs("div",{className:"detail-word-display",children:[E.jsx("div",{className:`detail-word-text ${V}`,children:l.surfaceForm}),E.jsxs("div",{className:"detail-word-ref",children:[l.verseRef,"  pos ",l.position+1]})]}),E.jsxs("div",{className:"detail-fields",children:[E.jsxs("div",{className:"detail-field-row",children:[E.jsxs("div",{className:"detail-field is-flexible",children:[E.jsx("label",{className:"detail-field-label",htmlFor:"morph-tag",children:"Morphological Tag ()"}),E.jsx("input",{id:"morph-tag",type:"text",className:"detail-field-input",placeholder:l.language==="greek"?"Ex: Pres Ind Act 3s":"Ex: Qal pf 3ms",value:(n==null?void 0:n.morphTag)||"",onChange:C})]}),E.jsxs("div",{className:"detail-field",children:[E.jsx("label",{className:"detail-field-label",children:"Highlight Color"}),E.jsx("div",{className:"color-picker-group",children:[{id:"none",color:"",label:"Default"},{id:"red",color:"#e53935",label:"Red"},{id:"orange",color:"#fb8c00",label:"Orange"},{id:"gold",color:"#c5a000",label:"Gold"},{id:"green",color:"#2e7d32",label:"Green"},{id:"blue",color:"#4361ee",label:"Blue"},{id:"purple",color:"#8e24aa",label:"Purple"},{id:"pink",color:"#d81b60",label:"Pink"}].map(q=>E.jsxs("label",{className:`color-radio ${!(n!=null&&n.highlightColor)&&q.color===""||(n==null?void 0:n.highlightColor)===q.color?"active":""}`,title:q.label,children:[E.jsx("input",{type:"radio",name:"highlight-color",value:q.color,checked:!(n!=null&&n.highlightColor)&&q.color===""||(n==null?void 0:n.highlightColor)===q.color,onChange:()=>h(l.id,q.color)}),E.jsx("span",{className:"color-swatch",style:{backgroundColor:q.color||"var(--color-text-primary)"},children:q.color===""&&E.jsx("span",{className:"no-color-slash"})})]},q.id))})]})]}),E.jsxs("div",{className:"detail-field",children:[E.jsx("label",{className:"detail-field-label",htmlFor:"exegetical-note",children:"Exegetical Notes ()"}),E.jsx("textarea",{id:"exegetical-note",className:"detail-field-input detail-field-textarea",placeholder:"Syntax, usage, theological value, etc. (...)",value:(n==null?void 0:n.exegeticalNote)||"",onChange:O})]}),E.jsx("div",{className:"detail-field",children:E.jsxs("div",{className:"detail-footer-row",children:[E.jsxs("label",{className:"detail-checkbox",children:[E.jsx("input",{type:"checkbox",checked:s,onChange:D}),E.jsx("span",{className:"detail-checkbox-label",children:"Show Tags"})]}),E.jsxs("label",{className:"detail-checkbox",children:[E.jsx("input",{type:"checkbox",checked:d,onChange:H}),E.jsx("span",{className:"detail-checkbox-label",children:"Highlight On/Off"})]}),b?E.jsx("span",{className:`save-indicator ${v?"is-syncing":""}`,style:{opacity:n!=null&&n.updatedAt||v?1:0},children:v?"... Syncing":" Cloud Saved"}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"save-indicator is-local",style:{opacity:n!=null&&n.updatedAt?1:0},children:" Local"}),E.jsx("button",{className:"detail-login-hint",onClick:T,children:"Sync to Cloud"})]})]})})]})]})]})}function Dy({isOpen:l,onClose:n,settings:s,onThemeChange:r,onFontSizeHebrewChange:c,onFontSizeGreekChange:h,onFontFamilyHebrewChange:d,onFontFamilyGreekChange:g,onLineHeightChange:m,onExportAnnotations:v,onImportAnnotations:_}){return E.jsx("div",{className:`settings-overlay ${l?"open":""}`,onClick:n,children:E.jsxs("div",{className:"settings-panel",onClick:b=>b.stopPropagation(),children:[E.jsxs("div",{className:"settings-header",children:[E.jsx("h2",{className:"settings-title",children:"Settings"}),E.jsx("button",{className:"settings-close",onClick:n,"aria-label":"Close",children:E.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:E.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"settings-body",children:[E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"settings-section-title",children:"Theme"}),E.jsxs("div",{className:"theme-toggle",children:[E.jsx("button",{className:`theme-toggle-option ${s.theme==="light"?"active":""}`,onClick:()=>r("light"),children:"Light"}),E.jsx("button",{className:`theme-toggle-option ${s.theme==="system"?"active":""}`,onClick:()=>r("system"),children:"System"}),E.jsx("button",{className:`theme-toggle-option ${s.theme==="dark"?"active":""}`,onClick:()=>r("dark"),children:"Dark"})]})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"settings-section-title",children:"Font Family"}),E.jsxs("div",{className:"settings-field",children:[E.jsx("label",{className:"settings-label",children:"Hebrew / Aramaic"}),E.jsxs("select",{className:"settings-select",value:s.fontFamilyHebrew,onChange:b=>d(b.target.value),children:[E.jsx("option",{value:"SBL Hebrew",children:"SBL Hebrew (Biblical Scholar)"}),E.jsx("option",{value:"Noto Serif Hebrew",children:"Noto Serif Hebrew (Serif)"}),E.jsx("option",{value:"David Libre",children:"David Libre (Serif)"}),E.jsx("option",{value:"Noto Sans Hebrew",children:"Noto Sans (Sans-serif)"})]})]}),E.jsxs("div",{className:"settings-field",children:[E.jsx("label",{className:"settings-label",children:"Greek"}),E.jsxs("select",{className:"settings-select",value:s.fontFamilyGreek,onChange:b=>g(b.target.value),children:[E.jsx("option",{value:"SBL Greek",children:"SBL Greek (Biblical Scholar)"}),E.jsx("option",{value:"Noto Serif",children:"Noto Serif (Serif)"}),E.jsx("option",{value:"Cardo",children:"Cardo (Scholar)"}),E.jsx("option",{value:"Inter",children:"Inter (Sans-serif - for UI)"})]})]})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"settings-section-title",children:"Font Size"}),E.jsxs("div",{className:"settings-field",children:[E.jsx("label",{className:"settings-label",children:"Hebrew / Aramaic"}),E.jsxs("div",{className:"settings-slider",children:[E.jsx("input",{type:"range",min:"20",max:"48",value:s.fontSizeHebrew,onChange:b=>c(Number(b.target.value))}),E.jsxs("span",{className:"settings-slider-value",children:[s.fontSizeHebrew,"px"]})]})]}),E.jsxs("div",{className:"settings-field",children:[E.jsx("label",{className:"settings-label",children:"Greek"}),E.jsxs("div",{className:"settings-slider",children:[E.jsx("input",{type:"range",min:"20",max:"36",value:s.fontSizeGreek,onChange:b=>h(Number(b.target.value))}),E.jsxs("span",{className:"settings-slider-value",children:[s.fontSizeGreek,"px"]})]})]})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"settings-section-title",children:"Line Height"}),E.jsxs("div",{className:"settings-field",children:[E.jsxs("label",{className:"settings-label",children:["Line Height: ",s.lineHeight.toFixed(1)]}),E.jsx("div",{className:"settings-slider",children:E.jsx("input",{type:"range",min:"2.0",max:"5.0",step:"0.1",value:s.lineHeight,onChange:b=>m(parseFloat(b.target.value))})})]})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{className:"settings-section-title",children:"Data Management"}),E.jsx("p",{style:{fontSize:"14px",color:"var(--color-text-secondary)",marginBottom:"12px"},children:"You can export and import your annotations in JSON format. ( JSON )"}),E.jsxs("div",{className:"settings-actions",children:[E.jsx("button",{className:"settings-button primary",onClick:v,children:"Export Data (JSON)"}),E.jsxs("label",{className:"settings-button secondary",children:["Import Data (JSON)",E.jsx("input",{type:"file",accept:".json",style:{display:"none"},onChange:b=>{var C;const T=(C=b.target.files)==null?void 0:C[0];T&&(confirm("Current data will be overwritten. Are you sure? ")&&_(T).then(()=>{alert("Import completed: ")}).catch(O=>{alert("Import failed: : "+O.message)}),b.target.value="")}})]})]})]})]})]})})}function Uy({onClick:l}){return E.jsx("button",{className:"settings-toggle",onClick:l,"aria-label":"Open Settings",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("circle",{cx:"12",cy:"12",r:"3"}),E.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})})}function Js(l,n){var s={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&n.indexOf(r)<0&&(s[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(l);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(l,r[c])&&(s[r[c]]=l[r[c]]);return s}function ky(l,n,s,r){function c(h){return h instanceof s?h:new s(function(d){d(h)})}return new(s||(s=Promise))(function(h,d){function g(_){try{v(r.next(_))}catch(b){d(b)}}function m(_){try{v(r.throw(_))}catch(b){d(b)}}function v(_){_.done?h(_.value):c(_.value).then(g,m)}v((r=r.apply(l,n||[])).next())})}const zy=l=>l?(...n)=>l(...n):(...n)=>fetch(...n);class qo extends Error{constructor(n,s="FunctionsError",r){super(n),this.name=s,this.context=r}}class My extends qo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class am extends qo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class nm extends qo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var jo;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(jo||(jo={}));class Ly{constructor(n,{headers:s={},customFetch:r,region:c=jo.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=zy(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ky(this,arguments,void 0,function*(s,r={}){var c;let h,d;try{const{headers:g,method:m,body:v,signal:_,timeout:b}=r;let T={},{region:C}=r;C||(C=this.region);const O=new URL(`${this.url}/${s}`);C&&C!=="any"&&(T["x-region"]=C,O.searchParams.set("forceFunctionRegion",C));let D;v&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",D=v):typeof v=="string"?(T["Content-Type"]="text/plain",D=v):typeof FormData<"u"&&v instanceof FormData?D=v:(T["Content-Type"]="application/json",D=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?D=JSON.stringify(v):D=v;let H=_;b&&(d=new AbortController,h=setTimeout(()=>d.abort(),b),_?(H=d.signal,_.addEventListener("abort",()=>d.abort())):H=d.signal);const V=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),g),body:D,signal:H}).catch(ve=>{throw new My(ve)}),q=V.headers.get("x-relay-error");if(q&&q==="true")throw new am(V);if(!V.ok)throw new nm(V);let G=((c=V.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),P;return G==="application/json"?P=yield V.json():G==="application/octet-stream"||G==="application/pdf"?P=yield V.blob():G==="text/event-stream"?P=V:G==="multipart/form-data"?P=yield V.formData():P=yield V.text(),{data:P,error:null,response:V}}catch(g){return{data:null,error:g,response:g instanceof nm||g instanceof am?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var By=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Hy=class{constructor(l){var n,s;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(n=l.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=l.signal,this.isMaybeSingle=(s=l.isMaybeSingle)!==null&&s!==void 0?s:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,n){return this.headers=new Headers(this.headers),this.headers.set(l,n),this}then(l,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let d=null,g=null,m=null,v=h.status,_=h.statusText;if(h.ok){var b,T;if(s.method!=="HEAD"){var C;const V=await h.text();V===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((C=s.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?g=V:g=JSON.parse(V))}const D=(b=s.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),H=(T=h.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");D&&H&&H.length>1&&(m=parseInt(H[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,v=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var O;const D=await h.text();try{d=JSON.parse(D),Array.isArray(d)&&h.status===404&&(g=[],d=null,v=200,_="OK")}catch{h.status===404&&D===""?(v=204,_="No Content"):d={message:D}}if(d&&s.isMaybeSingle&&(!(d==null||(O=d.details)===null||O===void 0)&&O.includes("0 rows"))&&(d=null,v=200,_="OK"),d&&s.shouldThrowOnError)throw new By(d)}return{error:d,data:g,count:m,status:v,statusText:_}});return this.shouldThrowOnError||(c=c.catch(h=>{var d;let g="";const m=h==null?void 0:h.cause;if(m){var v,_,b,T;const O=(v=m==null?void 0:m.message)!==null&&v!==void 0?v:"",D=(_=m==null?void 0:m.code)!==null&&_!==void 0?_:"";g=`${(b=h==null?void 0:h.name)!==null&&b!==void 0?b:"FetchError"}: ${h==null?void 0:h.message}`,g+=`

Caused by: ${(T=m==null?void 0:m.name)!==null&&T!==void 0?T:"Error"}: ${O}`,D&&(g+=` (${D})`),m!=null&&m.stack&&(g+=`
${m.stack}`)}else{var C;g=(C=h==null?void 0:h.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(d=h==null?void 0:h.name)!==null&&d!==void 0?d:"FetchError"}: ${h==null?void 0:h.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(l,n)}returns(){return this}overrideTypes(){return this}},qy=class extends Hy{select(l){let n=!1;const s=(l??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:c=r}={}){const h=c?`${c}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${l}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${l}`),this}range(l,n,{foreignTable:s,referencedTable:r=s}={}){const c=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${l}`),this.url.searchParams.set(h,`${n-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:c=!1,format:h="text"}={}){var d;const g=[l?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${m}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const im=new RegExp("[,()]");var fi=class extends qy{eq(l,n){return this.url.searchParams.append(l,`eq.${n}`),this}neq(l,n){return this.url.searchParams.append(l,`neq.${n}`),this}gt(l,n){return this.url.searchParams.append(l,`gt.${n}`),this}gte(l,n){return this.url.searchParams.append(l,`gte.${n}`),this}lt(l,n){return this.url.searchParams.append(l,`lt.${n}`),this}lte(l,n){return this.url.searchParams.append(l,`lte.${n}`),this}like(l,n){return this.url.searchParams.append(l,`like.${n}`),this}likeAllOf(l,n){return this.url.searchParams.append(l,`like(all).{${n.join(",")}}`),this}likeAnyOf(l,n){return this.url.searchParams.append(l,`like(any).{${n.join(",")}}`),this}ilike(l,n){return this.url.searchParams.append(l,`ilike.${n}`),this}ilikeAllOf(l,n){return this.url.searchParams.append(l,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(l,n){return this.url.searchParams.append(l,`ilike(any).{${n.join(",")}}`),this}regexMatch(l,n){return this.url.searchParams.append(l,`match.${n}`),this}regexIMatch(l,n){return this.url.searchParams.append(l,`imatch.${n}`),this}is(l,n){return this.url.searchParams.append(l,`is.${n}`),this}isDistinct(l,n){return this.url.searchParams.append(l,`isdistinct.${n}`),this}in(l,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&im.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(l,`in.(${s})`),this}notIn(l,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&im.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(l,`not.in.(${s})`),this}contains(l,n){return typeof n=="string"?this.url.searchParams.append(l,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(l,`cs.{${n.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(n)}`),this}containedBy(l,n){return typeof n=="string"?this.url.searchParams.append(l,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(l,`cd.{${n.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(n)}`),this}rangeGt(l,n){return this.url.searchParams.append(l,`sr.${n}`),this}rangeGte(l,n){return this.url.searchParams.append(l,`nxl.${n}`),this}rangeLt(l,n){return this.url.searchParams.append(l,`sl.${n}`),this}rangeLte(l,n){return this.url.searchParams.append(l,`nxr.${n}`),this}rangeAdjacent(l,n){return this.url.searchParams.append(l,`adj.${n}`),this}overlaps(l,n){return typeof n=="string"?this.url.searchParams.append(l,`ov.${n}`):this.url.searchParams.append(l,`ov.{${n.join(",")}}`),this}textSearch(l,n,{config:s,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(l,`${c}fts${h}.${n}`),this}match(l){return Object.entries(l).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(l,n,s){return this.url.searchParams.append(l,`not.${n}.${s}`),this}or(l,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${l})`),this}filter(l,n,s){return this.url.searchParams.append(l,`${n}.${s}`),this}},Vy=class{constructor(l,{headers:n={},schema:s,fetch:r}){this.url=l,this.headers=new Headers(n),this.schema=s,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,n){const{head:s=!1,count:r}=n??{},c=s?"HEAD":"GET";let h=!1;const d=(l??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join(""),{url:g,headers:m}=this.cloneRequestState();return g.searchParams.set("select",d),r&&m.append("Prefer",`count=${r}`),new fi({method:c,url:g,headers:m,schema:this.schema,fetch:this.fetch})}insert(l,{count:n,defaultToNull:s=!0}={}){var r;const c="POST",{url:h,headers:d}=this.cloneRequestState();if(n&&d.append("Prefer",`count=${n}`),s||d.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);h.searchParams.set("columns",m.join(","))}}return new fi({method:c,url:h,headers:d,schema:this.schema,body:l,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(l,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:c=!0}={}){var h;const d="POST",{url:g,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),r&&m.append("Prefer",`count=${r}`),c||m.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(v.length>0){const _=[...new Set(v)].map(b=>`"${b}"`);g.searchParams.set("columns",_.join(","))}}return new fi({method:d,url:g,headers:m,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(l,{count:n}={}){var s;const r="PATCH",{url:c,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new fi({method:r,url:c,headers:h,schema:this.schema,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:l}={}){var n;const s="DELETE",{url:r,headers:c}=this.cloneRequestState();return l&&c.append("Prefer",`count=${l}`),new fi({method:s,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Gy=class Nm{constructor(n,{headers:s={},schema:r,fetch:c}={}){this.url=n,this.headers=new Headers(s),this.schemaName=r,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Vy(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Nm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,s={},{head:r=!1,get:c=!1,count:h}={}){var d;let g;const m=new URL(`${this.url}/rpc/${n}`);let v;const _=C=>C!==null&&typeof C=="object"&&(!Array.isArray(C)||C.some(_)),b=r&&Object.values(s).some(_);b?(g="POST",v=s):r||c?(g=r?"HEAD":"GET",Object.entries(s).filter(([C,O])=>O!==void 0).map(([C,O])=>[C,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([C,O])=>{m.searchParams.append(C,O)})):(g="POST",v=s);const T=new Headers(this.headers);return b?T.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&T.set("Prefer",`count=${h}`),new fi({method:g,url:m,headers:T,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class $y{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const c=r.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const r=this.getWebSocketConstructor();return new r(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ky="2.90.1",Jy=`realtime-js/${Ky}`,xm="1.0.0",Yy="2.0.0",lm=xm,Co=1e4,Iy=1e3,Xy=100;var Ja;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ja||(Ja={}));var Xe;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Xe||(Xe={}));var It;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(It||(It={}));var No;(function(l){l.websocket="websocket"})(No||(No={}));var yn;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(yn||(yn={}));class Qy{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,s,r){var c,h;const d=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",m=(h=n.join_ref)!==null&&h!==void 0?h:"",v=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(_).length===0?"":JSON.stringify(_);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+d.length+v.length+b.length,C=new ArrayBuffer(this.HEADER_LENGTH+T);let O=new DataView(C),D=0;O.setUint8(D++,this.KINDS.userBroadcastPush),O.setUint8(D++,m.length),O.setUint8(D++,g.length),O.setUint8(D++,d.length),O.setUint8(D++,v.length),O.setUint8(D++,b.length),O.setUint8(D++,s),Array.from(m,V=>O.setUint8(D++,V.charCodeAt(0))),Array.from(g,V=>O.setUint8(D++,V.charCodeAt(0))),Array.from(d,V=>O.setUint8(D++,V.charCodeAt(0))),Array.from(v,V=>O.setUint8(D++,V.charCodeAt(0))),Array.from(b,V=>O.setUint8(D++,V.charCodeAt(0)));var H=new Uint8Array(C.byteLength+r.byteLength);return H.set(new Uint8Array(C),0),H.set(new Uint8Array(r),C.byteLength),H.buffer}decode(n,s){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return s(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,h,d,g,m]=r;return s({join_ref:c,ref:h,topic:d,event:g,payload:m})}return s({})}_binaryDecode(n){const s=new DataView(n),r=s.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,c)}}_decodeUserBroadcast(n,s,r){const c=s.getUint8(1),h=s.getUint8(2),d=s.getUint8(3),g=s.getUint8(4);let m=this.HEADER_LENGTH+4;const v=r.decode(n.slice(m,m+c));m=m+c;const _=r.decode(n.slice(m,m+h));m=m+h;const b=r.decode(n.slice(m,m+d));m=m+d;const T=n.slice(m,n.byteLength),C=g===this.JSON_ENCODING?JSON.parse(r.decode(T)):T,O={type:this.BROADCAST_EVENT,event:_,payload:C};return d>0&&(O.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>s.includes(r)))}}class Dm{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ce||(Ce={}));const sm=(l,n,s={})=>{var r;const c=(r=s.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((h,d)=>(h[d]=Zy(d,l,n,c),h),{}):{}},Zy=(l,n,s,r)=>{const c=n.find(g=>g.name===l),h=c==null?void 0:c.type,d=s[l];return h&&!r.includes(h)?Um(h,d):xo(d)},Um=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return ep(n,s)}switch(l){case Ce.bool:return Py(n);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Wy(n);case Ce.json:case Ce.jsonb:return Fy(n);case Ce.timestamp:return tp(n);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return xo(n);default:return xo(n)}},xo=l=>l,Py=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Wy=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},Fy=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},ep=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,r=l[s];if(l[0]==="{"&&r==="}"){let h;const d=l.slice(1,s);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(g=>Um(n,g))}return l},tp=l=>typeof l=="string"?l.replace(" ","T"):l,km=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class po{constructor(n,s,r={},c=Co){this.channel=n,this.event=s,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var r;return this._hasReceived(n)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var rm;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(rm||(rm={}));class fl{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:h,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fl.syncState(this.state,c,h,d),this.pendingDiffs.forEach(m=>{this.state=fl.syncDiff(this.state,m,h,d)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:h,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=fl.syncDiff(this.state,c,h,d),g())}),this.onJoin((c,h,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:d})}),this.onLeave((c,h,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,r,c){const h=this.cloneDeep(n),d=this.transformState(s),g={},m={};return this.map(h,(v,_)=>{d[v]||(m[v]=_)}),this.map(d,(v,_)=>{const b=h[v];if(b){const T=_.map(H=>H.presence_ref),C=b.map(H=>H.presence_ref),O=_.filter(H=>C.indexOf(H.presence_ref)<0),D=b.filter(H=>T.indexOf(H.presence_ref)<0);O.length>0&&(g[v]=O),D.length>0&&(m[v]=D)}else g[v]=_}),this.syncDiff(h,{joins:g,leaves:m},r,c)}static syncDiff(n,s,r,c){const{joins:h,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(h,(g,m)=>{var v;const _=(v=n[g])!==null&&v!==void 0?v:[];if(n[g]=this.cloneDeep(m),_.length>0){const b=n[g].map(C=>C.presence_ref),T=_.filter(C=>b.indexOf(C.presence_ref)<0);n[g].unshift(...T)}r(g,_,m)}),this.map(d,(g,m)=>{let v=n[g];if(!v)return;const _=m.map(b=>b.presence_ref);v=v.filter(b=>_.indexOf(b.presence_ref)<0),n[g]=v,c(g,v,m),v.length===0&&delete n[g]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(r=>s(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,r)=>{const c=n[r];return"metas"in c?s[r]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[r]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var um;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(um||(um={}));var dl;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(dl||(dl={}));var pa;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class gi{constructor(n,s={config:{}},r){var c,h;if(this.topic=n,this.params=s,this.socket=r,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new po(this,It.join,this.params,this.timeout),this.rejoinTimer=new Dm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(d,g)=>{this._trigger(this._replyEventName(g),d)}),this.presence=new fl(this),this.broadcastEndpointURL=km(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var r,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Xe.closed){const{config:{broadcast:d,presence:g,private:m}}=this.params,v=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(C=>C.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[dl.PRESENCE]&&this.bindings[dl.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},T={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:_}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(C=>n==null?void 0:n(pa.CHANNEL_ERROR,C)),this._onClose(()=>n==null?void 0:n(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:T},b)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:C})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){n==null||n(pa.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,H=(O=D==null?void 0:D.length)!==null&&O!==void 0?O:0,V=[];for(let q=0;q<H;q++){const G=D[q],{filter:{event:P,schema:ve,table:ee,filter:X}}=G,Ne=C&&C[q];if(Ne&&Ne.event===P&&gi.isFilterValueEqual(Ne.schema,ve)&&gi.isFilterValueEqual(Ne.table,ee)&&gi.isFilterValueEqual(Ne.filter,X))V.push(Object.assign(Object.assign({},G),{id:Ne.id}));else{this.unsubscribe(),this.state=Xe.errored,n==null||n(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,n&&n(pa.SUBSCRIBED);return}}).receive("error",C=>{this.state=Xe.errored,n==null||n(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,r){return this.state===Xe.joined&&n===dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,r)}async httpSend(n,s,r={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const v=await g.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(n,s={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,g,m;const v=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Xe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new po(this,It.leave,{},n),r.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xe.closed,this.bindings={}}async _fetchWithTimeout(n,s,r){const c=new AbortController,h=setTimeout(()=>c.abort(),r),d=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(h),d}_push(n,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new po(this,n,s,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Xy){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,r){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,r){var c,h;const d=n.toLocaleLowerCase(),{close:g,error:m,leave:v,join:_}=It;if(r&&[g,m,v,_].indexOf(d)>=0&&r!==this._joinRef())return;let T=this._onMessage(d,s,r);if(s&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(C=>{var O,D,H;return((O=C.filter)===null||O===void 0?void 0:O.event)==="*"||((H=(D=C.filter)===null||D===void 0?void 0:D.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===d}).map(C=>C.callback(T,r)):(h=this.bindings[d])===null||h===void 0||h.filter(C=>{var O,D,H,V,q,G,P,ve;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const ee=C.id,X=(O=C.filter)===null||O===void 0?void 0:O.event;return ee&&((D=s.ids)===null||D===void 0?void 0:D.includes(ee))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((H=s.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))&&(!(!((V=C.filter)===null||V===void 0)&&V.table)||C.filter.table===((q=s.data)===null||q===void 0?void 0:q.table))}else{const ee=(P=(G=C==null?void 0:C.filter)===null||G===void 0?void 0:G.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return ee==="*"||ee===((ve=s==null?void 0:s.event)===null||ve===void 0?void 0:ve.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof T=="object"&&"ids"in T){const O=T.data,{schema:D,table:H,commit_timestamp:V,type:q,errors:G}=O;T=Object.assign(Object.assign({},{schema:D,table:H,commit_timestamp:V,eventType:q,new:{},old:{},errors:G}),this._getPayloadRecords(O))}C.callback(T,r)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,r){const c=n.toLocaleLowerCase(),h={type:c,filter:s,callback:r};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(n,s){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&gi.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(n[r]!==s[r])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(It.close,{},n)}_onError(n){this._on(It.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=sm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=sm(n.columns,n.old_record)),s}}const _o=()=>{},Bs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ap=[1e3,2e3,5e3,1e4],np=1e4,ip=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lp{constructor(n,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Co,this.transport=null,this.heartbeatIntervalMs=Bs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_o,this.ref=0,this.reconnectTimer=null,this.vsn=lm,this.logger=_o,this.conn=null,this.sendBuffer=[],this.serializer=new Qy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${No.websocket}`,this.httpEndpoint=km(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$y.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,r){this.logger(n,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ja.connecting:return yn.Connecting;case Ja.open:return yn.Open;case Ja.closing:return yn.Closing;default:return yn.Closed}}isConnected(){return this.connectionState()===yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(h=>h.topic===r);if(c)return c;{const h=new gi(`realtime:${n}`,s,this);return this.channels.push(h),h}}push(n){const{topic:s,event:r,payload:c,ref:h}=n,d=()=>{this.encode(n,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${s} ${r} (${h})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Iy,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Bs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",v)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:h,ref:d}=s,g=d?`(${d})`:"",m=h.status||"";this.log("receive",`${m} ${r} ${c} ${g}`.trim(),h),this.channels.filter(v=>v._isMember(r)).forEach(v=>v._trigger(c,h,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Ja.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ja.open||this.conn.readyState===Ja.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(It.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${r}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const r=new Blob([ip],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,r=!1;if(n)s=n,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const h={access_token:s,version:Jy};s&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(It.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Dm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,r,c,h,d,g,m,v,_,b,T,C;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:Co,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Bs.HEARTBEAT_INTERVAL,this.worker=(h=n==null?void 0:n.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=n==null?void 0:n.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=n==null?void 0:n.heartbeatCallback)!==null&&g!==void 0?g:_o,this.vsn=(m=n==null?void 0:n.vsn)!==null&&m!==void 0?m:lm,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=n==null?void 0:n.reconnectAfterMs)!==null&&v!==void 0?v:(O=>ap[O-1]||np),this.vsn){case xm:this.encode=(_=n==null?void 0:n.encode)!==null&&_!==void 0?_:((O,D)=>D(JSON.stringify(O))),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:((O,D)=>D(JSON.parse(O)));break;case Yy:this.encode=(T=n==null?void 0:n.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(C=n==null?void 0:n.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var ml=class extends Error{constructor(l,n){var s;super(l),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sp(l,n,s){const r=new URL(n,l);if(s)for(const[c,h]of Object.entries(s))h!==void 0&&r.searchParams.set(c,h);return r.toString()}async function rp(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function up(l){const n=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:c,body:h,headers:d}){const g=sp(l.baseUrl,r,c),m=await rp(l.auth),v=await n(g,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...m,...d},body:h?JSON.stringify(h):void 0}),_=await v.text(),b=(v.headers.get("content-type")||"").includes("application/json"),T=b&&_?JSON.parse(_):_;if(!v.ok){const C=b?T:void 0,O=C==null?void 0:C.error;throw new ml((O==null?void 0:O.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:O==null?void 0:O.type,icebergCode:O==null?void 0:O.code,details:C})}return{status:v.status,headers:v.headers,data:T}}}}function Hs(l){return l.join("")}var op=class{constructor(l,n=""){this.client=l,this.prefix=n}async listNamespaces(l){const n=l?{parent:Hs(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(l,n){const s={namespace:l.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hs(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hs(l.namespace)}`}),!0}catch(n){if(n instanceof ml&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(l,n){try{return await this.createNamespace(l,n)}catch(s){if(s instanceof ml&&s.status===409)return;throw s}}};function si(l){return l.join("")}var cp=class{constructor(l,n="",s){this.client=l,this.prefix=n,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${si(l.namespace)}/tables`})).data.identifiers}async createTable(l,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${si(l.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(l,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${si(l.namespace)}/tables/${l.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${si(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(l){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${si(l.namespace)}/tables/${l.name}`,headers:n})).data.metadata}async tableExists(l){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${si(l.namespace)}/tables/${l.name}`,headers:n}),!0}catch(s){if(s instanceof ml&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,n){try{return await this.createTable(l,n)}catch(s){if(s instanceof ml&&s.status===409)return await this.loadTable({namespace:l.namespace,name:n.name});throw s}}},hp=class{constructor(l){var r;let n="v1";l.catalogName&&(n+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=up({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=(r=l.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new op(this.client,n),this.tableOps=new cp(this.client,n,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,n){return this.namespaceOps.createNamespace(l,n)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,n){return this.tableOps.createTable(l,n)}async updateTable(l,n){return this.tableOps.updateTable(l,n)}async dropTable(l,n){await this.tableOps.dropTable(l,n)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,n){return this.namespaceOps.createNamespaceIfNotExists(l,n)}async createTableIfNotExists(l,n){return this.tableOps.createTableIfNotExists(l,n)}},Ys=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function ke(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var fp=class extends Ys{constructor(l,n,s){super(l),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Do=class extends Ys{constructor(l,n){super(l),this.name="StorageUnknownError",this.originalError=n}};const Vo=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),dp=()=>Response,Uo=l=>{if(Array.isArray(l))return l.map(s=>Uo(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,r])=>{const c=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[c]=Uo(r)}),n},mp=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},gp=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function gl(l){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gl(l)}function vp(l,n){if(gl(l)!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var r=s.call(l,n);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function yp(l){var n=vp(l,"string");return gl(n)=="symbol"?n:n+""}function pp(l,n,s){return(n=yp(n))in l?Object.defineProperty(l,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[n]=s,l}function om(l,n){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),s.push.apply(s,r)}return s}function ie(l){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?om(Object(s),!0).forEach(function(r){pp(l,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):om(Object(s)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(s,r))})}return l}const bo=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},_p=async(l,n,s)=>{l instanceof await dp()&&!(s!=null&&s.noResolveJson)?l.json().then(r=>{const c=l.status||500,h=(r==null?void 0:r.statusCode)||c+"";n(new fp(bo(r),c,h))}).catch(r=>{n(new Do(bo(r),r))}):n(new Do(bo(l),l))},bp=(l,n,s,r)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"||!r?c:(mp(r)?(c.headers=ie({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(r)):c.body=r,n!=null&&n.duplex&&(c.duplex=n.duplex),ie(ie({},c),s))};async function bl(l,n,s,r,c,h){return new Promise((d,g)=>{l(s,bp(n,r,c,h)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>_p(m,g,r))})}async function vl(l,n,s,r){return bl(l,"GET",n,s,r)}async function Yt(l,n,s,r,c){return bl(l,"POST",n,r,c,s)}async function ko(l,n,s,r,c){return bl(l,"PUT",n,r,c,s)}async function Sp(l,n,s,r){return bl(l,"HEAD",n,ie(ie({},s),{},{noResolveJson:!0}),r)}async function Go(l,n,s,r,c){return bl(l,"DELETE",n,r,c,s)}var wp=class{constructor(l,n){this.downloadFn=l,this.shouldThrowOnError=n}then(l,n){return this.execute().then(l,n)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(n){if(l.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}};let zm;zm=Symbol.toStringTag;var Ep=class{constructor(l,n){this.downloadFn=l,this.shouldThrowOnError=n,this[zm]="BlobDownloadBuilder",this.promise=null}asStream(){return new wp(this.downloadFn,this.shouldThrowOnError)}then(l,n){return this.getPromise().then(l,n)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(n){if(l.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}};const Tp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ap=class{constructor(l,n={},s,r){this.shouldThrowOnError=!1,this.url=l,this.headers=n,this.bucketId=s,this.fetch=Vo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,n,s,r){var c=this;try{let h;const d=ie(ie({},cm),r);let g=ie(ie({},c.headers),l==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),m&&h.append("metadata",c.encodeMetadata(m)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),m&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(m))):(h=s,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,m&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),r!=null&&r.headers&&(g=ie(ie({},g),r.headers));const v=c._removeEmptyFolders(n),_=c._getFinalPath(v),b=await(l=="PUT"?ko:Yt)(c.fetch,`${c.url}/object/${_}`,h,ie({headers:g},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:v,id:b.Id,fullPath:b.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(ke(h))return{data:null,error:h};throw h}}async upload(l,n,s){return this.uploadOrUpdate("POST",l,n,s)}async uploadToSignedUrl(l,n,s,r){var c=this;const h=c._removeEmptyFolders(l),d=c._getFinalPath(h),g=new URL(c.url+`/object/upload/sign/${d}`);g.searchParams.set("token",n);try{let m;const v=ie({upsert:cm.upsert},r),_=ie(ie({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",v.cacheControl)):(m=s,_["cache-control"]=`max-age=${v.cacheControl}`,_["content-type"]=v.contentType),{data:{path:h,fullPath:(await ko(c.fetch,g.toString(),m,{headers:_})).Key},error:null}}catch(m){if(c.shouldThrowOnError)throw m;if(ke(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(l,n){var s=this;try{let r=s._getFinalPath(l);const c=ie({},s.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const h=await Yt(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:c}),d=new URL(s.url+h.url),g=d.searchParams.get("token");if(!g)throw new Ys("No token returned by API");return{data:{signedUrl:d.toString(),path:l,token:g},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async update(l,n,s){return this.uploadOrUpdate("PUT",l,n,s)}async move(l,n,s){var r=this;try{return{data:await Yt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:l,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(ke(c))return{data:null,error:c};throw c}}async copy(l,n,s){var r=this;try{return{data:{path:(await Yt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:l,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key},error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(ke(c))return{data:null,error:c};throw c}}async createSignedUrl(l,n,s){var r=this;try{let c=r._getFinalPath(l),h=await Yt(r.fetch,`${r.url}/object/sign/${c}`,ie({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return h={signedUrl:encodeURI(`${r.url}${h.signedURL}${d}`)},{data:h,error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(ke(c))return{data:null,error:c};throw c}}async createSignedUrls(l,n,s){var r=this;try{const c=await Yt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:l},{headers:r.headers}),h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(d=>ie(ie({},d),{},{signedUrl:d.signedURL?encodeURI(`${r.url}${d.signedURL}${h}`):null})),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(ke(c))return{data:null,error:c};throw c}}download(l,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=r?`?${r}`:"",h=this._getFinalPath(l),d=()=>vl(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new Ep(d,this.shouldThrowOnError)}async info(l){var n=this;const s=n._getFinalPath(l);try{return{data:Uo(await vl(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async exists(l){var n=this;const s=n._getFinalPath(l);try{return await Sp(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ke(r)&&r instanceof Do){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}}getPublicUrl(l,n){const s=this._getFinalPath(l),r=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&r.push(d);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}async remove(l){var n=this;try{return{data:await Go(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:l},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async list(l,n,s){var r=this;try{const c=ie(ie(ie({},Tp),n),{},{prefix:l||""});return{data:await Yt(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},s),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(ke(c))return{data:null,error:c};throw c}}async listV2(l,n){var s=this;try{const r=ie({},l);return{data:await Yt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},n),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const n=[];return l.width&&n.push(`width=${l.width}`),l.height&&n.push(`height=${l.height}`),l.resize&&n.push(`resize=${l.resize}`),l.format&&n.push(`format=${l.format}`),l.quality&&n.push(`quality=${l.quality}`),n.join("&")}};const Mm="2.90.1",Lm={"X-Client-Info":`storage-js/${Mm}`};var Op=class{constructor(l,n={},s,r){this.shouldThrowOnError=!1;const c=new URL(l);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ie(ie({},Lm),n),this.fetch=Vo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var n=this;try{const s=n.listBucketOptionsToQueryString(l);return{data:await vl(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async getBucket(l){var n=this;try{return{data:await vl(n.fetch,`${n.url}/bucket/${l}`,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async createBucket(l,n={public:!1}){var s=this;try{return{data:await Yt(s.fetch,`${s.url}/bucket`,{id:l,name:l,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async updateBucket(l,n){var s=this;try{return{data:await ko(s.fetch,`${s.url}/bucket/${l}`,{id:l,name:l,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async emptyBucket(l){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/bucket/${l}/empty`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async deleteBucket(l){var n=this;try{return{data:await Go(n.fetch,`${n.url}/bucket/${l}`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(l){const n={};return l&&("limit"in l&&(n.limit=String(l.limit)),"offset"in l&&(n.offset=String(l.offset)),l.search&&(n.search=l.search),l.sortColumn&&(n.sortColumn=l.sortColumn),l.sortOrder&&(n.sortOrder=l.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Rp=class{constructor(l,n={},s){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=ie(ie({},Lm),n),this.fetch=Vo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/bucket`,{name:l},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async listBuckets(l){var n=this;try{const s=new URLSearchParams;(l==null?void 0:l.limit)!==void 0&&s.set("limit",l.limit.toString()),(l==null?void 0:l.offset)!==void 0&&s.set("offset",l.offset.toString()),l!=null&&l.sortColumn&&s.set("sortColumn",l.sortColumn),l!=null&&l.sortOrder&&s.set("sortOrder",l.sortOrder),l!=null&&l.search&&s.set("search",l.search);const r=s.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return{data:await vl(n.fetch,c,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async deleteBucket(l){var n=this;try{return{data:await Go(n.fetch,`${n.url}/bucket/${l}`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}from(l){var n=this;if(!gp(l))throw new Ys("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new hp({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(c,h){const d=c[h];return typeof d!="function"?d:async(...g)=>{try{return{data:await d.apply(c,g),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}}}})}};const $o={"X-Client-Info":`storage-js/${Mm}`,"Content-Type":"application/json"};var Bm=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ot(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var So=class extends Bm{constructor(l,n,s){super(l),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jp=class extends Bm{constructor(l,n){super(l),this.name="StorageVectorsUnknownError",this.originalError=n}};const Ko=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),Cp=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},hm=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Np=async(l,n,s)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(s!=null&&s.noResolveJson)){const r=l.status||500,c=l;if(typeof c.json=="function")c.json().then(h=>{const d=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||r+"";n(new So(hm(h),r,d))}).catch(()=>{const h=r+"";n(new So(c.statusText||`HTTP ${r} error`,r,h))});else{const h=r+"";n(new So(c.statusText||`HTTP ${r} error`,r,h))}}else n(new jp(hm(l),l))},xp=(l,n,s,r)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return r?(Cp(r)?(c.headers=ie({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(r)):c.body=r,ie(ie({},c),s)):c};async function Dp(l,n,s,r,c,h){return new Promise((d,g)=>{l(s,xp(n,r,c,h)).then(m=>{if(!m.ok)throw m;if(r!=null&&r.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>Np(m,g,r))})}async function Rt(l,n,s,r,c){return Dp(l,"POST",n,r,c,s)}var Up=class{constructor(l,n={},s){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=ie(ie({},$o),n),this.fetch=Ko(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/CreateIndex`,l,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async getIndex(l,n){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:l,indexName:n},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}}async listIndexes(l){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/ListIndexes`,l,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async deleteIndex(l,n){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:l,indexName:n},{headers:s.headers})||{},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}}},kp=class{constructor(l,n={},s){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=ie(ie({},$o),n),this.fetch=Ko(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var n=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Rt(n.fetch,`${n.url}/PutVectors`,l,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async getVectors(l){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/GetVectors`,l,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async listVectors(l){var n=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await Rt(n.fetch,`${n.url}/ListVectors`,l,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async queryVectors(l){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/QueryVectors`,l,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async deleteVectors(l){var n=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Rt(n.fetch,`${n.url}/DeleteVectors`,l,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}},zp=class{constructor(l,n={},s){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=ie(ie({},$o),n),this.fetch=Ko(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async getBucket(l){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:l},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async listBuckets(l={}){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/ListVectorBuckets`,l,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async deleteBucket(l){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}},Mp=class extends zp{constructor(l,n={}){super(l,n.headers||{},n.fetch)}from(l){return new Lp(this.url,this.headers,l,this.fetch)}async createBucket(l){var n=()=>super.createBucket,s=this;return n().call(s,l)}async getBucket(l){var n=()=>super.getBucket,s=this;return n().call(s,l)}async listBuckets(l={}){var n=()=>super.listBuckets,s=this;return n().call(s,l)}async deleteBucket(l){var n=()=>super.deleteBucket,s=this;return n().call(s,l)}},Lp=class extends Up{constructor(l,n,s,r){super(l,n,r),this.vectorBucketName=s}async createIndex(l){var n=()=>super.createIndex,s=this;return n().call(s,ie(ie({},l),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(l={}){var n=()=>super.listIndexes,s=this;return n().call(s,ie(ie({},l),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(l){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,l)}async deleteIndex(l){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,l)}index(l){return new Bp(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Bp=class extends kp{constructor(l,n,s,r,c){super(l,n,c),this.vectorBucketName=s,this.indexName=r}async putVectors(l){var n=()=>super.putVectors,s=this;return n().call(s,ie(ie({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(l){var n=()=>super.getVectors,s=this;return n().call(s,ie(ie({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(l={}){var n=()=>super.listVectors,s=this;return n().call(s,ie(ie({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(l){var n=()=>super.queryVectors,s=this;return n().call(s,ie(ie({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(l){var n=()=>super.deleteVectors,s=this;return n().call(s,ie(ie({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Hp=class extends Op{constructor(l,n={},s,r){super(l,n,s,r)}from(l){return new Ap(this.url,this.headers,l,this.fetch)}get vectors(){return new Mp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rp(this.url+"/iceberg",this.headers,this.fetch)}};const Hm="2.90.1",di=30*1e3,zo=3,wo=zo*di,qp="http://localhost:9999",Vp="supabase.auth.token",Gp={"X-Client-Info":`gotrue-js/${Hm}`},Mo="X-Supabase-Api-Version",qm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$p=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kp=600*1e3;class yl extends Error{constructor(n,s,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function W(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Jp extends yl{constructor(n,s,r){super(n,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Yp(l){return W(l)&&l.name==="AuthApiError"}class pn extends yl{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class _a extends yl{constructor(n,s,r,c){super(n,r,c),this.name=s,this.status=r}}class At extends _a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ip(l){return W(l)&&l.name==="AuthSessionMissingError"}class ri extends _a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends _a{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends _a{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xp(l){return W(l)&&l.name==="AuthImplicitGrantRedirectError"}class fm extends _a{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qp extends _a{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lo extends _a{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Eo(l){return W(l)&&l.name==="AuthRetryableFetchError"}class dm extends _a{constructor(n,s,r){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Bo extends _a{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mm=` 	
\r=`.split(""),Zp=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<mm.length;n+=1)l[mm[n].charCodeAt(0)]=-2;for(let n=0;n<Gs.length;n+=1)l[Gs[n].charCodeAt(0)]=n;return l})();function gm(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(Gs[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(Gs[r]),n.queuedBits-=6}}function Vm(l,n,s){const r=Zp[l];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function vm(l){const n=[],s=d=>{n.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=d=>{Fp(d,r,s)};for(let d=0;d<l.length;d+=1)Vm(l.charCodeAt(d),c,h);return n.join("")}function Pp(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Wp(l,n){for(let s=0;s<l.length;s+=1){let r=l.charCodeAt(s);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}Pp(r,n)}}function Fp(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let r=1;r<6;r+=1)if((l>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function vi(l){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<l.length;c+=1)Vm(l.charCodeAt(c),s,r);return new Uint8Array(n)}function e0(l){const n=[];return Wp(l,s=>n.push(s)),new Uint8Array(n)}function _n(l){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};return l.forEach(c=>gm(c,s,r)),gm(null,s,r),n.join("")}function t0(l){return Math.round(Date.now()/1e3)+l}function a0(){return Symbol("auth-callback")}const nt=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},Gm=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function n0(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,h)=>{n[h]=c})}catch{}return s.searchParams.forEach((r,c)=>{n[c]=r}),n}const $m=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),i0=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",mi=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},gn=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},at=async(l,n)=>{await l.removeItem(n)};class Is{constructor(){this.promise=new Is.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Is.promiseConstructor=Promise;function To(l){const n=l.split(".");if(n.length!==3)throw new Bo("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!$p.test(n[r]))throw new Bo("JWT not in base64url format");return{header:JSON.parse(vm(n[0])),payload:JSON.parse(vm(n[1])),signature:vi(n[2]),raw:{header:n[0],payload:n[1]}}}async function l0(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function s0(l,n){return new Promise((r,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await l(h);if(!n(h,null,d)){r(d);return}}catch(d){if(!n(h,d)){c(d);return}}})()})}function r0(l){return("0"+l.toString(16)).substr(-2)}function u0(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let c="";for(let h=0;h<56;h++)c+=s.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,r0).join("")}async function o0(l){const s=new TextEncoder().encode(l),r=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(r);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function c0(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await o0(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ui(l,n,s=!1){const r=u0();let c=r;s&&(c+="/PASSWORD_RECOVERY"),await mi(l,`${n}-code-verifier`,c);const h=await c0(r);return[h,r===h?"plain":"s256"]}const h0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f0(l){const n=l.headers.get(Mo);if(!n||!n.match(h0))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function d0(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function m0(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oi(l){if(!g0.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ao(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v0(l,n){return new Proxy(l,{get:(s,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,r,c)}})}function ym(l){return JSON.parse(JSON.stringify(l))}const vn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),y0=[502,503,504];async function pm(l){var n;if(!i0(l))throw new Lo(vn(l),0);if(y0.includes(l.status))throw new Lo(vn(l),l.status);let s;try{s=await l.json()}catch(h){throw new pn(vn(h),h)}let r;const c=f0(l);if(c&&c.getTime()>=qm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new dm(vn(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new dm(vn(s),l.status,s.weak_password.reasons);throw new Jp(vn(s),l.status||500,r)}const p0=(l,n,s,r)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),s))};async function ne(l,n,s,r){var c;const h=Object.assign({},r==null?void 0:r.headers);h[Mo]||(h[Mo]=qm["2024-01-01"].name),r!=null&&r.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const d=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await _0(l,n,s+g,{headers:h,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function _0(l,n,s,r,c,h){const d=p0(n,r,c,h);let g;try{g=await l(s,Object.assign({},d))}catch(m){throw console.error(m),new Lo(vn(m),0)}if(g.ok||await pm(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(m){await pm(m)}}function Jt(l){var n;let s=null;w0(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=t0(l.expires_in)));const r=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:r},error:null}}function _m(l){const n=Jt(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(n.data.weak_password=l.weak_password),n}function Ya(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function b0(l){return{data:l,error:null}}function S0(l){const{action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:h}=l,d=Js(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:h},m=Object.assign({},d);return{data:{properties:g,user:m},error:null}}function bm(l){return l}function w0(l){return l.access_token&&l.refresh_token&&l.expires_in}const Oo=["global","local","others"];class E0{constructor({url:n="",headers:s={},fetch:r}){this.url=n,this.headers=s,this.fetch=$m(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Oo[0]){if(Oo.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oo.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ya})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:s}=n,r=Js(n,["options"]),c=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:S0,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(W(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ya})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,r,c,h,d,g,m;try{const v={nextPage:null,lastPage:0,total:0},_=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:bm});if(_.error)throw _.error;const b=await _.json(),T=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(m=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return C.length>0&&(C.forEach(O=>{const D=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(O.split(";")[1].split("=")[1]);v[`${H}Page`]=D}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(W(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){oi(n);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ya})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){oi(n);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Ya})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,s=!1){oi(n);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ya})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){oi(n.userId);try{const{data:s,error:r}=await ne(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:r}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteFactor(n){oi(n.userId),oi(n.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,r,c,h,d,g,m;try{const v={nextPage:null,lastPage:0,total:0},_=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:bm});if(_.error)throw _.error;const b=await _.json(),T=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(m=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return C.length>0&&(C.forEach(O=>{const D=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(O.split(";")[1].split("=")[1]);v[`${H}Page`]=D}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(W(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}}function Sm(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const ci={debug:!!(globalThis&&Gm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Km extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class T0 extends Km{}async function A0(l,n,s){ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),ci.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(n===0)throw ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new T0(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ci.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function O0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jm(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function R0(l){return parseInt(l,16)}function j0(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function C0(l){var n;const{chainId:s,domain:r,expirationTime:c,issuedAt:h=new Date,nonce:d,notBefore:g,requestId:m,resources:v,scheme:_,uri:b,version:T}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const C=Jm(l.address),O=_?`${_}://${r}`:r,D=l.statement?`${l.statement}
`:"",H=`${O} wants you to sign in with your Ethereum account:
${C}

${D}`;let V=`URI: ${b}
Version: ${T}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(c&&(V+=`
Expiration Time: ${c.toISOString()}`),g&&(V+=`
Not Before: ${g.toISOString()}`),m&&(V+=`
Request ID: ${m}`),v){let q=`
Resources:`;for(const G of v){if(!G||typeof G!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${G}`);q+=`
- ${G}`}V+=q}return`${H}
${V}`}class Ye extends Error{constructor({message:n,code:s,cause:r,name:c}){var h;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=c??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class $s extends Ye{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function N0({error:l,options:n}){var s,r,c;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Ye({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const d=window.location.hostname;if(Ym(d)){if(h.rp.id!==d)return new Ye({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function x0({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Ye({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const r=window.location.hostname;if(Ym(r)){if(s.rpId!==r)return new Ye({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class D0{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const U0=new D0;function k0(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:r}=l,c=Js(l,["challenge","user","excludeCredentials"]),h=vi(n).buffer,d=Object.assign(Object.assign({},s),{id:vi(s.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:h,user:d});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const v=r[m];g.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:vi(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function z0(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,r=Js(l,["challenge","allowCredentials"]),c=vi(n).buffer,h=Object.assign(Object.assign({},r),{challenge:c});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const g=s[d];h.allowCredentials[d]=Object.assign(Object.assign({},g),{id:vi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function M0(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:_n(new Uint8Array(l.response.attestationObject)),clientDataJSON:_n(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function L0(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,r=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:_n(new Uint8Array(c.authenticatorData)),clientDataJSON:_n(new Uint8Array(c.clientDataJSON)),signature:_n(new Uint8Array(c.signature)),userHandle:c.userHandle?_n(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Ym(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function wm(){var l,n;return!!(nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function B0(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new $s("Browser returned unexpected credential type",n)}:{data:null,error:new $s("Empty credential response",n)}}catch(n){return{data:null,error:N0({error:n,options:l})}}}async function H0(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new $s("Browser returned unexpected credential type",n)}:{data:null,error:new $s("Empty credential response",n)}}catch(n){return{data:null,error:x0({error:n,options:l})}}}const q0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},V0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ks(...l){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of l)if(c)for(const h in c){const d=c[h];if(d!==void 0)if(Array.isArray(d))r[h]=d;else if(s(d))r[h]=d;else if(n(d)){const g=r[h];n(g)?r[h]=Ks(g,d):r[h]=Ks(d)}else r[h]=d}return r}function G0(l,n){return Ks(q0,l,n||{})}function $0(l,n){return Ks(V0,l,n||{})}class K0{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:r,signal:c},h){try{const{data:d,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!d)return{data:null,error:g};const m=c??U0.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:v}=d.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${r}`),v.displayName||(v.displayName=v.name)}switch(d.webauthn.type){case"create":{const v=G0(d.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:_,error:b}=await B0({publicKey:v,signal:m});return _?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const v=$0(d.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:_,error:b}=await H0(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:v,signal:m}));return _?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new pn("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new yl("rpId is required for WebAuthn authentication")};try{if(!wm())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:r},signal:c},{request:h});if(!d)return{data:null,error:g};const{webauthn:m}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:r,credential_response:m.credential_response}})}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new pn("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new yl("rpId is required for WebAuthn registration")};try{if(!wm())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(_=>{var b;return(b=_.data)===null||b===void 0?void 0:b.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===n&&T.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:g};const{data:m,error:v}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:c},{create:h});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new pn("Unexpected error in register",d)}}}}O0();const J0={url:qp,storageKey:Vp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Em(l,n,s){return await s()}const hi={};class pl{get jwks(){var n,s;return(s=(n=hi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=hi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{cachedAt:n})}constructor(n){var s,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},J0),n);if(this.storageKey=h.storageKey,this.instanceID=(s=pl.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,pl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&nt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new E0({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=$m(h.fetch),this.lock=h.lock||Em,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=A0:this.lock=Em,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new K0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Gm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Sm(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},r="none";if(nt()&&(s=n0(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),nt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:h}=await this._getSessionFromURL(s,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Xp(h)){const m=(n=h.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:d,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return W(s)?this._returnResult({error:s}):this._returnResult({error:new pn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,r,c;try{const h=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:Jt}),{data:d,error:g}=h;if(g||!d)return this._returnResult({data:{user:null,session:null},error:g});const m=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(h){if(W(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var s,r,c;try{let h;if("email"in n){const{email:_,password:b,options:T}=n;let C=null,O=null;this.flowType==="pkce"&&([C,O]=await ui(this.storage,this.storageKey)),h=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:_,password:b,data:(s=T==null?void 0:T.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:C,code_challenge_method:O},xform:Jt})}else if("phone"in n){const{phone:_,password:b,options:T}=n;h=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(r=T==null?void 0:T.data)!==null&&r!==void 0?r:{},channel:(c=T==null?void 0:T.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:Jt})}else throw new qs("You must provide either an email or phone number and a password");const{data:d,error:g}=h;if(g||!d)return await at(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(h){if(await at(this.storage,`${this.storageKey}-code-verifier`),W(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let s;if("email"in n){const{email:h,password:d,options:g}=n;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_m})}else if("phone"in n){const{phone:h,password:d,options:g}=n;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_m})}else throw new qs("You must provide either an email or phone number and a password");const{data:r,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const h=new ri;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,r,c,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,r,c,h,d,g,m,v,_,b,T;let C,O;if("message"in n)C=n.message,O=n.signature;else{const{chain:D,wallet:H,statement:V,options:q}=n;let G;if(nt())if(typeof H=="object")G=H;else{const ze=window;if("ethereum"in ze&&typeof ze.ethereum=="object"&&"request"in ze.ethereum&&typeof ze.ethereum.request=="function")G=ze.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=H}const P=new URL((s=q==null?void 0:q.url)!==null&&s!==void 0?s:window.location.href),ve=await G.request({method:"eth_requestAccounts"}).then(ze=>ze).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ve||ve.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=Jm(ve[0]);let X=(r=q==null?void 0:q.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!X){const ze=await G.request({method:"eth_chainId"});X=R0(ze)}const Ne={domain:P.host,address:ee,statement:V,uri:P.href,version:"1",chainId:X,nonce:(c=q==null?void 0:q.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(h=q==null?void 0:q.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(g=q==null?void 0:q.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=q==null?void 0:q.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=q==null?void 0:q.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(_=q==null?void 0:q.signInWithEthereum)===null||_===void 0?void 0:_.resources};C=C0(Ne),O=await G.request({method:"personal_sign",params:[j0(C),ee]})}try{const{data:D,error:H}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:O},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Jt});if(H)throw H;if(!D||!D.session||!D.user){const V=new ri;return this._returnResult({data:{user:null,session:null},error:V})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:H})}catch(D){if(W(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(n){var s,r,c,h,d,g,m,v,_,b,T,C;let O,D;if("message"in n)O=n.message,D=n.signature;else{const{chain:H,wallet:V,statement:q,options:G}=n;let P;if(nt())if(typeof V=="object")P=V;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))P=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=V}const ve=new URL((s=G==null?void 0:G.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in P&&P.signIn){const ee=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G==null?void 0:G.signInWithSolana),{version:"1",domain:ve.host,uri:ve.href}),q?{statement:q}:null));let X;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")X=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)X=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)O=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),D=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${ve.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${ve.href}`,`Issued At: ${(c=(r=G==null?void 0:G.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=G==null?void 0:G.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((d=G==null?void 0:G.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((g=G==null?void 0:G.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((m=G==null?void 0:G.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((v=G==null?void 0:G.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((b=(_=G==null?void 0:G.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...G.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const ee=await P.signMessage(new TextEncoder().encode(O),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=ee}}try{const{data:H,error:V}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:_n(D)},!((T=n.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(C=n.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Jt});if(V)throw V;if(!H||!H.session||!H.user){const q=new ri;return this._returnResult({data:{user:null,session:null},error:q})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:V})}catch(H){if(W(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(n){const s=await gn(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Qp;const{data:h,error:d}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Jt});if(await at(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const g=new ri;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:d})}catch(h){if(await at(this.storage,`${this.storageKey}-code-verifier`),W(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:s,provider:r,token:c,access_token:h,nonce:d}=n,g=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Jt}),{data:m,error:v}=g;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const _=new ri;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,r,c,h,d;try{if("email"in n){const{email:g,options:m}=n;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await ui(this.storage,this.storageKey));const{error:b}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:_},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:g,options:m}=n,{data:v,error:_}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=m==null?void 0:m.data)!==null&&c!==void 0?c:{},create_user:(h=m==null?void 0:m.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:_})}throw new qs("You must provide either an email or phone number.")}catch(g){if(await at(this.storage,`${this.storageKey}-code-verifier`),W(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var s,r;try{let c,h;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,h=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:g}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Jt});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,v=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var s,r,c,h,d;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await ui(this.storage,this.storageKey));const v=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:b0});return!((h=v.data)===null||h===void 0)&&h.url&&nt()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(g){if(await at(this.storage,`${this.storageKey}-code-verifier`),W(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)throw r;if(!s)throw new At;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:h}=n,{error:d}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:r,type:c,options:h}=n,{data:d,error:g}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:g})}throw new qs("You must provide either an email or phone number and a type")}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<wo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const d=await gn(this.userStorage,this.storageKey+"-user");d!=null&&d.user?n.user=d.user:n.user=Ao()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=v0(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ya}):await this._useSession(async s=>{var r,c,h;const{data:d,error:g}=s;if(g)throw g;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:Ya})})}catch(s){if(W(s))return Ip(s)&&(await this._removeSession(),await at(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async r=>{const{data:c,error:h}=r;if(h)throw h;if(!c.session)throw new At;const d=c.session;let g=null,m=null;this.flowType==="pkce"&&n.email!=null&&([g,m]=await ui(this.storage,this.storageKey));const{data:v,error:_}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:m}),jwt:d.access_token,xform:Ya});if(_)throw _;return d.user=v.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(r){if(await at(this.storage,`${this.storageKey}-code-verifier`),W(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new At;const s=Date.now()/1e3;let r=s,c=!0,h=null;const{payload:d}=To(n.access_token);if(d.exp&&(r=d.exp,c=r<=s),c){const{data:g,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:m}=await this._getUser(n.access_token);if(m)throw m;h={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(W(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var r;if(!n){const{data:d,error:g}=s;if(g)throw g;n=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new At;const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!nt())throw new Vs("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Vs(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new fm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new fm("No code detected.");const{data:q,error:G}=await this._exchangeCodeForSession(n.code);if(G)throw G;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:h,refresh_token:d,expires_in:g,expires_at:m,token_type:v}=n;if(!h||!g||!d||!v)throw new Vs("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(g);let T=_+b;m&&(T=parseInt(m));const C=T-_;C*1e3<=di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${b}s`);const O=T-b;_-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,T,_):_-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,T,_);const{data:D,error:H}=await this._getUser(h);if(H)throw H;const V={provider_token:r,provider_refresh_token:c,access_token:h,expires_in:b,expires_at:T,refresh_token:d,token_type:v,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:n.type},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:c,error:h}=s;if(h)return this._returnResult({error:h});const d=(r=c.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:g}=await this.admin.signOut(d,n);if(g&&!(Yp(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await at(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=a0(),r={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async s=>{var r,c;try{const{data:{session:h},error:d}=s;if(d)throw d;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,s={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ui(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await at(this.storage,`${this.storageKey}-code-verifier`),W(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:r,error:c}=await this._useSession(async h=>{var d,g,m,v,_;const{data:b,error:T}=h;if(T)throw T;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",C,{headers:this.headers,jwt:(_=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return nt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(W(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var r;try{const{error:c,data:{session:h}}=s;if(c)throw c;const{options:d,provider:g,token:m,access_token:v,nonce:_}=n,b=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h==null?void 0:h.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:m,access_token:v,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Jt}),{data:T,error:C}=b;return C?this._returnResult({data:{user:null,session:null},error:C}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new ri}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:C}))}catch(c){if(await at(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var r,c;const{data:h,error:d}=s;if(d)throw d;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await s0(async c=>(c>0&&await l0(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Jt})),(c,h)=>{const d=200*Math.pow(2,c);return h&&Eo(h)&&Date.now()+d-r<di})}catch(r){if(this._debug(s,"error",r),W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",r),nt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await gn(this.storage,this.storageKey);if(c&&this.userStorage){let d=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await mi(this.userStorage,this.storageKey+"-user",d)),c.user=(n=d==null?void 0:d.user)!==null&&n!==void 0?n:Ao()}else if(c&&!c.user&&!c.user){const d=await gn(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(c.user=d.user,await at(this.storage,this.storageKey+"-user"),await mi(this.storage,this.storageKey,c)):c.user=Ao()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const h=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<wo;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${wo}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),Eo(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(c.access_token);!g&&(d!=null&&d.user)?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var s,r;if(!n)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Is;const{data:h,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!h.session)throw new At;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(c,"error",h),W(h)){const d={data:null,error:h};return Eo(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:s});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,s)}catch(m){h.push(m)}});if(await Promise.all(d),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await at(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await mi(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const h=ym(c);await mi(this.storage,this.storageKey,h)}else{const c=ym(s);await mi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await at(this.storage,this.storageKey),await at(this.storage,this.storageKey+"-code-verifier"),await at(this.storage,this.storageKey+"-user"),this.userStorage&&await at(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),di);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${di}ms, refresh threshold is ${zo} ticks`),c<=zo&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Km)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,r){const c=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,d]=await ui(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(g.toString())}if(r!=null&&r.queryParams){const h=new URLSearchParams(r.queryParams);c.push(h.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var r;const{data:c,error:h}=s;return h?this._returnResult({data:null,error:h}):await ne(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var r,c;const{data:h,error:d}=s;if(d)return this._returnResult({data:null,error:d});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:v}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=h==null?void 0:h.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(n.factorType==="totp"&&m.type==="totp"&&(!((c=m==null?void 0:m.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?M0(n.webauthn.credential_response):L0(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:m}=await ne(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const d=await ne(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:g}=d;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:k0(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:z0(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:r},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=To(r.access_token);let d=null;h.aal&&(d=h.aal);let g=d;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const v=h.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new At})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new At});const d=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&nt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new At});const d=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&nt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new At})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new At})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let r=s.keys.find(g=>g.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===n),r&&this.jwks_cached_at+Kp>c)return r;const{data:h,error:d}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,r=h.keys.find(g=>g.kid===n),!r)?null:r}async getClaims(n,s={}){try{let r=n;if(!r){const{data:C,error:O}=await this.getSession();if(O||!C.session)return this._returnResult({data:null,error:O});r=C.session.access_token}const{header:c,payload:h,signature:d,raw:{header:g,payload:m}}=To(r);s!=null&&s.allowExpired||d0(h.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:h,header:c,signature:d},error:null}}const _=m0(c.alg),b=await crypto.subtle.importKey("jwk",v,_,!0,["verify"]);if(!await crypto.subtle.verify(_,b,d,e0(`${g}.${m}`)))throw new Bo("Invalid JWT signature");return{data:{claims:h,header:c,signature:d},error:null}}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}}pl.nextInstanceID={};const Y0=pl,I0="2.90.1";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const X0={"X-Client-Info":`supabase-js-${hl}/${I0}`},Q0={headers:X0},Z0={schema:"public"},P0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},W0={};function _l(l){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_l(l)}function F0(l,n){if(_l(l)!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var r=s.call(l,n);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function e_(l){var n=F0(l,"string");return _l(n)=="symbol"?n:n+""}function t_(l,n,s){return(n=e_(n))in l?Object.defineProperty(l,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[n]=s,l}function Tm(l,n){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),s.push.apply(s,r)}return s}function He(l){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Tm(Object(s),!0).forEach(function(r){t_(l,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):Tm(Object(s)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(s,r))})}return l}const a_=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),n_=()=>Headers,i_=(l,n,s)=>{const r=a_(s),c=n_();return async(h,d)=>{var g;const m=(g=await n())!==null&&g!==void 0?g:l;let v=new c(d==null?void 0:d.headers);return v.has("apikey")||v.set("apikey",l),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),r(h,He(He({},d),{},{headers:v}))}};function l_(l){return l.endsWith("/")?l:l+"/"}function s_(l,n){var s,r;const{db:c,auth:h,realtime:d,global:g}=l,{db:m,auth:v,realtime:_,global:b}=n,T={db:He(He({},m),c),auth:He(He({},v),h),realtime:He(He({},_),d),storage:{},global:He(He(He({},b),g),{},{headers:He(He({},(s=b==null?void 0:b.headers)!==null&&s!==void 0?s:{}),(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return l.accessToken?T.accessToken=l.accessToken:delete T.accessToken,T}function r_(l){const n=l==null?void 0:l.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l_(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var u_=class extends Y0{constructor(l){super(l)}},o_=class{constructor(l,n,s){var r,c;this.supabaseUrl=l,this.supabaseKey=n;const h=r_(l);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:Z0,realtime:W0,auth:He(He({},P0),{},{storageKey:d}),global:Q0},m=s_(s??{},g);if(this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(_,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=i_(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(He({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Gy(new URL("rest/v1",h).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Hp(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Ly(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,n,s)}channel(l,n={config:{}}){return this.realtime.channel(l,n)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,n,s;if(l.accessToken)return await l.accessToken();const{data:r}=await l.auth.getSession();return(n=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,storageKey:h,flowType:d,lock:g,debug:m,throwOnError:v},_,b){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u_({url:this.authUrl.href,headers:He(He({},T),_),storageKey:h,autoRefreshToken:l,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,flowType:d,lock:g,debug:m,throwOnError:v,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new lp(this.realtimeUrl.href,He(He({},l),{},{params:He(He({},{apikey:this.supabaseKey}),l==null?void 0:l.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,n)=>{this._handleTokenChanged(l,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(l,n,s){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const c_=(l,n,s)=>new o_(l,n,s);function h_(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const n=l.version;if(n==null)return!1;const s=n.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}h_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f_="https://twabtzaafjpvjigoiywg.supabase.co",d_="sb_publishable_wyKhYGjv_sS2Zebnzx9sfw_m4IgBDah",bn=c_(f_,d_),Im="gegraptai-annotations";function m_(){try{const l=localStorage.getItem(Im);if(l)return JSON.parse(l)}catch(l){console.error("Failed to load local annotations:",l)}return{}}function Am(l){try{localStorage.setItem(Im,JSON.stringify(l))}catch(n){console.error("Failed to save local annotations:",n)}}function g_(l){const[n,s]=Q.useState({}),[r,c]=Q.useState(!1),[h,d]=Q.useState(!1);Q.useEffect(()=>{if(!l){const D=m_();s(D),c(!1);return}async function O(){c(!0);try{const{data:D,error:H}=await bn.from("annotations").select("*").eq("user_id",l.id);if(H)throw H;if(D){const V={};D.forEach(q=>{V[q.word_id]={wordId:q.word_id,morphTag:q.morph_tag||"",exegeticalNote:q.exegetical_note||"",highlightColor:q.highlight_color||"",updatedAt:new Date(q.updated_at).getTime()}}),s(V)}}catch(D){console.error("Failed to load annotations from Supabase:",D)}finally{c(!1)}}O()},[l]);const g=Q.useCallback(O=>n[O],[n]),m=Q.useCallback(async(O,D)=>{const H=Date.now(),q={...n[O]||{wordId:O,morphTag:"",exegeticalNote:"",highlightColor:""},...D,updatedAt:H},G={...n,[O]:q};if(s(G),!l){Am(G);return}d(!0);try{const{error:P}=await bn.from("annotations").upsert({user_id:l.id,word_id:O,morph_tag:q.morphTag,exegetical_note:q.exegeticalNote,highlight_color:q.highlightColor,updated_at:new Date(H).toISOString()},{onConflict:"user_id,word_id"});if(P)throw P}catch(P){console.error("Supabase sync error:",P)}finally{d(!1)}},[n,l]),v=Q.useCallback((O,D)=>{m(O,{morphTag:D})},[m]),_=Q.useCallback((O,D)=>{m(O,{exegeticalNote:D})},[m]),b=Q.useCallback((O,D)=>{m(O,{highlightColor:D})},[m]),T=Q.useCallback(()=>{const O=JSON.stringify(n,null,2),D=new Blob([O],{type:"application/json"}),H=URL.createObjectURL(D),V=document.createElement("a");V.href=H,V.download=`gegraptai_annotations_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(H)},[n]),C=Q.useCallback(O=>new Promise((D,H)=>{const V=new FileReader;V.onload=q=>{var G;try{const P=(G=q.target)==null?void 0:G.result,ve=JSON.parse(P);if(typeof ve!="object")throw new Error("Invalid JSON format");const ee={...n,...ve};s(ee),l||Am(ee),D()}catch(P){H(P)}},V.onerror=()=>H(new Error("Failed to read file")),V.readAsText(O)}),[n,l]);return{annotations:n,isLoading:r,isSyncing:h,getAnnotation:g,updateMorphTag:v,updateNote:_,updateColor:b,exportAnnotations:T,importAnnotations:C}}function v_(){const[l,n]=Q.useState(null),[s,r]=Q.useState(!1);Q.useEffect(()=>{bn.auth.getSession().then(({data:{session:g}})=>{var m;g!=null&&g.user&&n({id:g.user.id,email:g.user.email||"",full_name:(m=g.user.user_metadata)==null?void 0:m.full_name}),r(!0)});const{data:{subscription:d}}=bn.auth.onAuthStateChange((g,m)=>{var v;m!=null&&m.user?n({id:m.user.id,email:m.user.email||"",full_name:(v=m.user.user_metadata)==null?void 0:v.full_name}):n(null)});return()=>{d.unsubscribe()}},[]);const c=Q.useCallback(async()=>{console.log("[Gegraptai Auth] login trigger")},[]),h=Q.useCallback(async()=>{await bn.auth.signOut()},[]);return{user:l,isInit:s,login:c,logout:h,isAuthenticated:!!l}}const Om="bible-study-settings",Rm={theme:"system",fontSizeHebrew:28,fontSizeGreek:28,fontFamilyHebrew:"SBL Hebrew",fontFamilyGreek:"SBL Greek",lineHeight:1.6,showMorphUnderWords:!0,showHighlights:!0};function y_(){const[l,n]=Q.useState(Rm);Q.useEffect(()=>{try{const v=localStorage.getItem(Om);v&&n({...Rm,...JSON.parse(v)})}catch(v){console.error("Failed to load settings:",v)}},[]),Q.useEffect(()=>{try{localStorage.setItem(Om,JSON.stringify(l))}catch(v){console.error("Failed to save settings:",v)}},[l]),Q.useEffect(()=>{const v=()=>{const{theme:T}=l;let C="light";T==="system"?C=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":C=T,document.documentElement.setAttribute("data-theme",C)};v();const _=window.matchMedia("(prefers-color-scheme: dark)"),b=()=>{l.theme==="system"&&v()};return _.addEventListener("change",b),()=>_.removeEventListener("change",b)},[l.theme]);const s=Q.useCallback((v,_)=>{n(b=>({...b,[v]:_}))},[]),r=Q.useCallback(v=>{s("theme",v)},[s]),c=Q.useCallback(v=>{s("fontSizeHebrew",v)},[s]),h=Q.useCallback(v=>{s("fontSizeGreek",v)},[s]),d=Q.useCallback(v=>{s("fontFamilyHebrew",v)},[s]),g=Q.useCallback(v=>{s("fontFamilyGreek",v)},[s]),m=Q.useCallback(v=>{s("lineHeight",v)},[s]);return Q.useEffect(()=>{document.documentElement.style.setProperty("--font-family-hebrew",`"${l.fontFamilyHebrew}", "SBL Hebrew", "Noto Serif Hebrew", "Ezra SIL", serif`),document.documentElement.style.setProperty("--font-family-greek",`"${l.fontFamilyGreek}", "SBL Greek", "Noto Serif", "Gentium", serif`),document.documentElement.style.setProperty("--line-height",l.lineHeight.toString())},[l.fontFamilyHebrew,l.fontFamilyGreek,l.lineHeight]),{settings:l,setTheme:r,setFontSizeHebrew:c,setFontSizeGreek:h,setFontFamilyHebrew:d,setFontFamilyGreek:g,setLineHeight:m,updateSetting:s}}const Xm=[{id:"GEN",name:"Genesis",abbrev:"Gen",lang:"hebrew",testament:"OT"},{id:"EXO",name:"Exodus",abbrev:"Exod",lang:"hebrew",testament:"OT"},{id:"LEV",name:"Leviticus",abbrev:"Lev",lang:"hebrew",testament:"OT"},{id:"NUM",name:"Numbers",abbrev:"Num",lang:"hebrew",testament:"OT"},{id:"DEU",name:"Deuteronomy",abbrev:"Deut",lang:"hebrew",testament:"OT"},{id:"JOS",name:"Joshua",abbrev:"Josh",lang:"hebrew",testament:"OT"},{id:"JDG",name:"Judges",abbrev:"Judg",lang:"hebrew",testament:"OT"},{id:"RUT",name:"Ruth",abbrev:"Ruth",lang:"hebrew",testament:"OT"},{id:"1SA",name:"1 Samuel",abbrev:"1Sam",lang:"hebrew",testament:"OT"},{id:"2SA",name:"2 Samuel",abbrev:"2Sam",lang:"hebrew",testament:"OT"},{id:"1KI",name:"1 Kings",abbrev:"1Kgs",lang:"hebrew",testament:"OT"},{id:"2KI",name:"2 Kings",abbrev:"2Kgs",lang:"hebrew",testament:"OT"},{id:"1CH",name:"1 Chronicles",abbrev:"1Chr",lang:"hebrew",testament:"OT"},{id:"2CH",name:"2 Chronicles",abbrev:"2Chr",lang:"hebrew",testament:"OT"},{id:"EZR",name:"Ezra",abbrev:"Ezra",lang:"hebrew",testament:"OT"},{id:"NEH",name:"Nehemiah",abbrev:"Neh",lang:"hebrew",testament:"OT"},{id:"EST",name:"Esther",abbrev:"Esth",lang:"hebrew",testament:"OT"},{id:"PSA",name:"Psalms",abbrev:"Ps",lang:"hebrew",testament:"OT"},{id:"PRO",name:"Proverbs",abbrev:"Prov",lang:"hebrew",testament:"OT"},{id:"ECC",name:"Ecclesiastes",abbrev:"Eccl",lang:"hebrew",testament:"OT"},{id:"SNG",name:"Song of Songs",abbrev:"Song",lang:"hebrew",testament:"OT"},{id:"JOB",name:"Job",abbrev:"Job",lang:"hebrew",testament:"OT"},{id:"ISA",name:"Isaiah",abbrev:"Isa",lang:"hebrew",testament:"OT"},{id:"JER",name:"Jeremiah",abbrev:"Jer",lang:"hebrew",testament:"OT"},{id:"LAM",name:"Lamentations",abbrev:"Lam",lang:"hebrew",testament:"OT"},{id:"EZK",name:"Ezekiel",abbrev:"Ezek",lang:"hebrew",testament:"OT"},{id:"DAN",name:"Daniel",abbrev:"Dan",lang:"aramaic",testament:"OT"},{id:"HOS",name:"Hosea",abbrev:"Hos",lang:"hebrew",testament:"OT"},{id:"JOL",name:"Joel",abbrev:"Joel",lang:"hebrew",testament:"OT"},{id:"AMO",name:"Amos",abbrev:"Amos",lang:"hebrew",testament:"OT"},{id:"OBA",name:"Obadiah",abbrev:"Obad",lang:"hebrew",testament:"OT"},{id:"JON",name:"Jonah",abbrev:"Jona",lang:"hebrew",testament:"OT"},{id:"MIC",name:"Micah",abbrev:"Mic",lang:"hebrew",testament:"OT"},{id:"NAM",name:"Nahum",abbrev:"Nah",lang:"hebrew",testament:"OT"},{id:"HAB",name:"Habakkuk",abbrev:"Hab",lang:"hebrew",testament:"OT"},{id:"ZEP",name:"Zephaniah",abbrev:"Zeph",lang:"hebrew",testament:"OT"},{id:"HAG",name:"Haggai",abbrev:"Hag",lang:"hebrew",testament:"OT"},{id:"ZEC",name:"Zechariah",abbrev:"Zech",lang:"hebrew",testament:"OT"},{id:"MAL",name:"Malachi",abbrev:"Mal",lang:"hebrew",testament:"OT"},{id:"MAT",name:"Matthew",abbrev:"Matt",lang:"greek",testament:"NT"},{id:"MRK",name:"Mark",abbrev:"Mark",lang:"greek",testament:"NT"},{id:"LUK",name:"Luke",abbrev:"Luke",lang:"greek",testament:"NT"},{id:"JHN",name:"John",abbrev:"John",lang:"greek",testament:"NT"},{id:"ACT",name:"Acts",abbrev:"Acts",lang:"greek",testament:"NT"},{id:"ROM",name:"Romans",abbrev:"Rom",lang:"greek",testament:"NT"},{id:"1CO",name:"1 Corinthians",abbrev:"1Cor",lang:"greek",testament:"NT"},{id:"2CO",name:"2 Corinthians",abbrev:"2Cor",lang:"greek",testament:"NT"},{id:"GAL",name:"Galatians",abbrev:"Gal",lang:"greek",testament:"NT"},{id:"EPH",name:"Ephesians",abbrev:"Eph",lang:"greek",testament:"NT"},{id:"PHP",name:"Philippians",abbrev:"Phil",lang:"greek",testament:"NT"},{id:"COL",name:"Colossians",abbrev:"Col",lang:"greek",testament:"NT"},{id:"1TH",name:"1 Thessalonians",abbrev:"1Thess",lang:"greek",testament:"NT"},{id:"2TH",name:"2 Thessalonians",abbrev:"2Thess",lang:"greek",testament:"NT"},{id:"1TI",name:"1 Timothy",abbrev:"1Tim",lang:"greek",testament:"NT"},{id:"2TI",name:"2 Timothy",abbrev:"2Tim",lang:"greek",testament:"NT"},{id:"TIT",name:"Titus",abbrev:"Titus",lang:"greek",testament:"NT"},{id:"PHM",name:"Philemon",abbrev:"Phlm",lang:"greek",testament:"NT"},{id:"HEB",name:"Hebrews",abbrev:"Heb",lang:"greek",testament:"NT"},{id:"JAS",name:"James",abbrev:"Jas",lang:"greek",testament:"NT"},{id:"1PE",name:"1 Peter",abbrev:"1Pet",lang:"greek",testament:"NT"},{id:"2PE",name:"2 Peter",abbrev:"2Pet",lang:"greek",testament:"NT"},{id:"1JN",name:"1 John",abbrev:"1John",lang:"greek",testament:"NT"},{id:"2JN",name:"2 John",abbrev:"2John",lang:"greek",testament:"NT"},{id:"3JN",name:"3 John",abbrev:"3John",lang:"greek",testament:"NT"},{id:"JUD",name:"Jude",abbrev:"Jude",lang:"greek",testament:"NT"},{id:"REV",name:"Revelation",abbrev:"Rev",lang:"greek",testament:"NT"}],p_=new Map(Xm.map(l=>[l.id,l])),B=new Map;Xm.forEach(l=>{const n=l.name.toLowerCase(),s=l.abbrev.toLowerCase();B.set(n,l),B.set(s,l),B.set(s.replace(/\.$/,""),l),l.id==="GEN"&&(B.set("gn",l),B.set("genesis",l)),l.id==="EXO"&&(B.set("ex",l),B.set("exod",l)),l.id==="LEV"&&B.set("lv",l),l.id==="NUM"&&(B.set("nm",l),B.set("nu",l)),l.id==="DEU"&&(B.set("dt",l),B.set("deu",l)),l.id==="JOS"&&B.set("josh",l),l.id==="JDG"&&(B.set("judg",l),B.set("jgs",l)),l.id==="RUT"&&B.set("rth",l),l.id==="PRO"&&B.set("pro",l),l.id==="1SA"&&(B.set("1sa",l),B.set("1sm",l),B.set("1sam",l),B.set("1 sam",l),B.set("1 samuel",l)),l.id==="2SA"&&(B.set("2sa",l),B.set("2sm",l),B.set("2sam",l),B.set("2 sam",l),B.set("2 samuel",l)),l.id==="1KI"&&(B.set("1ki",l),B.set("1kgs",l),B.set("1 kgs",l),B.set("1 kings",l)),l.id==="2KI"&&(B.set("2ki",l),B.set("2kgs",l),B.set("2 kgs",l),B.set("2 kings",l)),l.id==="1CH"&&(B.set("1ch",l),B.set("1chr",l),B.set("1 chr",l),B.set("1 chronicles",l)),l.id==="2CH"&&(B.set("2ch",l),B.set("2chr",l),B.set("2 chr",l),B.set("2 chronicles",l)),l.id==="EZR"&&(B.set("ezr",l),B.set("ezra",l)),l.id==="NEH"&&(B.set("neh",l),B.set("nehemiah",l)),l.id==="EZK"&&B.set("ezk",l),l.id==="EST"&&(B.set("est",l),B.set("esth",l),B.set("esther",l)),l.id==="PSA"&&(B.set("ps",l),B.set("psa",l),B.set("psalm",l),B.set("pss",l)),l.id==="JOB"&&(B.set("jb",l),B.set("job",l)),l.id==="ECC"&&B.set("ecc",l),l.id==="AMO"&&B.set("ams",l),l.id==="SNG"&&(B.set("song",l),B.set("cant",l),B.set("sos",l),B.set("sgs",l)),l.id==="MAT"&&(B.set("mt",l),B.set("matt",l),B.set("matthew",l)),l.id==="MRK"&&(B.set("mk",l),B.set("mrk",l)),l.id==="LUK"&&(B.set("lk",l),B.set("luk",l)),l.id==="JHN"&&(B.set("jn",l),B.set("jhn",l)),l.id==="ACT"&&(B.set("ac",l),B.set("act",l)),l.id==="ROM"&&(B.set("rm",l),B.set("romans",l)),l.id==="1CO"&&(B.set("1co",l),B.set("1cor",l),B.set("1 cor",l)),l.id==="2CO"&&(B.set("2co",l),B.set("2cor",l),B.set("2 cor",l)),l.id==="PHP"&&(B.set("phil",l),B.set("php",l)),l.id==="PHM"&&(B.set("phlm",l),B.set("philem",l)),l.id==="1TH"&&(B.set("1th",l),B.set("1thess",l)),l.id==="2TH"&&(B.set("2th",l),B.set("2thess",l)),l.id==="1TI"&&(B.set("1ti",l),B.set("1tim",l)),l.id==="2TI"&&(B.set("2ti",l),B.set("2tim",l)),l.id==="1PE"&&(B.set("1pe",l),B.set("1pet",l)),l.id==="2PE"&&(B.set("2pe",l),B.set("2pet",l)),l.id==="1JN"&&(B.set("1jn",l),B.set("1john",l),B.set("1 jn",l)),l.id==="2JN"&&(B.set("2jn",l),B.set("2john",l),B.set("2 jn",l)),l.id==="3JN"&&(B.set("3jn",l),B.set("3john",l),B.set("3 jn",l)),l.id==="JUD"&&B.set("jd",l)});const __=B;function b_(l){return __.get(l.toLowerCase().replace(/\.$/,""))}function S_(l){return p_.get(l)}function w_(l){const n=l.trim();if(!n)return null;const s=/^(.+?)\s*(\d+)(?:[:\.]\s*(\d+)(?:[\s-]+(\d+))?)?$/,r=n.match(s);if(!r)return null;const[,c,h,d,g]=r,m=c.trim().replace(/\.$/,""),v=b_(m);if(!v)return null;const _=parseInt(h,10);let b=1,T=null;return d?(b=parseInt(d,10),g?T=parseInt(g,10):T=b):(b=1,T=null),{bookId:v.id,chapter:_,startVerse:b,endVerse:T}}function E_(l){if(!l.trim())return[];const n=l.split(/[,;]/),s=[];let r=null,c=null,h=!1;for(const d of n){const g=d.trim();if(!g)continue;const m=w_(g);if(m){s.push(m),r=m.bookId,c=m.chapter,h=m.endVerse===null;continue}if(r){const v=/^(\d+):(\d+)(?:[\s-]+(\d+))?$/,_=g.match(v);if(_){const C=parseInt(_[1],10),O=parseInt(_[2],10),D=_[3]?parseInt(_[3],10):O;s.push({bookId:r,chapter:C,startVerse:O,endVerse:D}),c=C,h=!1;continue}const b=/^(\d+)(?:[\s-]+(\d+))?$/,T=g.match(b);if(T){const C=parseInt(T[1],10),O=T[2]?parseInt(T[2],10):null;h?(s.push({bookId:r,chapter:C,startVerse:1,endVerse:null}),c=C):c!==null&&s.push({bookId:r,chapter:c,startVerse:C,endVerse:O!==null?O:C});continue}}}return s}function T_(l,n,s){return`${l}.${n}.${s}`}function A_(l,n){return`${l}.${n}`}const O_="modulepreload",R_=function(l,n){return new URL(l,n).href},jm={},J=function(n,s,r){let c=Promise.resolve();if(s&&s.length>0){let d=function(_){return Promise.all(_.map(b=>Promise.resolve(b).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const g=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),v=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=d(s.map(_=>{if(_=R_(_,r),_ in jm)return;jm[_]=!0;const b=_.endsWith(".css"),T=b?'[rel="stylesheet"]':"";if(!!r)for(let D=g.length-1;D>=0;D--){const H=g[D];if(H.href===_&&(!b||H.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${T}`))return;const O=document.createElement("link");if(O.rel=b?"stylesheet":O_,b||(O.as="script"),O.crossOrigin="",O.href=_,v&&O.setAttribute("nonce",v),document.head.appendChild(O),b)return new Promise((D,H)=>{O.addEventListener("load",D),O.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${_}`)))})}))}function h(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return c.then(d=>{for(const g of d||[])g.status==="rejected"&&h(g.reason);return n().catch(h)})},j_=new Set(["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL"]),C_={DAN:[{startChapter:2,endChapter:7}],EZR:[{startChapter:4,endChapter:7}]},N_=Object.assign({"./books/1CH.json":()=>J(()=>import("./1CH-3AkMaWEs.js"),[],import.meta.url),"./books/1CO.json":()=>J(()=>import("./1CO-B843udlg.js"),[],import.meta.url),"./books/1JN.json":()=>J(()=>import("./1JN-B-EzsbqO.js"),[],import.meta.url),"./books/1KI.json":()=>J(()=>import("./1KI-CK8LbQ_O.js"),[],import.meta.url),"./books/1PE.json":()=>J(()=>import("./1PE-CiU1Jc0T.js"),[],import.meta.url),"./books/1SA.json":()=>J(()=>import("./1SA-C13rKzQ8.js"),[],import.meta.url),"./books/1TH.json":()=>J(()=>import("./1TH-DTGBBHnE.js"),[],import.meta.url),"./books/1TI.json":()=>J(()=>import("./1TI-NrWoNByu.js"),[],import.meta.url),"./books/2CH.json":()=>J(()=>import("./2CH-DlFoOHHm.js"),[],import.meta.url),"./books/2CO.json":()=>J(()=>import("./2CO-BlOWvRbq.js"),[],import.meta.url),"./books/2JN.json":()=>J(()=>import("./2JN-DbMWZMf3.js"),[],import.meta.url),"./books/2KI.json":()=>J(()=>import("./2KI-t2kLNPTZ.js"),[],import.meta.url),"./books/2PE.json":()=>J(()=>import("./2PE-DlFuMieg.js"),[],import.meta.url),"./books/2SA.json":()=>J(()=>import("./2SA-DWfl2Enw.js"),[],import.meta.url),"./books/2TH.json":()=>J(()=>import("./2TH-CwPf3XmL.js"),[],import.meta.url),"./books/2TI.json":()=>J(()=>import("./2TI-C7mPN-KK.js"),[],import.meta.url),"./books/3JN.json":()=>J(()=>import("./3JN-OW7r_4ks.js"),[],import.meta.url),"./books/ACT.json":()=>J(()=>import("./ACT-noVU1FHM.js"),[],import.meta.url),"./books/AMO.json":()=>J(()=>import("./AMO-T-na_K_7.js"),[],import.meta.url),"./books/COL.json":()=>J(()=>import("./COL-1YewcRsT.js"),[],import.meta.url),"./books/DAN.json":()=>J(()=>import("./DAN-FFGUdqot.js"),[],import.meta.url),"./books/DEU.json":()=>J(()=>import("./DEU-B9A5sEKd.js"),[],import.meta.url),"./books/ECC.json":()=>J(()=>import("./ECC-DtzEdNOT.js"),[],import.meta.url),"./books/EPH.json":()=>J(()=>import("./EPH-B4jy24af.js"),[],import.meta.url),"./books/EST.json":()=>J(()=>import("./EST-DlIYnczr.js"),[],import.meta.url),"./books/EXO.json":()=>J(()=>import("./EXO-vNsCNUi-.js"),[],import.meta.url),"./books/EZK.json":()=>J(()=>import("./EZK-DWdYhv8f.js"),[],import.meta.url),"./books/EZR.json":()=>J(()=>import("./EZR-BFDKAfpy.js"),[],import.meta.url),"./books/GAL.json":()=>J(()=>import("./GAL-BspqUmBp.js"),[],import.meta.url),"./books/GEN.json":()=>J(()=>import("./GEN-B0BSbHxv.js"),[],import.meta.url),"./books/HAB.json":()=>J(()=>import("./HAB-C4NIedjX.js"),[],import.meta.url),"./books/HAG.json":()=>J(()=>import("./HAG-Cbor5Ts_.js"),[],import.meta.url),"./books/HEB.json":()=>J(()=>import("./HEB-CXPRHK6w.js"),[],import.meta.url),"./books/HOS.json":()=>J(()=>import("./HOS-CO1NEnpN.js"),[],import.meta.url),"./books/ISA.json":()=>J(()=>import("./ISA-ZKNk2-2L.js"),[],import.meta.url),"./books/JAS.json":()=>J(()=>import("./JAS-jhyOO6Ax.js"),[],import.meta.url),"./books/JDG.json":()=>J(()=>import("./JDG-Ci7DvRrV.js"),[],import.meta.url),"./books/JER.json":()=>J(()=>import("./JER-OVpgpGPB.js"),[],import.meta.url),"./books/JHN.json":()=>J(()=>import("./JHN-CN6ad6Te.js"),[],import.meta.url),"./books/JOB.json":()=>J(()=>import("./JOB-UhQ9XTe7.js"),[],import.meta.url),"./books/JOL.json":()=>J(()=>import("./JOL-Icqf85CY.js"),[],import.meta.url),"./books/JON.json":()=>J(()=>import("./JON-B7UzuhUA.js"),[],import.meta.url),"./books/JOS.json":()=>J(()=>import("./JOS-2R_fgCst.js"),[],import.meta.url),"./books/JUD.json":()=>J(()=>import("./JUD-DxK8bb9L.js"),[],import.meta.url),"./books/LAM.json":()=>J(()=>import("./LAM-zNEci6sW.js"),[],import.meta.url),"./books/LEV.json":()=>J(()=>import("./LEV-DZTZSDZ1.js"),[],import.meta.url),"./books/LUK.json":()=>J(()=>import("./LUK-Du2HTAnq.js"),[],import.meta.url),"./books/MAL.json":()=>J(()=>import("./MAL-rEcZQEV_.js"),[],import.meta.url),"./books/MAT.json":()=>J(()=>import("./MAT-DkN3psrx.js"),[],import.meta.url),"./books/MIC.json":()=>J(()=>import("./MIC-CyaJwRpf.js"),[],import.meta.url),"./books/MRK.json":()=>J(()=>import("./MRK-Dt_DVSXO.js"),[],import.meta.url),"./books/NAM.json":()=>J(()=>import("./NAM-BkJyrJDb.js"),[],import.meta.url),"./books/NEH.json":()=>J(()=>import("./NEH-Buk3pYg2.js"),[],import.meta.url),"./books/NUM.json":()=>J(()=>import("./NUM-Cm43q0yq.js"),[],import.meta.url),"./books/OBA.json":()=>J(()=>import("./OBA-Bqi3h7i2.js"),[],import.meta.url),"./books/PHM.json":()=>J(()=>import("./PHM-izU-hrqT.js"),[],import.meta.url),"./books/PHP.json":()=>J(()=>import("./PHP-CX96tsSu.js"),[],import.meta.url),"./books/PRO.json":()=>J(()=>import("./PRO-D5ofg-_p.js"),[],import.meta.url),"./books/PSA.json":()=>J(()=>import("./PSA-kNQw1AzW.js"),[],import.meta.url),"./books/REV.json":()=>J(()=>import("./REV-BD55lsTT.js"),[],import.meta.url),"./books/ROM.json":()=>J(()=>import("./ROM-DjyNOZgT.js"),[],import.meta.url),"./books/RUT.json":()=>J(()=>import("./RUT-XRyWkR9v.js"),[],import.meta.url),"./books/SNG.json":()=>J(()=>import("./SNG-B-vypEmR.js"),[],import.meta.url),"./books/TIT.json":()=>J(()=>import("./TIT-D9TPkRMB.js"),[],import.meta.url),"./books/ZEC.json":()=>J(()=>import("./ZEC-BHbvIqbh.js"),[],import.meta.url),"./books/ZEP.json":()=>J(()=>import("./ZEP-CKBR_xSA.js"),[],import.meta.url)});function x_(l,n){if(!j_.has(l))return"greek";const s=C_[l];if(s){for(const r of s)if(n>=r.startChapter&&n<=r.endChapter)return"aramaic"}return"hebrew"}async function Ro(l,n,s,r,c){const h=N_[`./books/${l}.json`];if(!h)return console.error(`Data for book ${l} not found`),[];try{const d=await h(),m=("default"in d?d.default:d)[n.toString()];if(!m)return[];const v=x_(l,n),_=[],b=Object.keys(m).map(T=>parseInt(T,10)).sort((T,C)=>T-C);for(const T of b){if(r!==null&&(T<s||T>r))continue;const C=m[T.toString()];if(!C||C.length===0)continue;const O=T_(l,n,T),D=C.map((H,V)=>({id:A_(O,V),verseRef:O,position:V,surfaceForm:H.t,lemma:H.l,language:v}));_.push({reference:O,chapter:n,verse:T,words:D})}return _}catch(d){return console.error(`Failed to load data for ${l}:`,d),[]}}function D_({isOpen:l,onClose:n}){const[s,r]=Q.useState(""),[c,h]=Q.useState(""),[d,g]=Q.useState(!1),[m,v]=Q.useState(null),[_,b]=Q.useState(null),[T,C]=Q.useState("login");if(!l)return null;const O=async D=>{D.preventDefault(),g(!0),v(null),b(null);try{if(T==="login"){const{error:H}=await bn.auth.signInWithPassword({email:s,password:c});if(H)throw H;n()}else{const{error:H}=await bn.auth.signUp({email:s,password:c});if(H)throw H;b("Confirmation email sent. Please check your inbox.")}}catch(H){v(H.message||"Authentication failed.")}finally{g(!1)}};return E.jsx("div",{className:"welcome-modal-overlay",onClick:n,children:E.jsxs("div",{className:"welcome-modal-box",onClick:D=>D.stopPropagation(),children:[E.jsx("button",{className:"welcome-modal-close",onClick:n,"aria-label":"Close",children:""}),E.jsx("div",{className:"welcome-modal-icon",children:""}),E.jsx("h2",{className:"welcome-modal-title",children:T==="login"?"Login":"Sign Up"}),E.jsxs("p",{className:"welcome-modal-description",children:["Save your notes to the cloud",E.jsx("br",{}),"and sync across devices."]}),E.jsxs("form",{onSubmit:O,className:"auth-form",children:[E.jsx("input",{type:"email",placeholder:"Email address",value:s,onChange:D=>r(D.target.value),required:!0,className:"auth-input"}),E.jsx("input",{type:"password",placeholder:"Password",value:c,onChange:D=>h(D.target.value),required:!0,className:"auth-input"}),m&&E.jsx("p",{className:"auth-error",children:m}),_&&E.jsx("p",{className:"auth-success",children:_}),E.jsx("button",{type:"submit",className:"welcome-modal-button primary",disabled:d,children:d?"Processing...":T==="login"?"Log In":"Sign Up"})]}),E.jsxs("div",{className:"auth-switch",children:[E.jsx("span",{className:"auth-switch-text",children:T==="login"?"Don't have an account?":"Already have an account?"}),E.jsx("button",{onClick:()=>C(T==="login"?"signup":"login"),className:"auth-switch-button",children:T==="login"?"Sign Up":"Log In"})]})]})})}function U_({isOpen:l,onClose:n,onLoginClick:s}){if(!l)return null;const r=()=>{n(),s()};return E.jsx("div",{className:"welcome-modal-overlay",onClick:n,children:E.jsxs("div",{className:"welcome-modal-box",onClick:c=>c.stopPropagation(),children:[E.jsx("button",{className:"welcome-modal-close",onClick:n,"aria-label":"Close",children:""}),E.jsx("div",{className:"welcome-modal-icon",children:""}),E.jsx("h2",{className:"welcome-modal-title",children:"Welcome to Gegraptai"}),E.jsxs("p",{className:"welcome-modal-description",children:["A web app for biblical text study.",E.jsx("br",{}),"All features available without login."]}),E.jsx("p",{className:"welcome-modal-subtitle",children:"Login to save your notes across devices."}),E.jsxs("div",{className:"welcome-modal-actions",children:[E.jsx("button",{className:"welcome-modal-button primary",onClick:r,children:"Login"}),E.jsx("button",{className:"welcome-modal-button secondary",onClick:n,children:"Continue without Login"})]})]})})}const Cm="gegraptai-welcome-shown";function k_(){const[l,n]=Q.useState([]),[s,r]=Q.useState(null),[c,h]=Q.useState(null),[d,g]=Q.useState(!1),[m,v]=Q.useState(!1),[_,b]=Q.useState(!1),{user:T,logout:C,isAuthenticated:O,isInit:D}=v_(),H=Q.useCallback(()=>{v(!0)},[]),{annotations:V,isLoading:q,isSyncing:G,getAnnotation:P,updateMorphTag:ve,updateNote:ee,updateColor:X,exportAnnotations:Ne,importAnnotations:ze}=g_(T),{settings:Ht,setTheme:jt,setFontSizeHebrew:it,setFontSizeGreek:Ft,setFontFamilyHebrew:qt,setFontFamilyGreek:mt,setLineHeight:k,updateSetting:$}=y_();Q.useEffect(()=>{if(!D)return;(async()=>{try{const _e=await Ro("GEN",1,1,1,"hebrew"),Vt=await Ro("JHN",1,1,1,"greek");n([..._e,...Vt])}catch(_e){console.error("Failed to load initial verses",_e)}})(),localStorage.getItem(Cm)||b(!0)},[D]);const ae=Q.useCallback(()=>{b(!1),localStorage.setItem(Cm,"true")},[]),Se=Q.useCallback(async se=>{if(!se.trim()){n([]),h(null),r(null);return}const Me=E_(se);if(Me.length===0){h("Invalid Bible passage format () Ex: Gen 1:1, Ps 23"),n([]),r(null);return}const _e=[];let Vt=!1;for(const Xt of Me){const Sn=S_(Xt.bookId);if(Sn)try{const Ia=await Ro(Xt.bookId,Xt.chapter,Xt.startVerse,Xt.endVerse,Sn.lang);Ia.length===0?Vt=!0:_e.push(...Ia)}catch(Ia){Vt=!0,console.error("Error loading verses",Ia)}}_e.length===0&&Vt?(h("Not Found: "),n([])):(h(null),n(_e)),r(null)},[]),we=Q.useCallback(se=>{r(se.id)},[]),w=Q.useCallback(()=>{r(null)},[]),L=Q.useCallback(se=>{$("showMorphUnderWords",se)},[$]),K=Q.useCallback(se=>{$("showHighlights",se)},[$]),I=Q.useCallback(()=>{window.print()},[]),le=Q.useMemo(()=>{if(!s)return null;for(const se of l){const Me=se.words.find(_e=>_e.id===s);if(Me)return Me}return null},[l,s]),ce=Q.useMemo(()=>{if(s)return P(s)},[s,P]);return E.jsxs("div",{className:"app",onClick:w,children:[E.jsxs("header",{className:"app-header",onClick:se=>se.stopPropagation(),children:[E.jsxs("div",{className:"app-logo",children:[" ",E.jsx("span",{children:"Gegraptai"})]}),E.jsx(jy,{onSubmit:Se,error:c}),E.jsxs("div",{className:"header-actions",children:[E.jsx("a",{href:"https://www.buymeacoffee.com/tzkOt5b5yf",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",height:"40px"},children:E.jsx("img",{src:"https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=tzkOt5b5yf&button_colour=676767&font_colour=ffffff&font_family=Cookie&outline_colour=ffffff&coffee_colour=FFDD00",alt:"Buy me a coffee",style:{height:"100%",borderRadius:"8px"}})}),E.jsx("button",{className:"print-button",onClick:I,title:"Print / PDF Export",disabled:l.length===0,children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M6 9V2h12v7"}),E.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),E.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),E.jsx(Uy,{onClick:()=>g(!0)}),E.jsx("button",{className:`auth-toggle ${O?"is-authenticated":""}`,onClick:O?C:H,title:O?"Logout":"Login",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:"20px",height:"20px"},children:[E.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),E.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]})]}),E.jsxs("main",{className:"app-main",children:[c&&E.jsx("div",{className:"app-error-message",children:c}),E.jsx(Ny,{verses:l,selectedWordId:s,settings:Ht,annotations:V,onWordClick:we}),E.jsx(D_,{isOpen:m,onClose:()=>v(!1)}),E.jsx(U_,{isOpen:_,onClose:ae,onLoginClick:H})]}),E.jsx(xy,{selectedWord:le,annotation:ce,showMorphUnderWords:Ht.showMorphUnderWords,showHighlights:Ht.showHighlights,onMorphTagChange:ve,onNoteChange:ee,onShowMorphToggle:L,onShowHighlightsToggle:K,onColorChange:X,isSyncing:G,isLoading:q,isAuthenticated:O,onLogin:H}),E.jsx(Dy,{isOpen:d,onClose:()=>g(!1),settings:Ht,onThemeChange:jt,onFontSizeHebrewChange:it,onFontSizeGreekChange:Ft,onFontFamilyHebrewChange:qt,onFontFamilyGreekChange:mt,onLineHeightChange:k,onExportAnnotations:Ne,onImportAnnotations:ze}),E.jsx("footer",{className:"app-footer",children:E.jsxs("div",{className:"footer-content",children:[E.jsxs("p",{children:["Copyright  ",new Date().getFullYear()," Jimi Takaishi"]}),E.jsxs("div",{className:"footer-citations",children:[E.jsxs("p",{children:["OSHB (Open Scriptures Hebrew Bible) "," ",E.jsx("a",{href:"https://hb.openscriptures.org/index.html",target:"_blank",rel:"noopener noreferrer",children:"https://hb.openscriptures.org/index.html"})]}),E.jsxs("p",{children:["Tauber, J. K., ed. (2017) MorphGNT: SBLGNT Edition. Version 6.12 [Data set]. "," ",E.jsx("a",{href:"https://github.com/morphgnt/sblgnt",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/morphgnt/sblgnt"})," "," ","DOI: 10.5281/zenodo.376200"]})]})]})})]})}Ry.createRoot(document.getElementById("root")).render(E.jsx(Q.StrictMode,{children:E.jsx(k_,{})}));
