:root{--color-bg-primary: #fafafa;--color-bg-secondary: #f0f0f5;--color-bg-tertiary: #e8e8f0;--color-bg-panel: #ffffff;--color-text-primary: #1a1a2e;--color-text-secondary: #4a4a6a;--color-text-muted: #8a8aa0;--color-text-inverse: #ffffff;--color-accent: #4361ee;--color-accent-hover: #3451de;--color-accent-light: rgba(67, 97, 238, .12);--color-border: #e0e0e8;--color-border-focus: #4361ee;--color-word-hover: rgba(67, 97, 238, .08);--color-word-selected: rgba(67, 97, 238, .15);--color-verse-number: #b0b0c0;--font-family-ui: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--font-family-hebrew: "SBL Hebrew", "Noto Serif Hebrew", "Noto Sans Hebrew", "Ezra SIL", serif;--font-family-greek: "SBL Greek", "Noto Serif", "Gentium Plus", serif;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--font-size-3xl: 1.875rem;--line-height-tight: 1.25;--line-height-normal: 1.5;--line-height-relaxed: 1.75;--line-height-loose: 2;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--radius-sm: .25rem;--radius-md: .5rem;--radius-lg: .75rem;--radius-xl: 1rem;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px rgba(0, 0, 0, .07);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .1);--shadow-panel: 0 2px 8px rgba(0, 0, 0, .06);--transition-fast: .1s ease;--transition-normal: .2s ease;--transition-slow: .3s ease;--header-height: 64px;--panel-height: 280px;--max-content-width: 900px}[data-theme=dark]{--color-bg-primary: #0f0f1a;--color-bg-secondary: #1a1a2e;--color-bg-tertiary: #252540;--color-bg-panel: #1e1e32;--color-text-primary: #e8e8f0;--color-text-secondary: #b0b0c8;--color-text-muted: #7070a0;--color-text-inverse: #1a1a2e;--color-accent: #6b8cff;--color-accent-hover: #8aa4ff;--color-accent-light: rgba(107, 140, 255, .15);--color-border: #2a2a45;--color-border-focus: #6b8cff;--color-word-hover: rgba(107, 140, 255, .1);--color-word-selected: rgba(107, 140, 255, .2);--color-verse-number: #5a5a80;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .2);--shadow-md: 0 4px 6px rgba(0, 0, 0, .25);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .3);--shadow-panel: 0 2px 8px rgba(0, 0, 0, .2)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:var(--font-family-ui);font-size:var(--font-size-base);line-height:var(--line-height-normal);color:var(--color-text-primary);background-color:var(--color-bg-primary);min-height:100vh}.app{display:flex;flex-direction:column;min-height:100vh}.app-header{position:sticky;top:0;z-index:100;height:var(--header-height);background:var(--color-bg-panel);border-bottom:1px solid var(--color-border);box-shadow:var(--shadow-sm);display:flex;align-items:center;padding:0 var(--space-6);gap:var(--space-4)}.app-logo{font-size:var(--font-size-lg);font-weight:600;color:var(--color-accent);letter-spacing:-.02em}.header-actions{margin-left:auto;display:flex;align-items:center;gap:var(--space-2)}.print-button{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:transparent;border:none;border-radius:var(--radius-md);color:var(--color-text-secondary);cursor:pointer;transition:background-color var(--transition-fast),color var(--transition-fast)}.print-button:hover:not(:disabled){background:var(--color-bg-secondary);color:var(--color-text-primary)}.print-button:disabled{opacity:.4;cursor:not-allowed}.print-button svg{width:20px;height:20px}.app-main{flex:1;display:flex;flex-direction:column;max-width:var(--max-content-width);width:100%;margin:0 auto;padding:var(--space-6)}.app-error-message{padding:var(--space-3) var(--space-4);background:#e539351a;border-radius:var(--radius-md);color:#e53935;margin-bottom:var(--space-4);font-size:var(--font-size-sm);border:1px solid rgba(229,57,53,.2)}.reference-input-wrapper{flex:1;max-width:320px;display:flex;align-items:center;position:relative}.reference-input{width:100%;height:40px;padding:0 44px 0 var(--space-4);font-size:var(--font-size-base);font-family:var(--font-family-ui);color:var(--color-text-primary);background:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:var(--radius-lg);outline:none;transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.reference-input::placeholder{color:var(--color-text-muted)}.reference-input:focus{border-color:var(--color-border-focus);box-shadow:0 0 0 3px var(--color-accent-light)}.reference-input.error{border-color:#e53935}.reference-submit-button{position:absolute;right:4px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-md);color:var(--color-text-secondary);cursor:pointer;transition:background-color var(--transition-fast),color var(--transition-fast)}.reference-submit-button:hover{background:var(--color-bg-tertiary);color:var(--color-accent)}.reference-submit-button svg{width:18px;height:18px}.text-display{flex:1;padding:var(--space-6) 0;overflow-y:auto}.text-display-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;color:var(--color-text-muted);text-align:center}.text-display-empty-icon{font-size:3rem;margin-bottom:var(--space-4);opacity:.5}.text-display-empty-text{font-size:var(--font-size-lg)}.text-display-hint{font-size:var(--font-size-sm);margin-top:var(--space-2)}.verse{margin-bottom:var(--space-6)}.verse-content{display:flex;flex-wrap:wrap;align-items:baseline;gap:var(--space-1);line-height:var(--line-height, 1.6)}.verse-content.rtl{direction:rtl;text-align:right}.verse-content.ltr{direction:ltr;text-align:left}.verse-number{font-size:var(--font-size-sm);font-weight:500;color:var(--color-verse-number);margin-inline-end:var(--space-2);vertical-align:super;-webkit-user-select:none;user-select:none}.word{display:inline-flex;flex-direction:column;align-items:center;padding:var(--space-1) var(--space-2);margin:var(--space-1) .15em;border-radius:var(--radius-sm);cursor:pointer;transition:background-color var(--transition-fast);-webkit-user-select:none;user-select:none}.word:hover{background-color:var(--color-word-hover)}.word.selected{background-color:var(--color-word-selected);color:var(--color-accent)}.word-surface{display:block}.word.with-morph{padding-bottom:var(--space-2)}.word-morph{display:block;font-family:var(--font-family-ui);font-size:12px;color:var(--color-text-muted);margin-top:2px;letter-spacing:.02em}.word.selected .word-morph{color:var(--color-accent)}.word-hebrew,.word-aramaic{font-family:var(--font-family-hebrew);font-size:var(--font-size-2xl)}.word-hebrew .word-surface,.word-aramaic .word-surface{font-family:var(--font-family-hebrew)}.word-greek{font-family:var(--font-family-greek);font-size:var(--font-size-xl)}.word-greek .word-surface{font-family:var(--font-family-greek)}.detail-panel{position:sticky;bottom:0;background:var(--color-bg-panel);border-top:1px solid var(--color-border);box-shadow:var(--shadow-panel);min-height:var(--panel-height);padding:var(--space-5) var(--space-6);transition:min-height var(--transition-normal)}.detail-panel.is-empty{min-height:auto;padding:var(--space-4) var(--space-6)}.detail-panel-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text-muted);text-align:center;gap:var(--space-3)}.detail-panel-hint{font-size:var(--font-size-sm)}.detail-panel-content{display:grid;grid-template-columns:auto 1fr;gap:var(--space-5);align-items:start}.detail-word-display{padding:var(--space-4) var(--space-6);background:var(--color-bg-secondary);border-radius:var(--radius-lg);text-align:center}.detail-word-text{font-size:var(--font-size-3xl);margin-bottom:var(--space-2)}.detail-word-text.hebrew,.detail-word-text.aramaic{font-family:var(--font-family-hebrew)}.detail-word-text.greek{font-family:var(--font-family-greek)}.detail-word-ref{font-size:var(--font-size-xs);color:var(--color-text-muted)}.detail-fields{display:flex;flex-direction:column;gap:var(--space-4)}.detail-field{display:flex;flex-direction:column;gap:var(--space-2)}.detail-field.is-flexible{flex:1}.detail-field-label{font-size:var(--font-size-sm);font-weight:500;color:var(--color-text-secondary)}.detail-field-input{width:100%;padding:var(--space-3);font-size:var(--font-size-base);font-family:var(--font-family-ui);color:var(--color-text-primary);background:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:var(--radius-md);outline:none;transition:border-color var(--transition-fast)}.detail-field-input:focus{border-color:var(--color-border-focus)}.detail-field-textarea{min-height:100px;resize:vertical;line-height:var(--line-height-relaxed)}.detail-panel-options{margin-top:0}.detail-footer-row{display:flex;justify-content:space-between;align-items:center}.save-indicator{font-size:var(--font-size-xs);color:var(--color-text-secondary);transition:opacity var(--transition-slow)}.detail-checkbox{display:flex;align-items:center;gap:var(--space-2);cursor:pointer;margin-right:var(--space-4);font-size:var(--font-size-sm);color:var(--color-text-secondary)}.detail-checkbox input[type=checkbox]{width:16px;height:16px;accent-color:var(--color-accent);cursor:pointer}.detail-checkbox-label{-webkit-user-select:none;user-select:none}.detail-checkbox:hover .detail-checkbox-label{color:var(--color-text-primary)}.detail-field-row{display:flex;gap:var(--space-4);align-items:flex-end}.color-picker-group{display:flex;gap:var(--space-2);padding-bottom:4px;flex-wrap:wrap}.color-radio{cursor:pointer;display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;border:2px solid transparent;transition:all var(--transition-fast)}.color-radio:hover{transform:scale(1.1)}.color-radio.active{border-color:var(--color-accent);transform:scale(1.1)}.color-radio input{display:none}.color-swatch{width:100%;height:100%;border-radius:50%;position:relative;overflow:hidden;border:1px solid var(--color-border)}.no-color-slash{position:absolute;top:50%;left:50%;width:100%;height:1px;background:red;transform:translate(-50%,-50%) rotate(-45deg)}.settings-toggle{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:transparent;border:none;border-radius:var(--radius-md);color:var(--color-text-secondary);cursor:pointer;transition:background-color var(--transition-fast),color var(--transition-fast)}.settings-toggle:hover{background:var(--color-bg-secondary);color:var(--color-text-primary)}.settings-toggle svg{width:20px;height:20px}.settings-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0006;z-index:200;opacity:0;visibility:hidden;transition:opacity var(--transition-normal),visibility var(--transition-normal)}.settings-overlay.open{opacity:1;visibility:visible}.settings-panel{position:fixed;top:0;right:0;bottom:0;width:320px;background:var(--color-bg-panel);box-shadow:var(--shadow-lg);z-index:201;transform:translate(100%);transition:transform var(--transition-normal);display:flex;flex-direction:column}.settings-overlay.open .settings-panel{transform:translate(0)}.settings-header{position:sticky;top:0;display:flex;align-items:center;justify-content:space-between;padding:var(--space-4) var(--space-6);padding-top:calc(var(--space-4) + env(safe-area-inset-top,0px));background:var(--color-bg-panel);border-bottom:1px solid var(--color-border);z-index:100}.settings-title{font-size:var(--font-size-lg);font-weight:600}.settings-close{display:flex;align-items:center;justify-content:center;width:44px;height:44px;margin-right:-10px;background:var(--color-bg-secondary);border:none;border-radius:50%;color:var(--color-text-primary);cursor:pointer;transition:transform var(--transition-fast),background-color var(--transition-fast);box-shadow:var(--shadow-sm)}.settings-close:hover{background:var(--color-bg-tertiary);transform:scale(1.05)}.settings-close:active{transform:scale(.95)}.settings-close svg{width:24px;height:24px}.settings-body{flex:1;padding:var(--space-6);overflow-y:auto;padding-bottom:calc(var(--space-6) + env(safe-area-inset-bottom,0px))}.settings-section{margin-bottom:var(--space-6)}.settings-section-title{font-size:var(--font-size-sm);font-weight:600;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--space-4)}.settings-field{margin-bottom:var(--space-4)}.settings-label{display:block;font-size:var(--font-size-sm);color:var(--color-text-secondary);margin-bottom:var(--space-2)}.settings-select,.settings-slider-input{width:100%;padding:var(--space-3);font-size:var(--font-size-base);color:var(--color-text-primary);background:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:var(--radius-md);outline:none}.settings-slider{display:flex;align-items:center;gap:var(--space-3)}.settings-slider input[type=range]{flex:1;height:4px;background:var(--color-bg-tertiary);border-radius:2px;-moz-appearance:none;appearance:none;-webkit-appearance:none}.settings-slider input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:var(--color-accent);border-radius:50%;cursor:pointer}.settings-slider-value{min-width:32px;text-align:right;font-size:var(--font-size-sm);color:var(--color-text-muted)}.theme-toggle{display:flex;background:var(--color-bg-secondary);border-radius:var(--radius-md);padding:var(--space-1)}.theme-toggle-option{flex:1;padding:var(--space-2) var(--space-3);font-size:var(--font-size-sm);font-weight:500;color:var(--color-text-secondary);background:transparent;border:none;border-radius:var(--radius-sm);cursor:pointer;transition:background-color var(--transition-fast),color var(--transition-fast)}.theme-toggle-option:hover{color:var(--color-text-primary)}.theme-toggle-option.active{background:var(--color-bg-panel);color:var(--color-accent);box-shadow:var(--shadow-sm)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media(max-width:600px){:root{--header-height: 56px;--panel-height: 240px}.app-header{padding:var(--space-2) var(--space-4);height:auto;min-height:var(--header-height);flex-wrap:wrap;gap:var(--space-2) var(--space-4)}.app-logo span{display:none}.header-actions{order:2}.reference-input-wrapper{order:3;flex:none;width:100%;max-width:none;margin-bottom:var(--space-1)}.detail-panel-content{grid-template-columns:1fr;gap:var(--space-3)}.detail-word-text{font-size:var(--font-size-xl)}.detail-word-display{justify-self:center;padding:var(--space-3) var(--space-4)}.settings-panel{width:100%}}.settings-actions{display:flex;gap:12px;flex-wrap:wrap}.settings-button{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:1px solid transparent;display:inline-flex;align-items:center;justify-content:center}.settings-button.primary{background-color:var(--color-accent);color:#fff}.settings-button.primary:hover{opacity:.9}.settings-button.secondary{background-color:transparent;border-color:var(--color-border);color:var(--color-text-primary)}.settings-button.secondary:hover{background:var(--color-bg-secondary)}.app-footer{padding:var(--space-6) var(--space-4);text-align:center;font-size:var(--font-size-xs);color:var(--color-text-muted);background:var(--color-bg-panel);border-top:1px solid var(--color-border)}.footer-citations{margin-top:var(--space-3);display:flex;flex-direction:column;gap:var(--space-1);line-height:var(--line-height-relaxed)}.footer-citations a{color:var(--color-accent);text-decoration:none;word-break:break-all}.footer-citations a:hover{text-decoration:underline}@media print{.app-header,.detail-panel,.settings-overlay{display:none!important}.app{min-height:auto}.app-main{max-width:none;padding:0;margin:0}.text-display{padding:20px 0}.verse{margin-bottom:20px;page-break-inside:avoid}.verse-content{line-height:2.5}.word{background:none!important;color:#000!important;margin:2px 4px}.word-morph{color:#666!important;font-size:9px}.verse-number{color:#999!important}:root,[data-theme=dark]{--color-bg-primary: #fff;--color-text-primary: #000;--color-text-muted: #666;--color-verse-number: #999}}.word{transition:background-color .2s}
